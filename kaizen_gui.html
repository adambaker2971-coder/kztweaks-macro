<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>vantrix.cc</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800;900&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
          --custom-color: #dc2626;
          --custom-color-rgb: 220, 38, 38;
          --custom-color-dark: rgb(170, 0, 0);
          --custom-color-light: rgb(255, 88, 88);
          /* Professional color palette */
          --bg-primary: #000000;
          --bg-secondary: #0a0a0a;
          --bg-tertiary: #141414;
          --border-primary: #1a1a1a;
          --border-secondary: #262626;
          --text-primary: #ffffff;
          --text-secondary: #e0e0e0;
          --text-tertiary: #999999;
          --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.4);
          --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.5);
          --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.6);
      }

      * {
          margin: 0;
          padding: 0;
          box-sizing: border-box;
      }

      body {
          font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
          background: transparent;
          color: var(--text-secondary);
          overflow-x: hidden;
          -webkit-app-region: no-drag;
          line-height: 1.6;
          margin: 0;
          padding: 0;
          width: 100%;
          height: 100vh;
          -webkit-font-smoothing: antialiased;
          -moz-osx-font-smoothing: grayscale;
          text-rendering: optimizeLegibility;
      }

      html {
          background: transparent;
          width: 100%;
          height: 100%;
      }

      /* Container */
      .container {
          opacity: 0.781;
          transform: none;
          transition: none;
          pointer-events: all;
          visibility: visible;
          width: 650px;
          height: 450px;
          max-width: 650px;
          max-height: 450px;
          margin: 0 auto;
          overflow: hidden;
          backdrop-filter: blur(33.033px);
          -webkit-backdrop-filter: blur(33.033px);
          border: 4px solid rgba(80, 80, 80, 0.4);
      }

      .container.active {
          opacity: 1.0;
          transform: none;
          pointer-events: all;
          visibility: visible;
      }

      .header,
      .section-title,
      .instructions-box,
      .about-hero {
          transition: none;
      }

      .tab,
      .btn-start,
      .keybind-button {
          transition: none;
      }

      /* ===== ENTERPRISE-LEVEL LOADING SCREEN ===== */
      #loading-screen {
          position: fixed;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          width: 616px;
          height: 441.75px;
          max-width: 616px;
          max-height: 441.75px;
          background: rgba(60, 60, 60, 0.85);
          backdrop-filter: blur(20px);
          -webkit-backdrop-filter: blur(20px);
          z-index: 10000;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          opacity: 1;
          visibility: visible;
          transition: opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1), 
                      transform 0.8s cubic-bezier(0.4, 0, 0.2, 1),
                      visibility 0.8s ease;
          overflow: hidden;
          border-radius: 0px;
          border: 1px solid rgba(255, 255, 255, 0.1);
          box-shadow: 0 25px 80px rgba(0, 0, 0, 0.8),
                      inset 0 1px 0 rgba(255, 255, 255, 0.05);
          padding: 0;
          margin: 0;
          cursor: move;
          -webkit-app-region: drag;
      }
      
      /* Title Bar */
      .loading-titlebar {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          display: flex;
          justify-content: flex-end;
          align-items: center;
          padding: 12px 16px;
          background: transparent;
          border-bottom: 1px solid rgba(255, 255, 255, 0.08);
          -webkit-app-region: drag;
          height: 40px;
          z-index: 100;
      }
      
      .loading-titlebar-controls {
          display: flex;
          gap: 0;
          -webkit-app-region: no-drag;
      }
      
      .loading-titlebar-btn {
          width: 40px;
          height: 40px;
          border: none;
          background: rgba(var(--custom-color-rgb), 0.15);
          cursor: pointer;
          padding: 0;
          display: flex;
          align-items: center;
          justify-content: center;
          color: var(--custom-color);
          font-size: 24px;
          font-weight: 400;
          transition: all 0.2s;
          border-radius: 0px;
      }
      
      .loading-titlebar-btn:hover {
          background: rgba(var(--custom-color-rgb), 0.3);
          color: var(--custom-color-light);
          transform: scale(1.1);
      }
      
      .loading-titlebar-btn.close-btn:hover {
          background: rgba(220, 38, 38, 0.3);
          color: #ff4444;
      }
      
      /* Make form elements non-draggable so they're still interactive */
      #loading-screen input,
      #loading-screen button,
      #loading-screen a,
      #loading-screen .license-form,
      #loading-screen .license-form-container {
          -webkit-app-region: no-drag;
          cursor: default;
      }

      #loading-screen.fade-out {
          opacity: 0 !important;
          pointer-events: none !important;
          visibility: hidden !important;
          transform: translate(-50%, -50%) scale(0.98) !important;
          filter: blur(5px);
          transition: opacity 0.6s cubic-bezier(0.4, 0, 0.2, 1), 
                      transform 0.6s cubic-bezier(0.4, 0, 0.2, 1),
                      filter 0.6s cubic-bezier(0.4, 0, 0.2, 1),
                      visibility 0.6s ease !important;
      }

      /* Loading screen constellation canvas */
      #loading-constellation-canvas {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          z-index: 1;
          opacity: 0.75;
          pointer-events: none;
      }

      /* Raindrops container */
      .raindrops-container {
          display: none !important;
          visibility: hidden !important;
          opacity: 0 !important;
      }

      .raindrop {
          position: absolute;
          width: 2px;
          height: 20px;
          background: linear-gradient(to bottom, 
              rgba(255, 255, 255, 0.15) 0%, 
              rgba(255, 255, 255, 0.05) 50%, 
              transparent 100%);
          border-radius: 50%;
          animation: fall linear infinite;
          opacity: 0.3;
      }

      @keyframes fall {
          0% {
              transform: translateY(-100px);
              opacity: 0;
          }
          10% {
              opacity: 0.3;
          }
          90% {
              opacity: 0.3;
          }
          100% {
              transform: translateY(calc(100vh + 100px));
              opacity: 0;
          }
      }

      .loading-logo-container {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          margin-bottom: 0;
          position: relative;
          z-index: 5;
          padding: 20px 50px;
          background: transparent;
          min-height: auto;
          width: 100%;
      }
      
      /* Logo SVG - positioned in top left */
      .loading-logo-img {
          width: 60px;
          height: 60px;
          font-family: 'Inter', sans-serif;
          line-height: 1;
          position: absolute;
          top: 30px;
          left: 30px;
          z-index: 20;
          filter: drop-shadow(0 0 20px rgba(var(--custom-color-rgb), 0.6))
                  drop-shadow(0 0 40px rgba(var(--custom-color-rgb), 0.4));
          transition: filter 0.5s ease;
      }
      
      /* Logo SVG path - changes color with theme */
      .loading-logo-img path {
          fill: var(--custom-color);
          transition: fill 0.5s ease;
      }
      
      /* App Title */
      .loading-app-title {
          display: flex;
          align-items: baseline;
          gap: 10px;
          margin-bottom: 25px;
          justify-content: center;
      }
      
      .loading-app-name {
          font-size: 32px;
          font-weight: 700;
          color: #ffffff;
          text-shadow: 0 0 15px rgba(255, 255, 255, 0.5);
          font-family: 'Montserrat', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
          letter-spacing: 1.5px;
      }
      
      .loading-app-version {
          font-size: 22px;
          font-weight: 600;
          color: var(--custom-color);
          text-shadow: 0 0 15px rgba(var(--custom-color-rgb), 0.6);
          font-family: 'Inter', sans-serif;
      }


      /* Premium animated text */
      .loading-top-text {
          font-size: 8px;
          font-weight: 700;
          letter-spacing: 4px;
          color: rgba(255, 255, 255, 0.5);
          margin-bottom: 18px;
          display: flex;
          gap: 2.5px;
          text-transform: uppercase;
      }

      .loading-top-text span {
          display: inline-block;
          animation: waveDisappear 3s ease-in-out forwards;
          opacity: 1;
      }

      /* Stagger the animation for each letter */
      .loading-top-text span:nth-child(1) { animation-delay: 0.05s; }
      .loading-top-text span:nth-child(2) { animation-delay: 0.1s; }
      .loading-top-text span:nth-child(3) { animation-delay: 0.15s; }
      .loading-top-text span:nth-child(4) { animation-delay: 0.2s; }
      .loading-top-text span:nth-child(5) { animation-delay: 0.25s; }
      .loading-top-text span:nth-child(6) { animation-delay: 0.3s; }
      .loading-top-text span:nth-child(7) { animation-delay: 0.35s; }
      .loading-top-text span:nth-child(8) { animation-delay: 0.4s; }
      .loading-top-text span:nth-child(9) { animation-delay: 0.45s; }
      .loading-top-text span:nth-child(10) { animation-delay: 0.5s; }
      .loading-top-text span:nth-child(11) { animation-delay: 0.55s; }
      .loading-top-text span:nth-child(12) { animation-delay: 0.6s; }
      .loading-top-text span:nth-child(13) { animation-delay: 0.65s; }
      .loading-top-text span:nth-child(14) { animation-delay: 0.7s; }
      .loading-top-text span:nth-child(15) { animation-delay: 0.75s; }
      .loading-top-text span:nth-child(16) { animation-delay: 0.8s; }
      .loading-top-text span:nth-child(17) { animation-delay: 0.85s; }
      .loading-top-text span:nth-child(18) { animation-delay: 0.9s; }
      .loading-top-text span:nth-child(19) { animation-delay: 0.95s; }
      .loading-top-text span:nth-child(20) { animation-delay: 1s; }
      .loading-top-text span:nth-child(21) { animation-delay: 1.05s; }
      .loading-top-text span:nth-child(22) { animation-delay: 1.1s; }

      @keyframes waveDisappear {
          0% {
              opacity: 0;
              transform: translateY(-14px) scale(0.8);
              filter: blur(4px);
          }
          20% {
              opacity: 1;
              transform: translateY(0) scale(1);
              filter: blur(0px);
          }
          75% {
              opacity: 1;
              transform: translateY(0) scale(1);
              filter: blur(0px);
          }
          90% {
              opacity: 0.3;
              transform: translateY(14px) scale(0.9);
              filter: blur(2px);
          }
          100% {
              opacity: 0;
              transform: translateY(28px) scale(0.8);
              filter: blur(4px);
          }
      }

      /* Professional Vantrix Logo with Premium Design */
      .cursive-rk {
          font-family: 'Inter', sans-serif;
          font-size: 36px;
          font-weight: 800;
          letter-spacing: 0;
          margin-bottom: 6px;
          opacity: 0;
          animation: fadeInWrite 1.2s cubic-bezier(0.4, 0, 0.2, 1) 0.2s forwards;
          position: relative;
          text-transform: uppercase;
          overflow: visible;
          display: inline-block;
          padding-right: 12px;
          color: #ffffff;
          white-space: nowrap;
      }

      .vantrix-logo {
          display: inline-block;
          vertical-align: baseline;
          height: 1.6em;
          width: auto;
          margin: 0;
          padding: 0;
          border: 0;
          filter: none;
          transform: skew(-10deg, 0deg);
          object-fit: contain;
          line-height: 0;
      }

      .titlebar-title .vantrix-logo {
          height: 1.5em;
          margin: 0;
          padding: 0;
          border: 0;
          vertical-align: baseline;
          line-height: 0;
      }

      .vantrix-colored {
          background: linear-gradient(135deg, #ffffff 0%, var(--custom-color-light) 50%, var(--custom-color) 100%);
          background-size: 200% 200%;
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
          animation: gradientShift 4s ease-in-out infinite;
          filter: drop-shadow(0 0 30px rgba(var(--custom-color-rgb), 0.4));
          display: inline-block;
          font-style: italic;
          transform: skew(-10deg, 0deg);
      }

      .j-white,
      span.j-white {
          background: transparent !important;
          background-image: none !important;
          -webkit-background-clip: unset !important;
          -webkit-text-fill-color: #ffffff !important;
          background-clip: unset !important;
          color: #ffffff !important;
          display: inline-block !important;
          font-style: italic !important;
          transform: skew(-10deg, 0deg) !important;
          position: relative;
          z-index: 1;
      }

      .cursive-rk .j-white,
      .cursive-rk span.j-white,
      .cursive-rk > span.j-white {
          background: transparent !important;
          background-image: none !important;
          -webkit-background-clip: unset !important;
          -webkit-text-fill-color: #ffffff !important;
          background-clip: unset !important;
          color: #ffffff !important;
          filter: none !important;
      }

      /* Force white for J - override any parent styles */
      span.j-white,
      .j-white,
      .cursive-rk span.j-white,
      .titlebar-title span.j-white,
      div.titlebar-title span.j-white {
          color: #ffffff !important;
          -webkit-text-fill-color: #ffffff !important;
          background: none !important;
          background-image: none !important;
          -webkit-background-clip: unset !important;
          background-clip: unset !important;
      }


      .cursive-rk::after {
          display: none;
      }


      .cursive-rk::before {
          display: none;
      }

      .loading-labs-text {
          font-family: 'Inter', sans-serif;
          font-size: 11px;
          font-weight: 500;
          color: rgba(255, 255, 255, 0.4);
          letter-spacing: 6px;
          margin-top: 2px;
          margin-bottom: 20px;
          opacity: 0;
          animation: fadeInWrite 1.2s cubic-bezier(0.4, 0, 0.2, 1) 0.4s forwards;
          text-transform: uppercase;
      }

      /* License Key Form */
      .license-form-container {
          position: relative;
          width: 100%;
          display: flex !important;
          transition: opacity 0.5s cubic-bezier(0.4, 0, 0.2, 1), 
                      transform 0.5s cubic-bezier(0.4, 0, 0.2, 1),
                      visibility 0.5s ease;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          z-index: 10;
          background: transparent;
          opacity: 1 !important;
          visibility: visible !important;
          pointer-events: all !important;
          margin-top: 0;
          padding: 0;
      }

      .license-form-container.show {
          opacity: 1 !important;
          visibility: visible !important;
          pointer-events: all !important;
      }

      .license-form {
          display: flex;
          flex-direction: column;
          align-items: stretch;
          gap: 20px;
          width: 100%;
          padding: 0 50px;
          background: transparent;
          backdrop-filter: none;
          -webkit-backdrop-filter: none;
          border: none;
          position: relative;
          z-index: 10;
          box-shadow: none;
      }

      .license-form-title {
          font-family: 'Inter', sans-serif;
          font-size: 15px;
          font-weight: 600;
          color: #ffffff;
          margin-bottom: 4px;
          text-align: center;
          letter-spacing: 0.5px;
      }

      .license-form-description {
          display: none !important;
      }

      .license-input-label {
          font-size: 12px;
          color: rgba(255, 255, 255, 0.7);
          margin-bottom: 8px;
          font-family: 'Inter', sans-serif;
      }
      
      .license-input {
          width: 100%;
          padding: 0;
          background: transparent;
          border: none;
          border-bottom: 2px solid var(--custom-color);
          border-radius: 0;
          color: #ffffff;
          font-family: 'Inter', sans-serif;
          font-size: 14px;
          font-weight: 500;
          letter-spacing: 1px;
          text-align: left;
          text-transform: none;
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
          box-shadow: none;
          padding-bottom: 8px;
      }

      .license-input::placeholder {
          color: rgba(255, 255, 255, 0.3);
          letter-spacing: 1px;
          font-weight: 400;
      }

      .license-input:focus {
          outline: none;
          border-bottom-color: var(--custom-color-light);
          box-shadow: 0 2px 0 rgba(var(--custom-color-rgb), 0.3);
      }
      
      /* Remember Me Toggle */
      .remember-me-container {
          display: flex;
          align-items: center;
          gap: 10px;
          margin-top: 8px;
      }
      
      .remember-me-label {
          font-size: 12px;
          color: rgba(255, 255, 255, 0.7);
          font-family: 'Inter', sans-serif;
      }
      
      .remember-me-toggle {
          position: relative;
          width: 40px;
          height: 20px;
          background: #2a2a2a;
          border-radius: 10px;
          cursor: pointer;
          transition: background 0.3s;
      }
      
      .remember-me-toggle.active {
          background: var(--custom-color);
      }
      
      .remember-me-toggle::after {
          content: '';
          position: absolute;
          width: 16px;
          height: 16px;
          background: #ffffff;
          border-radius: 50%;
          top: 2px;
          left: 2px;
          transition: transform 0.3s;
      }
      
      .remember-me-toggle.active::after {
          transform: translateX(20px);
      }

      .license-submit-btn {
          width: 100%;
          padding: 16px 24px;
          background: var(--custom-color);
          border: none;
          border-radius: 0px;
          color: #ffffff;
          font-family: 'Inter', sans-serif;
          font-size: 15px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
          text-transform: none;
          letter-spacing: 0.5px;
          position: relative;
          overflow: visible;
          box-shadow: 0 4px 12px rgba(var(--custom-color-rgb), 0.3);
          margin-top: 10px;
      }

      .license-submit-btn:hover:not(:disabled) {
          background: var(--custom-color-light);
          color: #ffffff;
          transform: translateY(-2px);
          box-shadow: 0 6px 16px rgba(var(--custom-color-rgb), 0.4);
      }
      
      /* Bottom Icons */
      .loading-bottom-icons {
          position: absolute;
          bottom: 20px;
          right: 20px;
          display: flex;
          gap: 16px;
          z-index: 10;
      }
      
      .loading-bottom-icon {
          width: 24px;
          height: 24px;
          color: var(--custom-color);
          cursor: pointer;
          transition: color 0.3s;
      }
      
      .loading-bottom-icon:hover {
          color: var(--custom-color-light);
      }
      
      .loading-bottom-icon svg {
          width: 100%;
          height: 100%;
          fill: currentColor;
      }

      .license-submit-btn:active:not(:disabled) {
          transform: translateY(0);
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3),
                      0 0 0 1px rgba(255, 255, 255, 0.05) inset;
      }

      .license-submit-btn:disabled {
          opacity: 0.5;
          cursor: not-allowed;
          transform: none;
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3),
                      0 0 0 1px rgba(255, 255, 255, 0.05) inset;
      }

      .license-submit-btn:focus {
          outline: none;
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3),
                      0 0 0 1px rgba(255, 255, 255, 0.1) inset,
                      0 0 0 3px rgba(255, 255, 255, 0.1);
      }

      .license-submit-btn.hidden {
          display: none !important;
      }

      /* Loading Bar */
      .license-loading-bar {
          display: none;
          width: 100%;
          height: 3px;
          background: rgba(255, 255, 255, 0.08);
          border-radius: 0px;
          overflow: hidden;
          position: relative;
      }

      .license-loading-bar.active {
          display: block;
      }

      .license-loading-bar-fill {
          height: 100%;
          width: 0%;
          background: linear-gradient(90deg, var(--custom-color), var(--custom-color-light), var(--custom-color));
          background-size: 200% 100%;
          animation: loadingProgress 1.5s ease-in-out infinite, shimmer 1s linear infinite;
          position: relative;
          border-radius: 0px;
          box-shadow: 0 0 10px rgba(var(--custom-color-rgb), 0.5);
      }

      @keyframes loadingProgress {
          0% {
              width: 0%;
              left: 0%;
          }
          50% {
              width: 70%;
              left: 0%;
          }
          100% {
              width: 100%;
              left: 100%;
          }
      }

      @keyframes shimmer {
          0% {
              background-position: -200% 0;
          }
          100% {
              background-position: 200% 0;
          }
      }

      .license-message {
          display: none !important;
          visibility: hidden !important;
          opacity: 0 !important;
          height: 0 !important;
          margin: 0 !important;
          padding: 0 !important;
      }

      .license-message.show {
          display: none !important;
      }

      .license-message.success {
          display: none !important;
      }

      .license-message.error {
          display: none !important;
      }

      .license-discord-link {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 8px;
          margin-top: 8px;
          color: rgba(255, 255, 255, 0.5);
          font-family: 'Inter', sans-serif;
          font-size: 11px;
          text-decoration: none;
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
          padding: 8px 14px;
          border-radius: 0px;
          border: 1px solid transparent;
          letter-spacing: 0.3px;
      }

      .license-discord-link:hover {
          color: #5865f2;
          background: rgba(88, 101, 242, 0.1);
          border-color: rgba(88, 101, 242, 0.2);
          transform: translateY(-2px);
      }

      .license-discord-icon {
          width: 16px;
          height: 16px;
          fill: currentColor;
          transition: transform 0.3s ease;
      }

      .license-discord-link:hover .license-discord-icon {
          transform: scale(1.1);
      }

      @keyframes fadeInWrite {
          0% {
              opacity: 0;
              transform: translateY(21px) scale(0.85);
          }
          100% {
              opacity: 1;
              transform: translateY(0) scale(1);
          }
      }

      .loading-logo {
          font-size: 8.4px;
          font-weight: 800;
          letter-spacing: 4.2px;
          color: #e6e6e6;
          margin-bottom: 25.2px;
          display: flex;
          gap: 2.1px;
          text-transform: uppercase;
      }

      .loading-logo span {
          display: inline-block;
          animation: waveDisappear 3s ease-in-out forwards;
          opacity: 1;
      }

      /* Stagger the animation for bottom text */
      .loading-logo span:nth-child(1) { animation-delay: 0.05s; }
      .loading-logo span:nth-child(2) { animation-delay: 0.1s; }
      .loading-logo span:nth-child(3) { animation-delay: 0.15s; }
      .loading-logo span:nth-child(4) { animation-delay: 0.2s; }
      .loading-logo span:nth-child(5) { animation-delay: 0.25s; }
      .loading-logo span:nth-child(6) { animation-delay: 0.3s; }
      .loading-logo span:nth-child(7) { animation-delay: 0.35s; }
      .loading-logo span:nth-child(8) { animation-delay: 0.4s; }
      .loading-logo span:nth-child(9) { animation-delay: 0.45s; }
      .loading-logo span:nth-child(10) { animation-delay: 0.5s; }
      .loading-logo span:nth-child(11) { animation-delay: 0.55s; }
      .loading-logo span:nth-child(12) { animation-delay: 0.6s; }
      .loading-logo span:nth-child(13) { animation-delay: 0.65s; }
      .loading-logo span:nth-child(14) { animation-delay: 0.7s; }
      .loading-logo span:nth-child(15) { animation-delay: 0.75s; }
      .loading-logo span:nth-child(16) { animation-delay: 0.8s; }
      .loading-logo span:nth-child(17) { animation-delay: 0.85s; }
      .loading-logo span:nth-child(18) { animation-delay: 0.9s; }
      .loading-logo span:nth-child(19) { animation-delay: 0.95s; }
      .loading-logo span:nth-child(20) { animation-delay: 1s; }
      .loading-logo span:nth-child(21) { animation-delay: 1.05s; }
      .loading-logo span:nth-child(22) { animation-delay: 1.1s; }

      @keyframes fadeInText {
          0% {
              opacity: 0;
              transform: translateY(14px);
          }
          100% {
              opacity: 1;
              transform: translateY(0);
          }
      }

      .loading-bar-container {
          display: none !important;
          visibility: hidden !important;
          width: 280px;
          max-width: 85%;
          margin-top: 20px;
          opacity: 0;
          animation: fadeIn 0.8s cubic-bezier(0.4, 0, 0.2, 1) 1.6s forwards;
          position: relative;
          border-radius: 20px;
      }

      @keyframes fadeIn {
          0% {
              opacity: 0;
              transform: translateY(14px) scale(0.95);
          }
          100% {
              opacity: 1;
              transform: translateY(0) scale(1);
          }
      }

      .loading-bar {
          width: 100%;
          height: 8.4px;
          background: #1a1a1a;
          border-radius: 20px;
          overflow: hidden;
          box-shadow: 0 0 0 1px #262626;
          position: relative;
      }
      .loading-bar-fill {
          height: 100%;
          background: var(--custom-color);
          border-radius: 24px;
          width: 0%;
          position: relative;
          transition: width 0.3s ease;
      }


      .loading-version {
          font-size: 7px;
          font-weight: 700;
          color: #808080;
          letter-spacing: 2.1px;
          margin-top: 16.8px;
          opacity: 0;
          animation: fadeIn 0.8s cubic-bezier(0.4, 0, 0.2, 1) 1.2s forwards;
          text-transform: uppercase;
          padding: 4.2px 11.2px;
          background: #080808;
          border-radius: 20px;
          border: 1px solid #141414;
          backdrop-filter: blur(15.015px);
      }

      .loading-status {
          font-size: 9.1px;
          font-weight: 600;
          color: #cccccc;
          margin-top: 8.4px;
          opacity: 0;
          animation: fadeIn 0.8s cubic-bezier(0.4, 0, 0.2, 1) 1.4s forwards,
                     pulse 2.5s ease-in-out 1.4s infinite;
          letter-spacing: 0.7px;
      }

      @keyframes pulse {
          0%, 100% {
              opacity: 0.7;
              transform: translateY(0);
          }
          50% {
              opacity: 1;
              transform: translateY(-2.1px);
          }
      }

      .loading-percentage {
          font-size: 9.1px;
          font-weight: 800;
          color: #e0e0e0;
          text-align: center;
          margin-top: 11.2px;
          letter-spacing: 2.1px;
      }

      /* ===== ANIMATED TITLEBAR ===== */
      .titlebar {
          -webkit-app-region: drag;
          background: linear-gradient(135deg, rgba(24, 24, 24, 0.737), rgba(13, 13, 13, 0.737), rgba(0, 0, 0, 0.737));
          height: 40px;
          display: block;
          padding: 0 20px;
          border-bottom: 1px solid #0d0d0d;
          backdrop-filter: blur(33.033px);
          -webkit-backdrop-filter: blur(33.033px);
          opacity: 0.781;
          animation: fadeIn 0.6s ease-out 0.3s forwards;
          position: relative;
          overflow: hidden;
      }

      /* Energy flow animation */
      .titlebar::before {
          content: '';
          position: absolute;
          top: 0;
          left: -100%;
          width: 100%;
          height: 2px;
          background: linear-gradient(
              90deg,
              transparent 0%,
              rgba(var(--custom-color-rgb), 0.3) 20%,
              rgba(var(--custom-color-rgb), 0.8) 50%,
              rgba(var(--custom-color-rgb), 0.3) 80%,
              transparent 100%
          );
          animation: energyFlow 3s ease-in-out infinite;
          filter: blur(1px);
      }

      @keyframes energyFlow {
          0% {
              left: -100%;
              opacity: 0;
          }
          10% {
              opacity: 1;
          }
          90% {
              opacity: 1;
          }
          100% {
              left: 100%;
              opacity: 0;
          }
      }

      /* Removed pulsing glow background */

      /* Particle stream */
      .titlebar-particles {
          display: none !important;
          visibility: hidden !important;
          opacity: 0 !important;
          pointer-events: none;
      }

      .titlebar-particle {
          position: absolute;
          width: 3px;
          height: 3px;
          background: rgba(var(--custom-color-rgb), 0.7);
          border-radius: 50%;
          animation: particleStream linear infinite;
      }

      @keyframes particleStream {
          0% {
              left: -5%;
              opacity: 0;
              transform: translateY(0);
          }
          10% {
              opacity: 1;
          }
          90% {
              opacity: 0.8;
          }
          100% {
              left: 105%;
              opacity: 0;
              transform: translateY(-5px);
          }
      }

      .titlebar-particle:nth-child(1) {
          animation-duration: 3s;
          animation-delay: 0s;
          top: 10px;
      }

      .titlebar-particle:nth-child(2) {
          animation-duration: 3.5s;
          animation-delay: 0.5s;
          top: 20px;
      }

      .titlebar-particle:nth-child(3) {
          animation-duration: 4s;
          animation-delay: 1s;
          top: 30px;
      }

      .titlebar-particle:nth-child(4) {
          animation-duration: 3.2s;
          animation-delay: 1.5s;
          top: 15px;
      }

      .titlebar-particle:nth-child(5) {
          animation-duration: 3.8s;
          animation-delay: 2s;
          top: 25px;
      }

      /* Large decorative background particles */
      .titlebar-large-particles {
          display: none !important;
          visibility: hidden !important;
          opacity: 0 !important;
          pointer-events: none;
      }

      .titlebar-large-particle {
          position: absolute;
          border-radius: 50%;
          filter: blur(8px);
          opacity: 0.3;
          animation: largeParticleFloat ease-in-out infinite;
      }

      .titlebar-large-particle:nth-child(1) {
          width: 30px;
          height: 30px;
          background: radial-gradient(circle, rgba(var(--custom-color-rgb), 0.6) 0%, rgba(var(--custom-color-rgb), 0.2) 70%, transparent 100%);
          left: 15%;
          top: 50%;
          animation-duration: 6s;
          animation-delay: 0s;
      }

      .titlebar-large-particle:nth-child(2) {
          width: 40px;
          height: 40px;
          background: radial-gradient(circle, #808080 0%, #333333 60%, transparent 100%);
          left: 50%;
          top: 50%;
          animation-duration: 7s;
          animation-delay: 1s;
      }

      .titlebar-large-particle:nth-child(3) {
          width: 35px;
          height: 35px;
          background: radial-gradient(circle, rgba(var(--custom-color-rgb), 0.5) 0%, rgba(var(--custom-color-rgb), 0.15) 65%, transparent 100%);
          left: 75%;
          top: 50%;
          animation-duration: 6.5s;
          animation-delay: 2s;
      }

      @keyframes largeParticleFloat {
          0%, 100% {
              transform: translateY(0px) scale(1);
              opacity: 0.3;
          }
          50% {
              transform: translateY(-15px) scale(1.1);
              opacity: 0.5;
          }
      }

      /* Purple theme variants for large particles */
      body.theme-purple .titlebar-large-particle:nth-child(1) {
          background: radial-gradient(circle, rgba(124, 58, 237, 0.6) 0%, rgba(124, 58, 237, 0.2) 70%, transparent 100%);
      }

      body.theme-purple .titlebar-large-particle:nth-child(3) {
          background: radial-gradient(circle, rgba(124, 58, 237, 0.5) 0%, rgba(124, 58, 237, 0.15) 65%, transparent 100%);
      }

      /* Scanline effect */
      .titlebar-scanline {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: linear-gradient(
              180deg,
              transparent 0%,
              rgba(var(--custom-color-rgb), 0.05) 50%,
              transparent 100%
          );
          animation: scanlineMove 2s linear infinite;
          opacity: 0.6;
          z-index: 0;
          pointer-events: none;
      }

      @keyframes scanlineMove {
          0% {
              transform: translateY(-100%);
          }
          100% {
              transform: translateY(100%);
          }
      }

      /* Border wave */
      .titlebar-border-wave {
          position: absolute;
          bottom: 0;
          left: 0;
          width: 100%;
          height: 1px;
          background: linear-gradient(
              90deg,
              transparent 0%,
              rgba(var(--custom-color-rgb), 0.3) 25%,
              rgba(var(--custom-color-rgb), 0.8) 50%,
              rgba(var(--custom-color-rgb), 0.3) 75%,
              transparent 100%
          );
          animation: borderWave 4s ease-in-out infinite;
          filter: blur(0.5px);
          box-shadow: 0 0 8px rgba(var(--custom-color-rgb), 0.4);
          pointer-events: none;
      }

      @keyframes borderWave {
          0%, 100% {
              transform: translateX(-50%) scaleX(0.8);
              opacity: 0.3;
          }
          50% {
              transform: translateX(0%) scaleX(1.2);
              opacity: 1;
          }
      }

      /* Purple theme variants */
      body.theme-purple .titlebar::before {
          background: linear-gradient(
              90deg,
              transparent 0%,
              rgba(124, 58, 237, 0.3) 20%,
              rgba(124, 58, 237, 0.8) 50%,
              rgba(124, 58, 237, 0.3) 80%,
              transparent 100%
          );
          box-shadow: 0 0 10px rgba(124, 58, 237, 0.5);
      }

      body.theme-purple .titlebar::after {
          background: radial-gradient(
              ellipse 600px 100px at 50% 50%,
              rgba(124, 58, 237, 0.08) 0%,
              transparent 70%
          );
      }

      body.theme-purple .titlebar-particle {
          background: rgba(124, 58, 237, 0.7);
          box-shadow: 0 0 8px rgba(124, 58, 237, 0.8);
      }

      body.theme-purple .titlebar-scanline {
          background: linear-gradient(
              180deg,
              transparent 0%,
              rgba(124, 58, 237, 0.05) 50%,
              transparent 100%
          );
      }

      body.theme-purple .titlebar-border-wave {
          background: linear-gradient(
              90deg,
              transparent 0%,
              rgba(124, 58, 237, 0.3) 25%,
              rgba(124, 58, 237, 0.8) 50%,
              rgba(124, 58, 237, 0.3) 75%,
              transparent 100%
          );
          box-shadow: 0 0 8px rgba(124, 58, 237, 0.4);
      }

      .titlebar-title {
          font-size: 16px;
          font-weight: 800;
          color: rgba(255, 255, 255, 0.5);
          letter-spacing: 0;
          position: absolute;
          left: 20px;
          top: 50%;
          transform: translateY(-50%);
          z-index: 10;
          white-space: nowrap;
      }

      .titlebar-title .vantrix-colored {
          background: linear-gradient(135deg, var(--custom-color-light) 0%, var(--custom-color) 50%, var(--custom-color-dark) 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
          display: inline-block;
          font-style: italic;
          transform: skew(-10deg, 0deg);
      }

      .titlebar-title .j-white,
      .titlebar-title span.j-white,
      div.titlebar-title span.j-white {
          background: transparent !important;
          background-image: none !important;
          -webkit-background-clip: unset !important;
          -webkit-text-fill-color: #ffffff !important;
          background-clip: unset !important;
          color: #ffffff !important;
          display: inline-block !important;
          font-style: italic !important;
          transform: skew(-10deg, 0deg) !important;
          position: relative;
          z-index: 1;
      }

      .titlebar-macro {
          color: var(--custom-color);
          font-weight: 800;
      }

      .titlebar-gg {
          color: var(--custom-color);
          font-weight: 800;
      }

      .titlebar-affiliate {
          color: #ffffff;
          font-weight: 600;
          margin-left: 8px;
          display: none; /* Hidden by default, shown only for affiliate keys */
      }

      .titlebar-content-wrapper {
          display: flex;
          justify-content: space-between;
          align-items: center;
          width: 100%;
          height: 100%;
          position: relative;
          z-index: 10;
      }

      .titlebar-controls {
          -webkit-app-region: no-drag;
          display: flex;
          gap: 8px;
          position: relative;
          z-index: 10001;
      }

      .titlebar-right-controls {
          display: flex;
          align-items: center;
          gap: 12px;
          position: absolute;
          right: 20px;
          top: 50%;
          transform: translateY(-50%);
          z-index: 10001;
      }

      .titlebar-button {
          width: 36px;
          height: 28px;
          background: var(--bg-secondary);
          border: 1px solid var(--border-primary);
          border-radius: 6px;
          color: var(--text-tertiary);
          cursor: pointer;
          transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 11.7px;
          font-weight: 600;
          position: relative;
          z-index: 10002;
          pointer-events: auto;
          box-shadow: var(--shadow-sm);
      }

      .titlebar-button:hover {
          background: var(--bg-tertiary);
          border-color: var(--border-secondary);
          color: var(--text-secondary);
          transform: translateY(-1px);
          box-shadow: var(--shadow-md);
      }

      .titlebar-button.close:hover {
          background: var(--custom-color);
          border-color: var(--custom-color);
          color: var(--text-primary);
      }

      /* ===== SETTINGS ICON ===== */
      .titlebar-discord-icon {
          -webkit-app-region: no-drag;
          width: 36px;
          height: 28px;
          background: var(--bg-secondary);
          border: 1px solid var(--border-primary);
          border-radius: 6px;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
          cursor: pointer;
          text-decoration: none;
          z-index: 10002;
          pointer-events: auto;
          padding: 0;
          outline: none;
          box-shadow: var(--shadow-sm);
      }

      .titlebar-discord-icon:hover {
          background: var(--bg-tertiary);
          border-color: var(--border-secondary);
          transform: scale(1.05);
          box-shadow: var(--shadow-md);
      }

      .titlebar-discord-icon svg {
          width: 18px;
          height: 18px;
      }

      .settings-icon {
          -webkit-app-region: no-drag;
          width: 36px;
          height: 28px;
          background: var(--bg-secondary);
          border: 1px solid var(--border-primary);
          border-radius: 6px;
          color: #999999;
          cursor: pointer;
          transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 14.4px;
          z-index: 10002;
          pointer-events: auto;
          padding: 0;
          outline: none;
          box-shadow: var(--shadow-sm);
      }

      .settings-icon:hover {
          background: var(--bg-tertiary);
          border-color: var(--border-secondary);
          color: #cccccc;
          transform: rotate(15deg) translateY(-1px);
          box-shadow: var(--shadow-md);
      }

      /* ===== SETTINGS MODAL ===== */
      .settings-modal {
          display: none !important;
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: transparent;
          z-index: 9999;
          align-items: center;
          justify-content: center;
          opacity: 0;
          transition: opacity 0.3s ease;
          pointer-events: none;
      }

      .settings-modal.active {
          display: flex !important;
          opacity: 1;
          pointer-events: all;
      }

      .settings-content {
          background: linear-gradient(135deg, rgba(24, 24, 24, 0.704), rgba(13, 13, 13, 0.704), rgba(0, 0, 0, 0.704));
          border: 1px solid var(--border-primary);
          border-radius: 16.8px; /* 20 * 0.8 (20% smaller) - 5% more curved */
          padding: 24.32px; /* 30.4 * 0.8 (20% smaller) */
          max-width: 506.88px; /* 633.6 * 0.8 (20% smaller) */
          width: 64%; /* 80% * 0.8 (20% smaller) */
          max-height: 60.8vh; /* 76vh * 0.8 (20% smaller) */
          overflow-y: auto;
          box-shadow: var(--shadow-lg), 0 0 0 1px rgba(255, 255, 255, 0.03) inset;
          transform: scale(0.9);
          transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .settings-modal.active .settings-content {
          transform: scale(1);
      }

      /* Make settings content 20% smaller when active */
      .settings-modal.active .settings-content * {
          font-size: 80% !important;
      }

      .settings-modal.active .settings-title {
          font-size: 17.28px !important; /* 21.6 * 0.8 */
          margin-bottom: 19.2px !important; /* 24 * 0.8 */
          padding-bottom: 12.8px !important; /* 16 * 0.8 */
      }

      .settings-modal.active .settings-section {
          margin-bottom: 19.2px !important; /* 24 * 0.8 */
      }

      .settings-modal.active .settings-label {
          font-size: 10.08px !important; /* 12.6 * 0.8 */
          margin-bottom: 6.4px !important; /* 8 * 0.8 */
      }

      .settings-modal.active .settings-select {
          padding: 9.6px 12.8px !important; /* 12 * 0.8, 16 * 0.8 */
          font-size: 10.08px !important; /* 12.6 * 0.8 */
          border-radius: 13.44px !important; /* 16 * 0.8 - 5% more curved */
      }

      .settings-modal.active .settings-close {
          font-size: 17.28px !important; /* 21.6 * 0.8 */
          width: 25.6px !important; /* 32 * 0.8 */
          height: 25.6px !important; /* 32 * 0.8 */
      }

      .settings-modal.active .settings-content {
          padding: 18.48px !important; /* 23.1 * 0.8 (20% smaller) */
      }

      .settings-modal.active .settings-header {
          margin-bottom: 19.2px !important; /* 24 * 0.8 */
          padding-bottom: 12.8px !important; /* 16 * 0.8 */
      }

      .settings-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 22.8px; /* 24 * 0.95 (5% shorter) */
          padding-bottom: 15.2px; /* 16 * 0.95 (5% shorter) */
          border-bottom: 1px solid #1a1a1a;
      }

      .settings-title {
          font-size: 21.6px;
          font-weight: 700;
          background: linear-gradient(135deg, var(--custom-color), var(--custom-color-light));
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
          letter-spacing: 0.4px;
          line-height: 1.3;
      }

      .settings-close {
          background: none;
          border: none;
          color: #9ca3af;
          font-size: 21.6px;
          cursor: pointer;
          transition: all 0.2s;
          width: 32px;
          height: 32px;
          display: flex;
          align-items: center;
          justify-content: center;
          border-radius: 6.9px;
      }

      .settings-close:hover {
          background: #1a1a1a;
          color: #e0e0e0;
      }

      .settings-section {
          margin-bottom: 22.8px; /* 24 * 0.95 (5% shorter) */
      }

      .settings-section:last-child {
          margin-bottom: 0;
      }

      .settings-label {
          font-size: 12.6px;
          font-weight: 600;
          color: #e6e6e6;
          margin-bottom: 8px;
          display: block;
          letter-spacing: 0.3px;
          line-height: 1.5;
      }

      .settings-select {
          width: 100%;
          padding: 12px 16px;
          background: #f2f2f2;
          border: 1px solid rgba(var(--custom-color-rgb), 0.3);
          border-radius: 16.8px;
          color: #000000;
          font-size: 12.6px;
          font-family: 'Inter', sans-serif;
          cursor: pointer;
          transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
          box-shadow:
              0 2px 4px rgba(0, 0, 0, 0.1),
              0 1px 2px rgba(0, 0, 0, 0.06);
      }

      .settings-select:hover {
          background: rgba(255, 255, 255, 1);
          border-color: rgba(var(--custom-color-rgb), 0.6);
          transform: translateY(-1px);
          box-shadow:
              0 4px 8px rgba(0, 0, 0, 0.15),
              0 2px 4px rgba(0, 0, 0, 0.1);
      }

      .settings-select:focus {
          outline: none;
          border-color: rgba(var(--custom-color-rgb), 0.8);
          box-shadow:
              0 0 0 3px rgba(var(--custom-color-rgb), 0.2),
              0 2px 8px rgba(0, 0, 0, 0.15);
          background: rgba(255, 255, 255, 1);
      }

      /* Hotkey input specific styling to prevent click interference */
      .hotkey-input {
          position: relative;
          z-index: 100;
          pointer-events: auto !important;
          user-select: none;
      }

      .hotkey-input.capturing {
          position: relative;
          z-index: 101;
      }

      .settings-select option {
          background: #ffffff;
          color: #000000;
          padding: 8px;
          outline: none;
      }

      .settings-select option:hover,
      .settings-select option:checked {
          background: rgba(var(--custom-color-rgb), 0.1);
          color: #000000;
          outline: none;
      }

      .license-info {
          background: linear-gradient(135deg, rgba(var(--custom-color-rgb), 0.1), rgba(var(--custom-color-rgb), 0.05));
          border: 1px solid rgba(var(--custom-color-rgb), 0.2);
          border-radius: 14.7px;
          padding: 16px;
          display: flex;
          flex-direction: column;
          gap: 8px;
          box-shadow:
              0 2px 8px rgba(var(--custom-color-rgb), 0.15),
              0 4px 12px rgba(0, 0, 0, 0.15),
              0 0 0 1px rgba(var(--custom-color-rgb), 0.08) inset;
      }

      .license-status {
          font-size: 11.7px;
          color: #b3b3b3;
      }

      .license-days {
          font-size: 21.6px;
          font-weight: 700;
          color: var(--custom-color-light); /* Fallback solid color */
          background: linear-gradient(135deg, var(--custom-color), var(--custom-color-light));
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
          display: inline-block; /* Required for background-clip to work properly */
          letter-spacing: 0.4px;
          line-height: 1.3;
      }

      .license-days-label {
          font-size: 10.8px;
          color: #808080;
          text-transform: uppercase;
          letter-spacing: 1px;
      }

      .license-expired {
          background: linear-gradient(135deg, rgba(var(--custom-color-rgb), 0.2), rgba(var(--custom-color-rgb), 0.1));
          border-color: rgba(var(--custom-color-rgb), 0.4);
      }

      .license-expired .license-days {
          background: linear-gradient(135deg, var(--custom-color-light), var(--custom-color));
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
      }

      /* Purple theme settings modal */
      body.theme-purple .settings-content {
          border-color: rgba(124, 58, 237, 0.3);
      }

      body.theme-purple .settings-title {
          background: linear-gradient(135deg, #7c3aed, #9333ea);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
      }

      body.theme-purple .settings-select:hover {
          border-color: rgba(124, 58, 237, 0.6);
      }

      body.theme-purple .settings-select:focus {
          border-color: rgba(124, 58, 237, 0.8);
          box-shadow: 0 0 0 3px rgba(124, 58, 237, 0.2);
      }

      body.theme-purple .settings-select option:hover,
      body.theme-purple .settings-select option:checked {
          background: rgba(124, 58, 237, 0.1);
          outline: none;
      }

      body.theme-purple .license-info {
          background: linear-gradient(135deg, rgba(124, 58, 237, 0.1), rgba(124, 58, 237, 0.05));
          border-color: rgba(124, 58, 237, 0.2);
      }

      body.theme-purple .license-days {
          background: linear-gradient(135deg, #7c3aed, #9333ea);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
      }

      /* ===== KEYBINDS POPUP ===== */
      .keybinds-popup {
          display: none !important;
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: transparent;
          z-index: 10000;
          align-items: center;
          justify-content: center;
          opacity: 0;
          transition: opacity 0.3s ease;
          pointer-events: none;
      }

      .keybinds-popup.active {
          display: flex !important;
          opacity: 1;
          pointer-events: all;
      }

      .keybinds-popup-content {
          background: linear-gradient(135deg, rgba(32, 32, 32, 0.98), rgba(16, 16, 16, 0.98), rgba(0, 0, 0, 0.98));
          border: 1px solid var(--border-primary);
          border-radius: 20px;
          padding: 32px;
          max-width: 95%;
          max-height: 95vh;
          overflow-y: auto;
          box-shadow: var(--shadow-lg), 0 0 0 1px rgba(255, 255, 255, 0.03) inset;
          transform: scale(0.9);
          transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .keybinds-popup.active .keybinds-popup-content {
          transform: scale(1);
      }

      .keybinds-popup-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 24px;
          padding-bottom: 16px;
          border-bottom: 1px solid #1a1a1a;
      }

      .keybinds-popup-header h2 {
          font-size: 21.6px;
          font-weight: 700;
          background: linear-gradient(135deg, var(--custom-color), var(--custom-color-light));
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
          letter-spacing: 0.4px;
          line-height: 1.3;
      }

      .input-method-toggle {
          display: flex;
          gap: 8px;
          background: #080808;
          padding: 4px;
          border-radius: 9.66px;
          border: 1px solid #1a1a1a;
      }

      .input-method-btn {
          padding: 8px 20px;
          font-size: 12px;
          font-weight: 600;
          background: #000000;
          border: none;
          border-radius: 7.25px;
          color: #9ca3af;
          cursor: pointer;
          transition: all 0.2s;
      }

      .input-method-btn:hover {
          background: #0d0d0d;
          color: #e0e0e0;
      }

      .input-method-btn.active {
          background: linear-gradient(135deg, var(--custom-color), var(--custom-color-light));
          color: #fff;
      }

      body.theme-purple .input-method-btn.active {
          background: linear-gradient(135deg, #7c3aed, #9333ea);
      }

      .keybinds-close {
          background: none;
          border: none;
          color: #9ca3af;
          font-size: 28px;
          cursor: pointer;
          transition: all 0.2s;
          width: 32px;
          height: 32px;
          display: flex;
          align-items: center;
          justify-content: center;
          border-radius: 7.25px;
      }

      .keybinds-close:hover {
          background: #1a1a1a;
          color: #e0e0e0;
          transform: rotate(90deg);
      }

      .keybinds-popup-body {
          margin-top: 16px;
      }

      .visual-keybinds-container-popup {
          display: flex;
          gap: 20px;
          padding: 15px 0;
      }

      /* List View Styles */
      .list-view-container {
          padding: 20px 0;
      }

      .keybind-list {
          display: flex;
          flex-direction: column;
          gap: 12px;
          max-width: 600px;
          margin: 0 auto;
      }

      .keybind-list-item {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 16px 20px;
          background: var(--bg-secondary);
          border: 1px solid var(--border-primary);
          border-radius: 12px;
          transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
          box-shadow: var(--shadow-sm);
      }

      .keybind-list-item:hover {
          background: var(--bg-tertiary);
          border-color: var(--border-secondary);
          transform: translateX(4px);
          box-shadow: var(--shadow-md);
      }

      .keybind-list-info {
          display: flex;
          flex-direction: column;
          gap: 4px;
      }

      .keybind-list-name {
          font-size: 14px;
          font-weight: 600;
          color: #e0e0e0;
      }

      .keybind-list-desc {
          font-size: 11px;
          color: #9ca3af;
      }

      .keybind-list-item .keybind-button {
          min-width: 120px;
          padding: 10px 16px;
          font-size: 13px;
          font-weight: 600;
          text-align: center;
      }

      /* Compact Keybinds List Layout */
      .keybind-list-compact-vertical {
          display: flex;
          flex-direction: column;
          gap: 7px;
          margin: 0;
          padding: 0;
      }

      .keybind-list-item-compact {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 9px 12px;
          background: rgba(20, 20, 20, 0.5);
          border: 1px solid rgba(255, 255, 255, 0.08);
          border-radius: 6px;
          transition: all 0.2s ease;
      }

      .keybind-list-item-compact:hover {
          background: rgba(30, 30, 30, 0.7);
          border-color: rgba(255, 255, 255, 0.15);
      }

      .keybind-list-info-compact {
          display: flex;
          flex-direction: column;
          gap: 2px;
          flex: 1;
      }

      .keybind-list-name-compact {
          font-size: 11.5px;
          font-weight: 600;
          color: #e0e0e0;
      }

      .keybind-list-desc-compact {
          font-size: 9px;
          color: #888;
      }

      .keybind-button-compact {
          min-width: 88px;
          padding: 7px 12px;
          font-size: 10.5px;
          font-weight: 500;
          background: rgba(0, 0, 0, 0.4);
          border: 1px solid rgba(255, 255, 255, 0.1);
          border-radius: 3px;
          color: #e0e0e0;
          cursor: pointer;
          transition: all 0.2s ease;
          text-align: center;
      }

      .keybind-button-compact:hover {
          background: rgba(var(--custom-color-rgb), 0.15);
          border-color: rgba(var(--custom-color-rgb), 0.3);
          color: #ffffff;
      }

      .keybind-button-compact:active {
          background: rgba(var(--custom-color-rgb), 0.25);
      }

      .btn-clear-compact {
          padding: 7px 18px;
          font-size: 10px;
          font-weight: 600;
          background: rgba(220, 38, 38, 0.15);
          border: 1px solid rgba(220, 38, 38, 0.3);
          border-radius: 3px;
          color: rgba(255, 255, 255, 0.9);
          cursor: pointer;
          transition: all 0.2s ease;
          text-transform: uppercase;
          letter-spacing: 0.4px;
      }

      .btn-clear-compact:hover {
          background: rgba(220, 38, 38, 0.25);
          border-color: rgba(220, 38, 38, 0.4);
      }

      .keybind-status-compact {
          font-size: 10px;
          color: #888;
          font-style: italic;
          letter-spacing: 0.2px;
      }

      /* Purple theme for keybinds popup */
      body.theme-purple .keybinds-popup-content {
          border-color: rgba(124, 58, 237, 0.3);
      }

      body.theme-purple .keybinds-popup-header h2 {
          background: linear-gradient(135deg, #7c3aed, #9333ea);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
      }

      /* Button for opening keybinds popup */
      .btn-change-keybinds {
          padding: 12px 24px;
          font-size: 12px;
          font-weight: 500;
          background: rgba(var(--custom-color-rgb), 0.15);
          border: 1px solid rgba(var(--custom-color-rgb), 0.2);
          border-radius: 6px;
          color: rgba(255, 255, 255, 0.8);
          cursor: pointer;
          transition: all 0.2s ease;
          box-shadow: none;
          letter-spacing: 0.3px;
          position: relative;
          z-index: 10;
          pointer-events: auto;
          height: fit-content;
          white-space: nowrap;
          align-self: flex-end;
          margin-bottom: 0;
      }

      .btn-change-keybinds:hover {
          background: rgba(var(--custom-color-rgb), 0.25);
          border-color: rgba(var(--custom-color-rgb), 0.35);
          transform: none;
          box-shadow: none;
      }

      .btn-change-keybinds:active {
          background: rgba(var(--custom-color-rgb), 0.2);
          transform: none;
      }

      /* ===== PARTICLES ===== */
      #particles {
          display: none !important;
          visibility: hidden !important;
          opacity: 0 !important;
      }

      /* ===== UI FLOATING PARTICLES ===== */
      .ui-particles-container {
          display: none !important;
          visibility: hidden !important;
          opacity: 0 !important;
          pointer-events: none;
      }

      .ui-particle {
          position: absolute;
          background: rgba(255, 255, 255, 0.15);
          border-radius: 50%;
          filter: blur(2px);
          box-shadow: 0 0 8px rgba(255, 255, 255, 0.2);
      }

      @keyframes uiParticleFloat {
          0%, 100% {
              transform: translate(0, 0);
              opacity: 0.3;
          }
          25% {
              transform: translate(30px, -20px);
              opacity: 0.4;
          }
          50% {
              transform: translate(-20px, 30px);
              opacity: 0.3;
          }
          75% {
              transform: translate(20px, 20px);
              opacity: 0.4;
          }
      }

      .particle {
          position: absolute;
          width: 2px;
          height: 2px;
          background: rgba(var(--custom-color-rgb), 0.6);
          border-radius: 50%;
          animation: particleFall linear infinite;
      }

      @keyframes particleFall {
          0% { transform: translateY(-10vh) translateX(0); opacity: 0; }
          10% { opacity: 0.6; }
          90% { opacity: 0.4; }
          100% { transform: translateY(110vh) translateX(-40px); opacity: 0; }
      }

      /* ===== ABOUT PAGE COLORED PARTICLES ===== */
      #about-particles {
          display: none !important;
          visibility: hidden !important;
          opacity: 0 !important;
      }

      .tab-content.active #about-particles {
          display: none !important;
          opacity: 0 !important;
      }

      .particle-red {
          position: absolute;
          width: 3px;
          height: 3px;
          background: rgba(var(--custom-color-rgb), 0.25);
          border-radius: 50%;
          box-shadow: 0 0 4px rgba(var(--custom-color-rgb), 0.3);
          animation: particleFallSlow linear infinite;
      }

      .particle-silver {
          position: absolute;
          width: 2.5px;
          height: 2.5px;
          background: rgba(192, 192, 192, 0.2);
          border-radius: 50%;
          box-shadow: 0 0 3px rgba(192, 192, 192, 0.25);
          animation: particleFallSlow linear infinite;
      }

      @keyframes particleFallSlow {
          0% {
              transform: translateY(-10vh) translateX(0) rotate(0deg);
              opacity: 0;
          }
          10% {
              opacity: 0.3;
          }
          90% {
              opacity: 0.2;
          }
          100% {
              transform: translateY(110vh) translateX(-30px) rotate(360deg);
              opacity: 0;
          }
      }

      /* ===== MAIN CONTAINER ===== */
      .container {
          position: relative;
          z-index: 2;
          max-width: 792px;
          margin: 100px auto 17.6px auto;
          background: linear-gradient(135deg, rgba(24, 24, 24, 0.704), rgba(13, 13, 13, 0.704), rgba(0, 0, 0, 0.704));
          border: 1px solid rgba(10, 10, 10, 0.8);
          border-radius: 0;
          backdrop-filter: none;
          -webkit-backdrop-filter: none;
          box-shadow: var(--shadow-lg), 0 0 0 1px rgba(255, 255, 255, 0.03) inset;
          opacity: 0.858;
          transform: translateY(20px) scale(0.98);
          overflow: hidden;
          display: none !important;
          visibility: hidden;
          pointer-events: none;
          transition: opacity 1s cubic-bezier(0.4, 0, 0.2, 1), 
                      transform 1s cubic-bezier(0.4, 0, 0.2, 1),
                      visibility 1s ease;
      }

      /* Tiled/matted background inside container */
      .container::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background-image: 
              repeating-linear-gradient(
                  0deg,
                  rgba(255, 255, 255, 0.0366) 0px,
                  rgba(255, 255, 255, 0.0366) 1px,
                  transparent 1px,
                  transparent 20px
              ),
              repeating-linear-gradient(
                  90deg,
                  rgba(255, 255, 255, 0.0366) 0px,
                  rgba(255, 255, 255, 0.0366) 1px,
                  transparent 1px,
                  transparent 20px
              ),
              repeating-linear-gradient(
                  45deg,
                  transparent,
                  transparent 10px,
                  rgba(255, 255, 255, 0.0179) 10px,
                  rgba(255, 255, 255, 0.0179) 11px
              ),
              repeating-linear-gradient(
                  -45deg,
                  transparent,
                  transparent 10px,
                  rgba(255, 255, 255, 0.0179) 10px,
                  rgba(255, 255, 255, 0.0179) 11px
              );
          background-size: 20px 20px, 20px 20px, 20px 20px, 20px 20px;
          pointer-events: none;
          z-index: 0;
          opacity: 0.455;
          border-radius: 0;
      }

      .container.active {
          display: block !important;
          opacity: 1 !important;
          transform: translateY(0) scale(1) !important;
          visibility: visible !important;
          pointer-events: all !important;
          animation: containerFadeIn 1s cubic-bezier(0.4, 0, 0.2, 1) forwards;
      }

      .container.stretched {
          max-width: 95%;
          transition: max-width 0.3s ease-out;
      }

      @keyframes containerFadeIn {
          from {
              opacity: 0;
              transform: scale(0.95) translateY(20px);
          }
          to {
              opacity: 1;
              transform: scale(1) translateY(0);
          }
      }

      /* ===== CONSTELLATION BACKGROUND ===== */
      #constellation-canvas {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          z-index: 0;
          pointer-events: none;
          display: block !important;
          visibility: visible !important;
          opacity: 1 !important;
          background: #000000;
      }

      /* Border edges for traveling line */
      .border-top,
      .border-right,
      .border-bottom,
      .border-left {
          position: absolute;
          background: linear-gradient(90deg, transparent, var(--custom-color), var(--custom-color-light), var(--custom-color), transparent);
          box-shadow: 0 0 15px var(--custom-color), 0 0 30px rgba(var(--custom-color-rgb), 0.5);
          z-index: 1;
          opacity: 0;
          display: none !important;
          visibility: hidden !important;
          width: 0 !important;
          height: 0 !important;
          pointer-events: none !important;
      }

      .border-top {
          top: 0 !important;
          left: -400px !important;
          width: 0 !important;
          height: 0 !important;
          animation: none !important;
          display: none !important;
          visibility: hidden !important;
          opacity: 0 !important;
      }

      .border-right {
          top: -400px !important;
          right: 0 !important;
          width: 0 !important;
          height: 0 !important;
          animation: none !important;
          display: none !important;
          visibility: hidden !important;
          opacity: 0 !important;
      }

      .border-bottom {
          bottom: 0 !important;
          right: -400px !important;
          width: 0 !important;
          height: 0 !important;
          animation: none !important;
          display: none !important;
          visibility: hidden !important;
          opacity: 0 !important;
      }

      .border-left {
          bottom: -400px !important;
          left: 0 !important;
          width: 0 !important;
          height: 0 !important;
          animation: none !important;
          display: none !important;
          visibility: hidden !important;
          opacity: 0 !important;
      }

      @keyframes travelTop {
          0% {
              left: -400px;
              opacity: 0;
          }
          2% {
              opacity: 1;
          }
          23% {
              opacity: 1;
          }
          25% {
              left: calc(100% + 400px);
              opacity: 0;
          }
          100% {
              left: calc(100% + 400px);
              opacity: 0;
          }
      }

      @keyframes travelRight {
          0%, 24% {
              top: -400px;
              opacity: 0;
          }
          25% {
              top: -400px;
              opacity: 0;
          }
          27% {
              opacity: 1;
          }
          48% {
              opacity: 1;
          }
          50% {
              top: calc(100% + 400px);
              opacity: 0;
          }
          100% {
              top: calc(100% + 400px);
              opacity: 0;
          }
      }

      @keyframes travelBottom {
          0%, 49% {
              right: -400px;
              opacity: 0;
          }
          50% {
              right: -400px;
              opacity: 0;
          }
          52% {
              opacity: 1;
          }
          73% {
              opacity: 1;
          }
          75% {
              right: calc(100% + 400px);
              opacity: 0;
          }
          100% {
              right: calc(100% + 400px);
              opacity: 0;
          }
      }

      @keyframes travelLeft {
          0%, 74% {
              bottom: -400px;
              opacity: 0;
          }
          75% {
              bottom: -400px;
              opacity: 0;
          }
          77% {
              opacity: 1;
          }
          98% {
              opacity: 1;
          }
          100% {
              bottom: calc(100% + 400px);
              opacity: 0;
          }
      }

      .header {
          display: none !important;
          visibility: hidden !important;
          height: 0 !important;
          padding: 0 !important;
          margin: 0 !important;
          overflow: hidden;
      }

      /* Swirly pattern overlay */
      .header::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background-image:
              radial-gradient(ellipse 800px 400px at 20% 50%, rgba(var(--custom-color-rgb), 0.15) 0%, transparent 50%),
              radial-gradient(ellipse 600px 300px at 80% 30%, rgba(var(--custom-color-rgb), 0.12) 0%, transparent 50%),
              radial-gradient(ellipse 400px 200px at 50% 80%, rgba(var(--custom-color-rgb), 0.1) 0%, transparent 50%);
          opacity: 0.6;
          z-index: 0;
      }

      /* Animated swirl lines */
      .header::after {
          content: '';
          position: absolute;
          top: -50%;
          left: -50%;
          width: 200%;
          height: 200%;
          background-image:
              repeating-linear-gradient(
                  45deg,
                  transparent,
                  transparent 40px,
                  rgba(var(--custom-color-rgb), 0.03) 40px,
                  rgba(var(--custom-color-rgb), 0.03) 80px
              ),
              repeating-linear-gradient(
                  -45deg,
                  transparent,
                  transparent 40px,
                  rgba(var(--custom-color-rgb), 0.03) 40px,
                  rgba(var(--custom-color-rgb), 0.03) 80px
              );
          animation: swirlMove 20s linear infinite;
          opacity: 0.4;
          z-index: 0;
      }

      @keyframes swirlMove {
          0% { transform: rotate(0deg) scale(1); }
          50% { transform: rotate(180deg) scale(1.1); }
          100% { transform: rotate(360deg) scale(1); }
      }

      /* Organic wave swirls */
      .header-wave {
          position: absolute;
          width: 100%;
          height: 100%;
          top: 0;
          left: 0;
          z-index: 0;
          overflow: hidden;
      }

      .header-wave::before,
      .header-wave::after {
          content: '';
          position: absolute;
          width: 200%;
          height: 200%;
          background:
              radial-gradient(circle at 30% 50%, rgba(var(--custom-color-rgb), 0.15) 0%, transparent 30%),
              radial-gradient(circle at 70% 20%, rgba(var(--custom-color-rgb), 0.12) 0%, transparent 25%),
              radial-gradient(circle at 50% 80%, rgba(var(--custom-color-rgb), 0.1) 0%, transparent 20%),
              radial-gradient(circle at 80% 60%, rgba(var(--custom-color-rgb), 0.08) 0%, transparent 35%);
          animation: waveFlow 15s ease-in-out infinite;
      }

      .header-wave::after {
          animation-delay: -7.5s;
          animation-direction: reverse;
      }

      @keyframes waveFlow {
          0%, 100% {
              transform: translate(-25%, -25%) rotate(0deg);
          }
          50% {
              transform: translate(-30%, -30%) rotate(180deg);
          }
      }

      /* Curved swirl accent */
      .header-swirl {
          position: absolute;
          width: 300px;
          height: 300px;
          border-radius: 50%;
          background: radial-gradient(ellipse at center, rgba(var(--custom-color-rgb), 0.2) 0%, transparent 70%);
          filter: blur(40px);
          animation: swirlPulse 8s ease-in-out infinite;
          z-index: 0;
      }

      .header-swirl:nth-child(1) {
          top: -150px;
          left: -100px;
          animation-delay: 0s;
      }

      .header-swirl:nth-child(2) {
          top: -100px;
          right: -150px;
          animation-delay: 2s;
      }

      .header-swirl:nth-child(3) {
          bottom: -150px;
          left: 50%;
          transform: translateX(-50%);
          animation-delay: 4s;
      }

      @keyframes swirlPulse {
          0%, 100% {
              transform: scale(1) rotate(0deg);
              opacity: 0.3;
          }
          50% {
              transform: scale(1.3) rotate(180deg);
              opacity: 0.6;
          }
      }

      .header h1 {
          font-size: 27.2px;
          margin-bottom: 6.8px;
          font-weight: 800;
          letter-spacing: -0.64px;
          position: relative;
          z-index: 1;
          text-transform: uppercase;
          white-space: nowrap;
          line-height: 1.2;
          display: inline-block;
      }

      .header h1 .kz-white {
          color: #e0e0e0;
          display: inline;
          white-space: nowrap;
      }

      .header h1 .logo-red {
          background: linear-gradient(135deg, var(--custom-color), var(--custom-color-light), var(--custom-color), var(--custom-color-dark));
          background-size: 200% 200%;
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
          display: inline-block;
          animation: gradientShift 6s ease-in-out infinite;
          position: relative;
          font-size: 27.2px;
      }

      @keyframes gradientShift {
          0%, 100% {
              background-position: 0% 50%;
          }
          50% {
              background-position: 100% 50%;
          }
      }

      /* Purple theme overrides - Vantrix = Purple, MACRO = White */
      body.theme-purple .header h1 .kz-white {
          /* Make Vantrix purple with gradient */
          background: linear-gradient(135deg, #7c3aed, #9333ea, #7c3aed, #6d28d9);
          background-size: 200% 200%;
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
          display: inline-block;
          animation: gradientShift 4s ease-in-out infinite;
          position: relative;
      }

      body.theme-purple .header h1 .logo-red {
          /* Make MACRO white */
          background: none;
          color: #e0e0e0;
          -webkit-background-clip: initial;
          -webkit-text-fill-color: initial;
          background-clip: initial;
          display: inline-block;
          filter: none;
      }

      /* Logo SVG styling */
      .header h1 .logo-svg {
          display: inline;
          height: 25.5px !important;
          width: auto !important;
          vertical-align: -1.6px;
          margin: 0;
          padding: 0;
      }

      .header h1 .logo-svg path {
          fill: var(--custom-color);
          transition: fill 0.5s ease;
      }

      body.theme-purple .header h1 .logo-svg path {
          fill: #7c3aed;
      }

      .header p {
          font-size: 11.05px;
          color: #808080;
          font-weight: 400;
          position: relative;
          z-index: 1;
          display: flex;
          gap: 1.6px;
          justify-content: center;
          letter-spacing: 0.32px;
          line-height: 1.6;
      }

      .header p span {
          display: inline-block;
          animation: headerWave 4s ease-in-out infinite;
          opacity: 1;
      }

      /* Stagger the animation for header tagline */
      .header p span:nth-child(1) { animation-delay: 0s; }
      .header p span:nth-child(2) { animation-delay: 0.05s; }
      .header p span:nth-child(3) { animation-delay: 0.1s; }
      .header p span:nth-child(4) { animation-delay: 0.15s; }
      .header p span:nth-child(5) { animation-delay: 0.2s; }
      .header p span:nth-child(6) { animation-delay: 0.25s; }
      .header p span:nth-child(7) { animation-delay: 0.3s; }
      .header p span:nth-child(8) { animation-delay: 0.35s; }
      .header p span:nth-child(9) { animation-delay: 0.4s; }
      .header p span:nth-child(10) { animation-delay: 0.45s; }
      .header p span:nth-child(11) { animation-delay: 0.5s; }
      .header p span:nth-child(12) { animation-delay: 0.55s; }
      .header p span:nth-child(13) { animation-delay: 0.6s; }
      .header p span:nth-child(14) { animation-delay: 0.65s; }
      .header p span:nth-child(15) { animation-delay: 0.7s; }
      .header p span:nth-child(16) { animation-delay: 0.75s; }
      .header p span:nth-child(17) { animation-delay: 0.8s; }
      .header p span:nth-child(18) { animation-delay: 0.85s; }
      .header p span:nth-child(19) { animation-delay: 0.9s; }
      .header p span:nth-child(20) { animation-delay: 0.95s; }
      .header p span:nth-child(21) { animation-delay: 1s; }
      .header p span:nth-child(22) { animation-delay: 1.05s; }
      .header p span:nth-child(23) { animation-delay: 1.1s; }
      .header p span:nth-child(24) { animation-delay: 1.15s; }

      @keyframes headerWave {
          0%, 40% {
              transform: translateY(0);
              opacity: 1;
          }
          50% {
              transform: translateY(-8px);
              opacity: 0.7;
          }
          60%, 100% {
              transform: translateY(0);
              opacity: 1;
          }
      }

      /* ===== SIDE TABS LAYOUT ===== */
      .main-layout {
          display: flex;
          flex-direction: column;
          height: 410px;
          max-height: 410px;
          position: relative;
          z-index: 1;
          overflow: hidden;
          border: none;
          background: #000000;
      }

      /* ===== HERO CARD ===== */
      .hero-card {
          flex: 1;
          background: transparent;
          border: none;
          border-radius: 0 !important;
          padding: 0;
          margin: 0;
          position: relative;
          z-index: 1;
          overflow: hidden;
          display: flex;
          flex-direction: column;
          height: auto;
          max-height: 100%;
          box-shadow: none;
          backdrop-filter: blur(33.033px);
          -webkit-backdrop-filter: blur(33.033px);
      }

      .hero-card::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          height: 2px;
          z-index: 0;
          background: linear-gradient(90deg,
              transparent 0%,
              rgba(var(--custom-color-rgb), 0.5) 20%,
              rgba(var(--custom-color-rgb), 0.8) 50%,
              rgba(var(--custom-color-rgb), 0.5) 80%,
              transparent 100%);
          animation: heroGlow 3s ease-in-out infinite;
          pointer-events: none;
      }

      @keyframes heroGlow {
          0%, 100% {
              opacity: 0.5;
              transform: scaleX(1);
          }
          50% {
              opacity: 1;
              transform: scaleX(1.05);
          }
      }

      .hero-card::after {
          content: '';
          position: absolute;
          top: -50%;
          left: -50%;
          width: 200%;
          height: 200%;
          z-index: 0;
          background: radial-gradient(circle,
              rgba(var(--custom-color-rgb), 0.08) 0%,
              transparent 70%);
          animation: heroPulse 8s ease-in-out infinite;
          pointer-events: none;
      }

      @keyframes heroPulse {
          0%, 100% {
              transform: translate(-50%, -50%) scale(1);
              opacity: 0.3;
          }
          50% {
              transform: translate(-50%, -50%) scale(1.1);
              opacity: 0.5;
          }
      }

      .tabs {
          display: flex;
          flex-direction: row;
          width: 100%;
          height: auto;
          background: transparent;
          border-bottom: 1px solid rgba(255, 255, 255, 0.1);
          padding: 12px 16px;
          gap: 8px;
          transition: transform 0.3s ease, opacity 0.3s ease, height 0.3s ease, padding 0.3s ease;
          box-shadow: none;
          overflow-x: auto;
          overflow-y: hidden;
          position: relative;
          z-index: 10;
      }

      #tabs-starfield-canvas {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          z-index: 0;
          pointer-events: none;
          display: block !important;
          visibility: visible !important;
          opacity: 1 !important;
      }

      .tabs.hidden {
          transform: translateY(-100%);
          opacity: 0;
          pointer-events: none;
          height: 0;
          padding: 0;
          border-bottom: none;
          overflow: hidden;
      }

      .chatgpt-logo-container {
          display: flex;
          justify-content: center;
          align-items: center;
          padding: 12px 0;
          margin-top: 8px;
      }

      .logo-container {
          display: flex;
          justify-content: center;
          align-items: center;
          padding: 12px 0;
          margin-top: 8px;
      }

      .sidebar-logo {
          width: 50px;
          height: 50px;
          transition: opacity 0.3s ease, transform 0.3s ease;
          cursor: pointer;
      }

      .sidebar-logo:hover {
          opacity: 0.8;
          transform: scale(1.05);
      }

      .chatgpt-logo-container svg {
          transition: opacity 0.3s ease, fill 0.3s ease;
          cursor: pointer;
      }

      .chatgpt-logo-container svg path {
          fill: var(--custom-color);
          opacity: 0.7;
          transition: opacity 0.3s ease, fill 0.3s ease;
      }

      .chatgpt-logo-container svg:hover path {
          opacity: 1;
      }

      .tab {
          padding: 10px 18px;
          background: rgba(0, 0, 0, 0.3);
          border: 1px solid var(--border-primary);
          border-bottom: 3px solid transparent;
          color: var(--text-tertiary);
          cursor: pointer;
          transition: none;
          text-align: center;
          font-size: 13px;
          font-weight: 600;
          font-family: 'Inter', sans-serif;
          border-radius: 8px;
          letter-spacing: 0.3px;
          position: relative;
          overflow: visible;
          margin-bottom: 0;
          backdrop-filter: blur(15.015px);
          box-shadow: var(--shadow-sm), 0 0 0 1px rgba(0, 0, 0, 0.3) inset;
          flex: 1;
          z-index: 5;
          pointer-events: auto;
          white-space: nowrap;
          min-width: auto;
      }

      .tab::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: linear-gradient(90deg, rgba(var(--custom-color-rgb), 0.15), transparent 60%);
          opacity: 0;
          transition: opacity 0.3s ease;
          pointer-events: none;
          z-index: 0;
      }

      .tab:hover::before {
          opacity: 1;
      }

      .tab:hover {
          background: transparent;
          border-color: var(--border-secondary);
          color: var(--text-secondary);
          transform: none;
          border-bottom-color: rgba(var(--custom-color-rgb), 0.3);
          box-shadow: var(--shadow-md), 0 0 0 1px rgba(255, 255, 255, 0.05) inset;
      }

      .tab.active {
          background: transparent;
          border: 1px solid rgba(var(--custom-color-rgb), 0.5);
          border-bottom: 3px solid var(--custom-color);
          color: var(--text-secondary);
          box-shadow: 0 0 0 1px rgba(var(--custom-color-rgb), 0.1) inset;
          transform: none;
          font-weight: 700;
      }

      .tab.active::after {
          display: none;
      }

      .tab.active::before {
          opacity: 0;
      }

      .hero-card .tab-content-wrapper {
          flex: 1;
          overflow-y: auto;
          overflow-x: hidden;
          height: 100%;
          transition: none;
          margin: 0;
          background: transparent;
          border: none;
          border-radius: 0 !important;
          padding: 0;
          box-shadow: none;
          position: relative;
          z-index: 5;
          pointer-events: auto;
      }

      /* Expand content when tabs are hidden */
      .tabs.hidden ~ .hero-card .tab-content-wrapper {
          padding-left: 20px;
          padding-right: 20px;
      }

      .tab-content {
          display: none;
          padding: 10.8px 16.2px;
          min-height: 100%;
          position: relative;
          z-index: 5;
          pointer-events: auto;
          transition: none;
      }

      /* Expand content padding when tabs are hidden */
      .tabs.hidden ~ .hero-card .tab-content-wrapper .tab-content {
          padding: 26px 60px;
      }

      .tab-content.active {
          display: block;
          z-index: 3;
      }

      /* ===== EZ MODE ===== */
      .ez-mode-container {
          display: none;
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: #000000;
          z-index: 200;
          padding: 20px;
          overflow-y: auto;
          animation: fadeInContent 0.3s ease-out;
      }

      .ez-mode-container.active {
          display: block;
      }

      .ez-mode-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 20px;
          padding-bottom: 15px;
          border-bottom: 1px solid rgba(var(--custom-color-rgb), 0.3);
      }

      .ez-mode-title {
          font-size: 18px;
          font-weight: 700;
          color: var(--custom-color);
          display: flex;
          align-items: center;
          gap: 10px;
      }

      .ez-mode-badge {
          background: var(--custom-color);
          color: #000;
          padding: 3px 8px;
          border-radius: 8px;
          font-size: 10px;
          font-weight: 700;
      }

      .ez-mode-hint {
          font-size: 11px;
          color: #666;
      }

      .ez-mode-grid {
          display: grid;
          grid-template-columns: repeat(3, 1fr);
          gap: 15px;
      }

      .ez-macro-card {
          background: linear-gradient(135deg, #0a0a0a 0%, #111 100%);
          border: 1px solid #1a1a1a;
          border-radius: 12px;
          padding: 15px;
          transition: all 0.3s ease;
      }

      .ez-macro-card:hover {
          border-color: rgba(var(--custom-color-rgb), 0.3);
          transform: translateY(-2px);
      }

      .ez-macro-card.running {
          border-color: var(--custom-color);
          box-shadow: 0 0 15px rgba(var(--custom-color-rgb), 0.2);
      }

      .ez-macro-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 12px;
      }

      .ez-macro-name {
          font-size: 13px;
          font-weight: 600;
          color: #e0e0e0;
      }

      .ez-macro-status {
          width: 8px;
          height: 8px;
          border-radius: 50%;
          background: #333;
          transition: all 0.3s ease;
      }

      .ez-macro-status.active {
          background: var(--custom-color);
          box-shadow: 0 0 8px var(--custom-color);
      }

      .ez-macro-controls {
          display: flex;
          flex-direction: column;
          gap: 8px;
      }

      .ez-control-row {
          display: flex;
          align-items: center;
          gap: 8px;
      }

      .ez-control-label {
          font-size: 10px;
          color: #888;
          min-width: 45px;
      }

      .ez-slider {
          flex: 1;
          height: 4px;
          -webkit-appearance: none;
          appearance: none;
          background: #222;
          border-radius: 4px;
          outline: none;
      }

      .ez-slider::-webkit-slider-thumb {
          -webkit-appearance: none;
          width: 12px;
          height: 12px;
          border-radius: 50%;
          background: var(--custom-color);
          cursor: pointer;
      }

      .ez-slider-value {
          display: none !important;
          visibility: hidden !important;
      }

      .ez-toggle-btn {
          width: 100%;
          padding: 8px 12px;
          border: 1px solid #222;
          border-radius: 6.3px;
          font-size: 11px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.2s ease;
          background: #1a1a1a;
          color: #888;
          margin-top: 8px;
          position: relative;
          z-index: 10;
          pointer-events: auto;
          min-height: 36px;
          display: flex;
          align-items: center;
          justify-content: center;
      }

      .ez-toggle-btn:hover {
          background: #222;
          color: #fff;
          border-color: #333;
      }

      .ez-toggle-btn.running {
          background: rgba(var(--custom-color-rgb), 0.2);
          color: rgba(var(--custom-color-rgb), 0.9);
          border-color: rgba(var(--custom-color-rgb), 0.4);
      }

      /* ===== SECTIONS ===== */
      .section {
          background: linear-gradient(135deg, var(--bg-secondary) 0%, rgba(20, 20, 20, 0.8) 100%);
          border: 1px solid var(--border-primary);
          border-radius: 16px;
          padding: 28px;
          margin-bottom: 24px;
          opacity: 0;
          animation: fadeInUp 0.6s ease-out forwards;
          box-shadow: var(--shadow-md), 0 0 0 1px rgba(0, 0, 0, 0.4) inset;
      }

      .section:nth-child(1) { animation-delay: 0.1s; }
      .section:nth-child(2) { animation-delay: 0.2s; }
      .section:nth-child(3) { animation-delay: 0.3s; }
      .section:nth-child(4) { animation-delay: 0.4s; }

      @keyframes fadeInUp {
          from {
              opacity: 0;
              transform: translateY(20px);
          }
          to {
              opacity: 1;
              transform: translateY(0);
          }
      }

      .section-title {
          font-size: 13px;
          font-weight: 700;
          background: linear-gradient(135deg, rgba(255, 255, 255, 0.7) 0%, rgba(255, 255, 255, 0.5) 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
          margin-bottom: 18px;
          letter-spacing: 0.5px;
          opacity: 0;
          animation: fadeInUp 0.5s ease-out 0.1s forwards;
          text-transform: uppercase;
          position: relative;
          padding-bottom: 12px;
          line-height: 1.4;
      }

      /* Macro tabs content - 15% bigger (exclude main tab) */
      .tab-content:not(:first-of-type) .section-title {
          font-size: 14.75px; /* 12.83 * 1.15 */
          margin-bottom: 18.22px; /* 15.84 * 1.15 */
          padding-bottom: 11.85px; /* 10.3 * 1.15 */
          letter-spacing: 0.546px; /* 0.475 * 1.15 */
      }

      .section-title::after {
          content: '';
          position: absolute;
          bottom: 0;
          left: 0;
          width: 44px;
          height: 2.64px;
          background: linear-gradient(90deg, rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0.3), transparent);
          box-shadow: none;
      }

      /* Normal text style for keybinds tab section titles */
      .section-title.normal-text {
          font-size: 11.4px;
          font-weight: 600;
          background: none;
          -webkit-background-clip: unset;
          -webkit-text-fill-color: unset;
          background-clip: unset;
          color: #cccccc;
          text-transform: none;
          padding-bottom: 0;
          margin-bottom: 14.26px;
          letter-spacing: 0.317px;
      }

      .section-title.normal-text::after {
          display: none;
      }

      /* ===== CONTROLS ===== */
      .control-group {
          margin-bottom: 15.84px;
          opacity: 1;
          animation: none;
          position: relative;
          z-index: 5;
          pointer-events: auto;
      }

      /* Macro Settings Container for compact layout */
      .macro-settings-container {
          background: rgba(10, 10, 10, 0.4);
          border: 1px solid rgba(255, 255, 255, 0.05);
          border-radius: 8px;
          padding: 16px;
          margin-bottom: 16px;
      }

      .macro-settings-row {
          display: flex;
          gap: 16px;
          align-items: flex-start;
      }

      .macro-settings-content {
          flex: 1;
      }

      .macro-button-wrapper {
          display: flex;
          align-items: center;
          min-width: 120px;
      }

      .macro-button-wrapper .btn-start {
          width: 120px;
          padding: 10px 16px;
          font-size: 10px;
      }

      /* Macro tabs content - 15% bigger */
      .tab-content:not(:first-of-type) .control-group {
          margin-bottom: 18.22px; /* 15.84 * 1.15 */
      }

      .control-label {
          display: block;
          font-size: 9.5px;
          font-weight: 600;
          color: var(--text-secondary);
          margin-bottom: 8px;
          letter-spacing: 0.3px;
          line-height: 1.5;
      }

      /* Macro tabs content - 15% bigger */
      .tab-content:not(:first-of-type) .control-label {
          font-size: 10.66px; /* 9.27 * 1.15 */
          margin-bottom: 8.20px; /* 7.13 * 1.15 */
          letter-spacing: 0.365px; /* 0.317 * 1.15 */
      }

      .key-button {
          width: 100%;
          padding: 10px 16px;
          background: var(--bg-primary);
          border: 1px solid var(--border-secondary);
          border-radius: 6.3px;
          color: var(--text-secondary);
          cursor: pointer;
          transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
          font-size: 9px;
          font-weight: 600;
          font-family: 'Inter', sans-serif;
          letter-spacing: 0.4px;
          backdrop-filter: blur(15.015px);
          box-shadow: var(--shadow-sm), 0 0 0 1px rgba(0, 0, 0, 0.3) inset;
          position: relative;
          z-index: 10;
          pointer-events: auto;
      }

      /* Macro tabs content - 15% bigger */
      .tab-content:not(:first-of-type) .key-button {
          padding: 10.93px 14.57px; /* 9.5 * 1.15, 12.67 * 1.15 */
          font-size: 10.02px; /* 8.71 * 1.15 */
          letter-spacing: 0.546px; /* 0.475 * 1.15 */
      }

      .key-button:hover {
          background: var(--bg-tertiary);
          border-color: rgba(var(--custom-color-rgb), 0.4);
          transform: translateY(-2px);
          box-shadow: var(--shadow-md), 0 0 0 1px rgba(var(--custom-color-rgb), 0.1) inset;
      }

      .key-button:focus {
          outline: none;
          border-color: rgba(var(--custom-color-rgb), 0.6);
          background: rgba(var(--custom-color-rgb), 0.08);
          box-shadow: 0 0 0 3px rgba(var(--custom-color-rgb), 0.15), var(--shadow-md);
      }

      /* ===== COMPACT KEYBIND ROW ===== */
      .keybind-row {
          display: flex;
          align-items: center;
          justify-content: space-between;
          margin-bottom: 12px;
          padding: 10px 14px;
          background: var(--bg-secondary);
          border-radius: 0;
          border: 1px solid var(--border-primary);
          transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
          backdrop-filter: blur(15.015px);
          box-shadow: var(--shadow-sm);
      }

      .keybind-label {
          font-size: 10.5px;
          font-weight: 500;
          color: var(--text-secondary);
          flex: 1;
          letter-spacing: 0.3px;
          line-height: 1.5;
      }

      .keybind-button {
          padding: 8px 18px;
          background: var(--bg-primary);
          border: 1px solid var(--border-secondary);
          border-radius: 10px;
          color: var(--text-secondary);
          cursor: pointer;
          transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
          font-size: 9px;
          font-weight: 600;
          font-family: 'Inter', sans-serif;
          letter-spacing: 0.5px;
          min-width: 70px;
          text-align: center;
          backdrop-filter: blur(15.015px);
          box-shadow: var(--shadow-sm), 0 0 0 1px rgba(0, 0, 0, 0.3) inset;
      }

      .keybind-button:hover {
          background: rgba(var(--custom-color-rgb), 0.1);
          border-color: rgba(var(--custom-color-rgb), 0.5);
          transform: translateY(-2px);
          box-shadow: var(--shadow-md), 0 0 0 1px rgba(var(--custom-color-rgb), 0.2) inset;
      }

      .keybind-label-wrapper {
          display: flex;
          align-items: center;
          gap: 8px;
          flex: 1;
      }

      .keybind-help-icon {
          display: inline-flex;
          align-items: center;
          justify-content: center;
          width: 16px;
          height: 16px;
          background: rgba(var(--custom-color-rgb), 0.2);
          border: 1px solid rgba(var(--custom-color-rgb), 0.4);
          border-radius: 50%;
          color: #dc2626;
          font-size: 10px;
          font-weight: 700;
          cursor: pointer;
          transition: all 0.2s ease;
          position: relative;
      }

      .keybind-help-icon:hover {
          background: rgba(var(--custom-color-rgb), 0.3);
          border-color: rgba(var(--custom-color-rgb), 0.6);
          transform: scale(1.1);
      }

      .keybind-tooltip {
          position: absolute;
          bottom: 120%;
          left: 50%;
          transform: translateX(-50%);
          background: rgba(30, 30, 35, 0.98);
          color: #e0e0e0;
          padding: 10px 14px;
          border-radius: 9.2px;
          border: 1px solid rgba(var(--custom-color-rgb), 0.3);
          font-size: 11px;
          font-weight: 500;
          white-space: nowrap;
          z-index: 1000;
          pointer-events: none;
          opacity: 0;
          visibility: hidden;
          transition: all 0.2s ease;
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
      }

      .keybind-tooltip::after {
          content: '';
          position: absolute;
          top: 100%;
          left: 50%;
          transform: translateX(-50%);
          border: 6px solid transparent;
          border-top-color: rgba(30, 30, 35, 0.98);
      }

      .keybind-help-icon:hover .keybind-tooltip {
          opacity: 1;
          visibility: visible;
      }

      /* ===== VISUAL KEYBINDS LAYOUT ===== */
      .visual-keybinds-container {
          display: flex;
          gap: 20px;
          padding: 15px 0;
      }

      /* Function Blocks Panel */
      .function-blocks-panel {
          flex-shrink: 0;
          width: 160px;
          display: flex;
          flex-direction: column;
          gap: 8px;
          padding: 15px;
          background: #050505;
          border-radius: 8.05px;
          border: 1px solid #0d0d0d;
          max-height: 580px;
          overflow-y: auto;
      }

      .panel-title {
          font-size: 13px;
          font-weight: 600;
          color: #d1d5db;
          margin-bottom: 5px;
          text-align: center;
      }

      .function-block {
          padding: 10px;
          background: linear-gradient(135deg, rgba(var(--custom-color-rgb), 0.15) 0%, rgba(var(--custom-color-rgb), 0.08) 100%);
          border: 1px solid rgba(var(--custom-color-rgb), 0.3);
          border-radius: 9.2px;
          cursor: grab;
          transition: all 0.2s ease;
          text-align: center;
      }

      .function-block:active {
          cursor: grabbing;
      }

      .function-block:hover {
          background: linear-gradient(135deg, rgba(var(--custom-color-rgb), 0.25) 0%, rgba(var(--custom-color-rgb), 0.15) 100%);
          border-color: rgba(var(--custom-color-rgb), 0.5);
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(var(--custom-color-rgb), 0.3);
      }

      .function-block.dragging {
          opacity: 0.5;
      }

      .function-icon {
          font-size: 24px;
          margin-bottom: 4px;
      }

      .function-name {
          font-size: 11px;
          font-weight: 600;
          color: #e0e0e0;
          margin-bottom: 2px;
      }

      .function-desc {
          font-size: 9px;
          color: #9ca3af;
      }

      /* Keyboard and Mouse Container */
      .keyboard-mouse-container {
          flex: 1;
          display: flex;
          flex-direction: column;
          gap: 20px;
      }

      /* Visual Keyboard */
      .visual-keyboard {
          background: #050505;
          border-radius: 8.05px;
          border: 1px solid #0d0d0d;
          padding: 15px;
          position: relative;
          max-width: 100%;
      }

      .keyboard-row {
          display: flex;
          gap: 4px;
          margin-bottom: 4px;
          justify-content: flex-start;
      }

      .key {
          min-width: 28px;
          height: 28px;
          background: linear-gradient(135deg, #0d0d0d 0%, #080808 100%);
          border: 1px solid #1f1f1f;
          border-radius: 6.9px;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 9px;
          font-weight: 500;
          color: #d1d5db;
          cursor: pointer;
          transition: all 0.2s ease;
          position: relative;
          padding: 0 4px;
      }

      .key:hover {
          background: linear-gradient(135deg, #1a1a1a 0%, #0d0d0d 100%);
          border-color: rgba(var(--custom-color-rgb), 0.4);
          transform: translateY(-1px);
      }

      .key.has-function {
          background: linear-gradient(135deg, rgba(var(--custom-color-rgb), 0.25) 0%, rgba(var(--custom-color-rgb), 0.15) 100%);
          border-color: rgba(var(--custom-color-rgb), 0.5);
      }

      .key.has-function::after {
          content: attr(data-function-label);
          position: absolute;
          top: -18px;
          left: 50%;
          transform: translateX(-50%);
          background: rgba(var(--custom-color-rgb), 0.9);
          color: #e0e0e0;
          padding: 2px 6px;
          border-radius: 3px;
          font-size: 8px;
          font-weight: 600;
          white-space: nowrap;
          pointer-events: none;
      }

      .key.drag-over {
          background: linear-gradient(135deg, rgba(var(--custom-color-rgb), 0.35) 0%, rgba(var(--custom-color-rgb), 0.25) 100%);
          border-color: rgba(var(--custom-color-rgb), 0.8);
          box-shadow: 0 0 15px rgba(var(--custom-color-rgb), 0.4);
      }

      /* Key size variations */
      .key-wide { min-width: 56px; }
      .key-tab { min-width: 42px; }
      .key-caps { min-width: 48px; }
      .key-enter { min-width: 58px; }
      .key-shift-left { min-width: 62px; }
      .key-shift-right { min-width: 68px; }
      .key-ctrl { min-width: 36px; }
      .key-alt { min-width: 34px; }
      .key-space { min-width: 155px; }
      .key-backslash { min-width: 36px; }
      .key-spacer { min-width: 18px; }

      /* Visual Mouse */
      .visual-mouse {
          background: #050505;
          border-radius: 8.05px;
          border: 1px solid #0d0d0d;
          padding: 15px;
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 10px;
      }

      .mouse-title {
          font-size: 13px;
          font-weight: 600;
          color: #d1d5db;
      }

      .mouse-body {
          display: flex;
          flex-direction: column;
          gap: 10px;
      }

      .mouse-buttons-top {
          display: flex;
          gap: 6px;
      }

      .mouse-buttons-side {
          display: flex;
          gap: 6px;
      }

      .mouse-button {
          width: 100px;
          height: 60px;
          background: linear-gradient(135deg, #0d0d0d 0%, #080808 100%);
          border: 1px solid #1f1f1f;
          border-radius: 9.2px;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 11px;
          font-weight: 500;
          color: #d1d5db;
          cursor: pointer;
          transition: all 0.2s ease;
          position: relative;
      }

      .mouse-button-extra {
          width: 150px;
          height: 50px;
      }

      .mouse-button:hover {
          background: linear-gradient(135deg, #1a1a1a 0%, #0d0d0d 100%);
          border-color: rgba(var(--custom-color-rgb), 0.4);
          transform: translateY(-1px);
      }

      .mouse-button.has-function {
          background: linear-gradient(135deg, rgba(var(--custom-color-rgb), 0.25) 0%, rgba(var(--custom-color-rgb), 0.15) 100%);
          border-color: rgba(var(--custom-color-rgb), 0.5);
      }

      .mouse-button.has-function::after {
          content: attr(data-function-label);
          position: absolute;
          top: -18px;
          left: 50%;
          transform: translateX(-50%);
          background: rgba(var(--custom-color-rgb), 0.9);
          color: #e0e0e0;
          padding: 2px 6px;
          border-radius: 3px;
          font-size: 8px;
          font-weight: 600;
          white-space: nowrap;
          pointer-events: none;
      }

      .mouse-button.drag-over {
          background: linear-gradient(135deg, rgba(var(--custom-color-rgb), 0.35) 0%, rgba(var(--custom-color-rgb), 0.25) 100%);
          border-color: rgba(var(--custom-color-rgb), 0.8);
          box-shadow: 0 0 15px rgba(var(--custom-color-rgb), 0.4);
      }

      .mouse-button-label {
          z-index: 1;
      }

      /* ===== PERFORMANCE MODE TOGGLE ===== */
      .perf-toggle {
          position: relative;
          display: inline-block;
          cursor: pointer;
      }

      .perf-toggle input {
          display: none;
      }

      .perf-box {
          position: relative;
          display: inline-block;
          width: 22px;
          height: 22px;
          background: #080808;
          border: 2px solid #333333;
          border-radius: 6.9px;
          transition: all 0.2s;
      }

      .perf-toggle input:checked + .perf-box {
          background: var(--custom-color);
          border-color: var(--custom-color);
      }

      .perf-toggle input:checked + .perf-box::after {
          content: '';
          position: absolute;
          left: 50%;
          top: 50%;
          transform: translate(-50%, -50%);
          color: #e0e0e0;
          font-size: 14.4px;
          font-weight: bold;
          line-height: 1;
      }

      .perf-toggle:hover .perf-box {
          border-color: #4d4d4d;
      }

      /* ===== PERFORMANCE MODE OPTIMIZATIONS ===== */
      /* Disable ALL animations and transitions when performance mode is enabled */
      body.performance-mode,
      body.performance-mode *,
      body.performance-mode *::before,
      body.performance-mode *::after,
      body.performance-mode div,
      body.performance-mode span,
      body.performance-mode button,
      body.performance-mode input,
      body.performance-mode .loading-screen,
      body.performance-mode .titlebar,
      body.performance-mode .particle,
      body.performance-mode .border-runner,
      body.performance-mode .swirl,
      body.performance-mode .wave {
          animation: none !important;
          animation-delay: 0s !important;
          animation-duration: 0s !important;
          animation-iteration-count: 0 !important;
          transition: none !important;
          transition-delay: 0s !important;
          transition-duration: 0s !important;
      }

      /* Remove transforms and effects on hover states */
      body.performance-mode *:hover {
          transform: none !important;
          box-shadow: none !important;
      }

      /* Ensure critical transforms stay for positioning (like centering) */
      body.performance-mode .perf-box::after {
          transform: translate(-50%, -50%) !important;
      }

      /* Fix tab content visibility in performance mode */
      body.performance-mode .tab-content.active {
          opacity: 1 !important;
          transform: translateY(0) !important;
      }

      /* ===== SLIDER ===== */
      .slider-container {
          width: 100%;
          display: none !important;
          visibility: hidden !important;
          height: 0 !important;
          overflow: hidden !important;
          margin: 0 !important;
          padding: 0 !important;
      }

      .slider,
      input[type="range"],
      input.slider {
          width: 0 !important;
          height: 0 !important;
          display: none !important;
          visibility: hidden !important;
          opacity: 0 !important;
          position: absolute !important;
          left: -9999px !important;
          pointer-events: none !important;
      }

      .slider::-webkit-slider-thumb {
          display: none !important;
      }

      .slider::-webkit-slider-thumb:hover {
          display: none !important;
      }

      body.theme-purple .slider,
      body.theme-purple input[type="range"] {
          display: none !important;
          visibility: hidden !important;
      }

      .slider-value {
          display: none !important;
          visibility: hidden !important;
      }

      /* Hide any slider value elements */
      [id$="-value"]:not(#color-value) {
          display: none !important;
          visibility: hidden !important;
      }

      .slider-container [id$="-value"] {
          display: none !important;
          visibility: hidden !important;
      }

      /* ===== PROFESSIONAL NUMBER SPINNER ===== */
      .number-spinner {
          display: flex;
          align-items: center;
          gap: 13.2px;
          width: 100%;
      }

      .spinner-input {
          flex: 1;
          padding: 12.1px 16.5px;
          background: #080808;
          border: 1px solid #1a1a1a;
          border-radius: 16px;
          color: #e0e0e0;
          font-size: 13.86px;
          font-weight: 600;
          font-family: 'Inter', sans-serif;
          text-align: center;
          transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
          -moz-appearance: textfield;
          appearance: textfield;
          letter-spacing: 0.44px;
          box-shadow:
              0 2.2px 4.4px rgba(0, 0, 0, 0.2) inset,
              0 1.1px 2.2px rgba(0, 0, 0, 0.1) inset;
      }

      .spinner-input::-webkit-outer-spin-button,
      .spinner-input::-webkit-inner-spin-button {
          -webkit-appearance: none;
          margin: 0;
      }

      .spinner-input:focus {
          outline: none;
          border-color: rgba(var(--custom-color-rgb), 0.5);
          background: #0d0d0d;
      }

      .spinner-buttons {
          display: flex;
          flex-direction: column;
          gap: 4px;
      }

      .spinner-btn {
          width: 32px;
          height: 22px;
          background: #0d0d0d;
          border: 1px solid #1a1a1a;
          border-radius: 6.9px;
          color: #e0e0e0;
          cursor: pointer;
          transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 12.6px;
          font-weight: 700;
          line-height: 1;
          padding: 0;
          box-shadow:
              0 1px 3px rgba(0, 0, 0, 0.2),
              0 1px 2px #0d0d0d inset;
      }

      .spinner-btn:hover {
          background: rgba(var(--custom-color-rgb), 0.2);
          border-color: rgba(var(--custom-color-rgb), 0.5);
          transform: translateY(-2px) scale(1.05);
          box-shadow:
              0 2px 6px rgba(var(--custom-color-rgb), 0.3),
              0 4px 12px rgba(var(--custom-color-rgb), 0.15),
              0 1px 2px #1a1a1a inset;
      }

      .spinner-btn:active {
          transform: translateY(0);
      }

      .spinner-label {
          font-size: 9.9px;
          color: #808080;
          text-align: center;
          margin-top: 4px;
      }

      /* ===== CHECKBOX ===== */
      .checkbox-container {
          display: flex;
          align-items: center;
          gap: 11px;
          margin-bottom: 14px;
          padding: 11px 14px;
          background: #050505;
          border-radius: 9.66px;
          border: 1px solid #0d0d0d;
          opacity: 0;
          animation: fadeInUp 0.5s ease-out forwards;
          animation-delay: 0.5s;
          transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      }

      .checkbox {
          width: 18px;
          height: 18px;
          cursor: pointer;
          accent-color: var(--custom-color);
      }

      /* ===== BUTTONS ===== */
      .button-group {
          display: grid;
          grid-template-columns: 2fr 1fr;
          gap: 12px;
          margin-top: 24px;
          opacity: 0;
          animation: fadeInUp 0.6s ease-out 0.7s forwards;
      }

      .btn {
          padding: 14px 24px;
          border: none;
          border-radius: 9.66px;
          cursor: pointer;
          font-size: 12.6px;
          font-weight: 600;
          font-family: 'Inter', sans-serif;
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
          letter-spacing: 0.4px;
          position: relative;
          z-index: 100;
          pointer-events: auto;
      }

      .btn-clear {
          background: #0d0d0d;
          color: #b3b3b3;
          border: 1px solid #1a1a1a;
      }

      .btn-clear:hover {
          background: #141414;
          color: #e0e0e0;
          transform: translateY(-2px);
      }

      /* ===== TOGGLE BUTTON ===== */
      .button-group {
          display: flex;
          gap: 9.68px;
          margin-top: 19.36px;
          position: relative;
          z-index: 10;
          pointer-events: auto;
          width: auto;
          max-width: 180px;
      }

      .btn-start {
          flex: 1;
          width: 100%;
          padding: 8px 16px;
          background: var(--bg-secondary);
          border: 1px solid var(--border-secondary);
          border-radius: 6.3px;
          color: var(--text-tertiary);
          cursor: pointer;
          font-size: 10px;
          font-weight: 600;
          font-family: 'Inter', sans-serif;
          transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
          letter-spacing: 0.5px;
          text-transform: uppercase;
          position: relative;
          z-index: 10;
          pointer-events: auto;
          box-shadow: var(--shadow-sm);
      }

      .btn-start span {
          pointer-events: none;
          display: block;
          width: 100%;
      }

      /* Macro tabs content - 15% bigger */
      .tab-content:not(:first-of-type) .btn-start {
          padding: 14.57px 29.14px; /* 12.67 * 1.15, 25.34 * 1.15 */
          font-size: 10.93px; /* 9.5 * 1.15 */
          letter-spacing: 1.214px; /* 1.056 * 1.15 */
      }

      .btn-start.active {
          background: rgba(var(--custom-color-rgb), 0.1);
          border-color: var(--custom-color);
          color: var(--custom-color);
          box-shadow: none;
      }

      .btn-start.active:hover {
          background: rgba(var(--custom-color-rgb), 0.15);
          transform: translateY(-1px);
          box-shadow: none;
      }

      .btn-clear {
          padding: 16px 24px;
          background: linear-gradient(135deg, #0a0a0a 0%, #050505 100%);
          color: #b3b3b3;
          border: 2px solid #1f1f1f;
          border-radius: 7.25px;
          cursor: pointer;
          font-size: 12px;
          font-weight: 700;
          font-family: 'Inter', sans-serif;
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
          letter-spacing: 1.2px;
          text-transform: uppercase;
          backdrop-filter: blur(15.015px);
          box-shadow:
              0 4px 14px rgba(0, 0, 0, 0.35),
              0 6px 20px rgba(0, 0, 0, 0.2),
              0 0 0 1px #0d0d0d inset,
              0 2px 4px #141414 inset;
      }

      .btn-clear:hover {
          background: #0a0a0a;
          border-color: rgba(255, 255, 255, 0.35);
          color: #f2f2f2;
          transform: translateY(-4px) scale(1.02);
          box-shadow:
              0 8px 24px rgba(0, 0, 0, 0.45),
              0 12px 32px rgba(0, 0, 0, 0.25),
              0 0 0 1px #1a1a1a inset,
              0 3px 6px #1f1f1f inset,
              0 0 16px #0d0d0d;
      }

      .btn-clear:active {
          transform: translateY(0);
      }

      /* Application Settings Section */
      .app-settings-container {
          background: linear-gradient(135deg, rgba(24, 24, 24, 0.396), rgba(13, 13, 13, 0.396), rgba(0, 0, 0, 0.396));
          border: none;
          border-radius: 12.6px;
          padding: 18px;
          margin-top: 18px;
          margin-bottom: 18px;
          backdrop-filter: blur(24.778px);
          -webkit-backdrop-filter: blur(24.778px);
          box-shadow:
              0 4px 12px rgba(0, 0, 0, 0.2),
              0 6px 20px rgba(0, 0, 0, 0.1),
              0 0 0 1px #0d0d0d inset,
              0 2px 4px #141414 inset;
      }

      /* View All Products Button */
      .view-products-container {
          display: flex;
          justify-content: center;
          margin-top: 20px;
      }

      .btn-view-products {
          background: linear-gradient(135deg, rgba(24, 24, 24, 0.6), rgba(13, 13, 13, 0.6), rgba(0, 0, 0, 0.6));
          border: 1px solid rgba(255, 255, 255, 0.1);
          border-radius: 8px;
          padding: 12px 24px;
          color: #e0e0e0;
          font-size: 13px;
          font-weight: 600;
          font-family: 'Inter', sans-serif;
          text-decoration: none;
          display: inline-block;
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
          letter-spacing: 0.5px;
          backdrop-filter: blur(10px);
          -webkit-backdrop-filter: blur(10px);
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      }

      .btn-view-products:hover {
          background: linear-gradient(135deg, rgba(24, 24, 24, 0.8), rgba(13, 13, 13, 0.8), rgba(0, 0, 0, 0.8));
          border-color: rgba(255, 255, 255, 0.2);
          color: #ffffff;
          transform: translateY(-2px);
          box-shadow: 0 6px 16px rgba(0, 0, 0, 0.4);
      }

      .btn-view-products:active {
          transform: translateY(0);
      }

      .setting-item {
          display: flex;
          justify-content: space-between;
          align-items: center;
          gap: 14px;
      }

      .setting-info {
          flex: 1;
      }

      .setting-label {
          font-size: 11px;
          font-weight: 600;
          color: #e0e0e0;
          display: block;
          margin-bottom: 3px;
          letter-spacing: 0.3px;
          line-height: 1.4;
      }

      .setting-description {
          font-size: 9.5px;
          color: #808080;
          margin: 0;
          line-height: 1.3;
      }

      /* Color Scheme Selector */
      .color-picker-container {
          display: flex;
          align-items: center;
          gap: 12px;
          position: relative;
          z-index: 100;
          pointer-events: auto;
      }

      .color-picker-input {
          width: 50px;
          height: 36px;
          border: 2px solid #333333;
          border-radius: 16px;
          background: #080808;
          cursor: pointer;
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
          position: relative;
          z-index: 100;
          pointer-events: auto;
          box-shadow:
              0 2px 4px rgba(0, 0, 0, 0.2),
              0 1px 2px rgba(0, 0, 0, 0.1);
      }

      .color-picker-input:hover {
          border-color: #666666;
          transform: scale(1.08);
          box-shadow:
              0 4px 8px rgba(0, 0, 0, 0.3),
              0 2px 4px rgba(0, 0, 0, 0.15);
      }

      .color-picker-input::-webkit-color-swatch-wrapper {
          padding: 4px;
      }

      .color-picker-input::-webkit-color-swatch {
          border: none;
          border-radius: 12px;
      }

      .color-preview {
          width: 24px;
          height: 24px;
          border-radius: 8px;
          background: var(--custom-color, #dc2626);
          border: 2px solid #333333;
          box-shadow:
              0 2px 8px rgba(0, 0, 0, 0.35),
              0 4px 12px rgba(0, 0, 0, 0.2),
              0 1px 2px #1a1a1a inset;
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .color-value {
          font-size: 10.8px;
          font-weight: 600;
          font-family: 'Courier New', monospace;
          color: #e0e0e0;
          letter-spacing: 0.8px;
      }

      .red-dot {
          background: linear-gradient(135deg, #dc2626, #ef4444);
      }

      .purple-dot {
          background: linear-gradient(135deg, #7c3aed, #6d28d9);
      }

      /* Toggle Switch */
      .toggle-switch {
          position: relative;
          display: inline-block;
          width: 43px;
          height: 29px;
          flex-shrink: 0;
      }

      .toggle-switch input {
          opacity: 0;
          width: 0;
          height: 0;
      }

      .toggle-slider {
          position: absolute;
          cursor: pointer;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background-color: #1a1a1a;
          transition: all 0.2s ease;
          border-radius: 6px;
          border: 1px solid #222;
          box-shadow: none;
          display: flex;
          align-items: center;
          justify-content: center;
      }

      .toggle-slider:before {
          display: none;
      }

      .toggle-switch input:checked + .toggle-slider {
          background-color: rgba(var(--custom-color-rgb), 0.2);
          border-color: rgba(var(--custom-color-rgb), 0.4);
          box-shadow: none;
      }

      .toggle-switch input:checked + .toggle-slider:before {
          display: none;
      }

      .toggle-switch:hover .toggle-slider {
          background-color: #222;
          border-color: #333;
      }

      .toggle-switch input:checked:hover + .toggle-slider {
          background-color: rgba(var(--custom-color-rgb), 0.25);
          border-color: rgba(var(--custom-color-rgb), 0.5);
      }

      /* Macro Selector Dropdown */
      .macro-selector-container {
          margin-bottom: 24px;
          padding: 20px;
          background: rgba(20, 20, 20, 0.6);
          border: 1px solid rgba(255, 255, 255, 0.05);
          border-radius: 0px;
      }

      .macro-selector-label {
          display: block;
          font-size: 12px;
          font-weight: 600;
          color: #e0e0e0;
          margin-bottom: 12px;
          text-transform: uppercase;
          letter-spacing: 1px;
      }

      .macro-selector {
          width: 100%;
          padding: 12px 16px;
          background: rgba(0, 0, 0, 0.6);
          border: 1px solid rgba(255, 255, 255, 0.1);
          border-radius: 0px;
          color: #e0e0e0;
          font-size: 14px;
          font-family: 'Inter', sans-serif;
          cursor: pointer;
          transition: all 0.3s ease;
          appearance: none;
          background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23e0e0e0' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
          background-repeat: no-repeat;
          background-position: right 16px center;
          padding-right: 40px;
      }

      .macro-selector:hover {
          border-color: rgba(var(--custom-color-rgb), 0.3);
          background-color: rgba(0, 0, 0, 0.8);
      }

      .macro-selector:focus {
          outline: none;
          border-color: rgba(var(--custom-color-rgb), 0.5);
          box-shadow: 0 0 0 3px rgba(var(--custom-color-rgb), 0.1);
      }

      .macro-selector option {
          background: #0a0a0a;
          color: #e0e0e0;
          padding: 10px;
      }

      .macro-section {
          display: none;
      }

      .macro-section.active {
          display: block;
          animation: fadeInMacro 0.3s ease;
      }

      @keyframes fadeInMacro {
          from {
              opacity: 0;
              transform: translateY(10px);
          }
          to {
              opacity: 1;
              transform: translateY(0);
          }
      }


      .btn-toggle.enabled:hover {
          background: linear-gradient(135deg, var(--custom-color-dark), var(--custom-color-dark));
          color: #e6e6e6;
          border-color: var(--custom-color-dark);
          transform: translateY(-2px);
      }

      .btn-toggle.enabled:hover::before {
          content: 'Click to Disable';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          display: flex;
          align-items: center;
          justify-content: center;
          background: linear-gradient(135deg, var(--custom-color-dark), var(--custom-color-dark));
      }

      .btn-toggle .toggle-text {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 10px;
      }

      /* ===== STATUS ===== */
      .status-container {
          display: none !important;
          visibility: hidden !important;
      }

      .status-indicator {
          width: 9.6px;
          height: 9.6px;
          border-radius: 50%;
          background: #6b7280;
          box-shadow: 0 0 0 0 rgba(107, 114, 128, 0.7);
          transition: all 0.3s ease;
          display: none;
      }

      .status-indicator.active {
          background: var(--custom-color);
          box-shadow: 0 0 0 4px rgba(var(--custom-color-rgb), 0.2);
          animation: statusPulse 2s ease-in-out infinite;
      }

      @keyframes statusPulse {
          0%, 100% {
              box-shadow: 0 0 0 0 rgba(var(--custom-color-rgb), 0.7);
          }
          50% {
              box-shadow: 0 0 0 6px rgba(var(--custom-color-rgb), 0);
          }
      }

      .status-info {
          display: none !important;
          visibility: hidden !important;
      }

      .status-text {
          display: none !important;
          visibility: hidden !important;
      }

      .status-runtime {
          font-size: 8.712px;
          color: var(--custom-color);
          font-weight: 500;
          letter-spacing: 0.528px;
          animation: fadeIn 0.3s ease;
          display: none !important;
      }


      .grid-2 {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 14px;
      }

      .grid-2 > * {
          opacity: 0;
          animation: fadeInUp 0.5s ease-out forwards;
      }

      .grid-2 > *:nth-child(1) { animation-delay: 0.2s; }
      .grid-2 > *:nth-child(2) { animation-delay: 0.3s; }
      .grid-2 > *:nth-child(3) { animation-delay: 0.4s; }
      .grid-2 > *:nth-child(4) { animation-delay: 0.5s; }
      .grid-2 > *:nth-child(5) { animation-delay: 0.6s; }
      .grid-2 > *:nth-child(6) { animation-delay: 0.7s; }
      .grid-2 > *:nth-child(7) { animation-delay: 0.8s; }
      .grid-2 > *:nth-child(8) { animation-delay: 0.9s; }

      /* ===== ABOUT SECTION ===== */
      .about-hero {
          background: linear-gradient(135deg, rgba(32, 32, 32, 0.33), rgba(16, 16, 16, 0.33), rgba(0, 0, 0, 0.33));
          border: 1px solid rgba(255, 255, 255, 0.1);
          border-radius: 12px;
          padding: 18px;
          margin-bottom: 15px;
          text-align: center;
          opacity: 0;
          animation: fadeInUp 0.6s ease-out 0.2s forwards;
          backdrop-filter: blur(24.778px);
          -webkit-backdrop-filter: blur(24.778px);
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
      }

      .about-hero h2 {
          font-size: 18px;
          background: linear-gradient(135deg, var(--custom-color), var(--custom-color-light));
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
          margin-bottom: 10px;
          font-weight: 807;
          letter-spacing: -1px;
          -webkit-font-smoothing: antialiased;
          -moz-osx-font-smoothing: grayscale;
          text-rendering: optimizeLegibility;
      }

      .about-content {
          font-size: 12.6px;
          line-height: 1.7;
          color: #b3b3b3;
          font-weight: 407;
          -webkit-font-smoothing: antialiased;
          -moz-osx-font-smoothing: grayscale;
          text-rendering: optimizeLegibility;
      }

      .mission-card {
          background: #050505;
          border: 1px solid #0d0d0d;
          border-radius: 8.05px;
          padding: 22px;
          transition: all 0.3s;
      }

      .mission-card:hover {
          border-color: rgba(var(--custom-color-rgb), 0.3);
          background: #080808;
          transform: translateY(-4px);
          box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
      }

      .mission-card h3 {
          color: var(--custom-color-light);
          font-size: 12.6px;
          margin-bottom: 11px;
          font-weight: 707;
          letter-spacing: -0.3px;
      }

      .mission-card p {
          font-size: 10.8px;
          line-height: 1.6;
          color: #999999;
          font-weight: 407;
      }

      /* ===== INSTRUCTIONS ===== */
      .instructions-box {
          background: linear-gradient(135deg, rgba(var(--custom-color-rgb), 0.08) 0%, rgba(var(--custom-color-rgb), 0.02) 100%);
          border: 1px solid rgba(var(--custom-color-rgb), 0.2);
          border-radius: 8.05px;
          padding: 22px 26.4px;
          margin-bottom: 26.4px;
          opacity: 0;
          animation: fadeInUp 0.6s ease-out 0.05s forwards;
          backdrop-filter: blur(15.015px);
          box-shadow:
              0 4.4px 13.2px rgba(0, 0, 0, 0.2),
              0 0 0 1px rgba(var(--custom-color-rgb), 0.1) inset;
          position: relative;
          overflow: hidden;
      }

      .instructions-box::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          height: 2px;
          background: linear-gradient(90deg,
              transparent,
              rgba(var(--custom-color-rgb), 0.4),
              rgba(239, 68, 68, 0.3),
              transparent);
      }

      .instructions-title {
          font-size: 13.86px;
          color: var(--custom-color-light);
          font-weight: 707;
          margin-bottom: 15.4px;
          letter-spacing: 0.33px;
      }

      .instructions-box p {
          font-size: 12.87px;
          line-height: 1.7;
          color: rgba(255, 255, 255, 0.65);
          margin-bottom: 8.8px;
          font-weight: 407;
      }

      .instructions-box p:last-child {
          margin-bottom: 0;
      }

      /* ===== COLLAPSIBLE INSTRUCTIONS ===== */
      .instructions-button {
          width: 100%;
          background: linear-gradient(135deg, rgba(var(--custom-color-rgb), 0.08) 0%, rgba(var(--custom-color-rgb), 0.02) 100%);
          border: 1px solid rgba(var(--custom-color-rgb), 0.2);
          border-radius: 0;
          padding: 16px 24px;
          margin-bottom: 24px;
          backdrop-filter: blur(15.015px);
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2), 0 0 0 1px rgba(var(--custom-color-rgb), 0.1) inset;
          position: relative;
          overflow: hidden;
          cursor: pointer;
          transition: all 0.3s ease;
          display: flex;
          align-items: center;
          justify-content: space-between;
          opacity: 0;
          animation: fadeInUp 0.6s ease-out 0.05s forwards;
      }

      .instructions-button:hover {
          background: linear-gradient(135deg, rgba(var(--custom-color-rgb), 0.12) 0%, rgba(var(--custom-color-rgb), 0.04) 100%);
          border-color: rgba(var(--custom-color-rgb), 0.3);
          transform: translateY(-2px);
          box-shadow: 0 6px 16px rgba(0, 0, 0, 0.3), 0 0 0 1px rgba(var(--custom-color-rgb), 0.15) inset;
      }

      .instructions-button::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          height: 2px;
          background: linear-gradient(90deg, transparent, rgba(var(--custom-color-rgb), 0.4), rgba(239, 68, 68, 0.3), transparent);
      }

      .instructions-button-title {
          font-size: 12.6px;
          color: var(--custom-color-light);
          font-weight: 707;
          letter-spacing: 0.3px;
          flex: 1;
          text-align: left;
      }

      .instructions-toggle-icon {
          font-size: 18px;
          color: var(--custom-color-light);
          transition: transform 0.3s ease;
          margin-left: 12px;
      }

      .instructions-button.expanded .instructions-toggle-icon {
          transform: rotate(180deg);
      }

      /* Settings Toggle Button Styles */
      .settings-toggle-button {
          width: 100%;
          padding: 14px 18px;
          background: linear-gradient(135deg, rgba(20, 20, 20, 0.9) 0%, rgba(10, 10, 10, 0.95) 100%);
          border: 1px solid rgba(255, 255, 255, 0.1);
          border-radius: 8px;
          color: #e0e0e0;
          cursor: pointer;
          text-align: left;
          font-size: 13px;
          font-weight: 600;
          font-family: 'Inter', sans-serif;
          display: flex;
          justify-content: space-between;
          align-items: center;
          transition: all 0.3s ease;
          margin-bottom: 8px;
          position: relative;
          overflow: hidden;
      }

      .settings-toggle-button::before {
          content: '';
          position: absolute;
          left: 0;
          top: 0;
          bottom: 0;
          width: 4px;
          background: rgba(var(--custom-color-rgb), 0.6);
          transition: all 0.3s ease;
      }

      .settings-toggle-button:hover {
          background: linear-gradient(135deg, rgba(30, 30, 30, 0.95) 0%, rgba(20, 20, 20, 1) 100%);
          border-color: rgba(var(--custom-color-rgb), 0.3);
          transform: translateX(2px);
      }

      .settings-toggle-button:hover::before {
          width: 6px;
          background: var(--custom-color);
      }

      .settings-toggle-button.active {
          background: linear-gradient(135deg, rgba(var(--custom-color-rgb), 0.15) 0%, rgba(var(--custom-color-rgb), 0.08) 100%);
          border-color: rgba(var(--custom-color-rgb), 0.4);
      }

      .settings-toggle-button.active::before {
          width: 4px;
          background: var(--custom-color);
      }

      .settings-toggle-icon {
          font-size: 16px;
          transition: transform 0.3s ease;
          color: #999;
      }

      .settings-toggle-button.active .settings-toggle-icon {
          transform: rotate(180deg);
          color: var(--custom-color);
      }

      .settings-section-content {
          max-height: 0;
          overflow: hidden;
          transition: max-height 0.4s ease, padding 0.4s ease, margin 0.4s ease;
          background: rgba(10, 10, 10, 0.6);
          border: 1px solid transparent;
          border-radius: 8px;
          margin-bottom: 0;
      }

      .settings-section-content.active {
          max-height: 800px;
          padding: 12px 16px;
          border-color: rgba(255, 255, 255, 0.05);
          margin-bottom: 12px;
      }


      .instructions-content {
          max-height: 0;
          overflow: hidden;
          transition: max-height 0.4s ease, margin-bottom 0.4s ease;
          background: linear-gradient(135deg, rgba(var(--custom-color-rgb), 0.04) 0%, rgba(var(--custom-color-rgb), 0.01) 100%);
          border: 1px solid rgba(var(--custom-color-rgb), 0.15);
          border-radius: 14px;
          margin-bottom: 0;
      }

      .instructions-content.expanded {
          max-height: 500px;
          margin-bottom: 24px;
      }

      .instructions-content-inner {
          padding: 20px 24px;
      }

      .instructions-content p {
          font-size: 11.7px;
          line-height: 1.7;
          color: rgba(255, 255, 255, 0.65);
          margin-bottom: 8px;
          font-weight: 407;
      }

      .instructions-content p:last-child {
          margin-bottom: 0;
      }

      /* ===== SCROLLBAR ===== */
      ::-webkit-scrollbar {
          width: 0px !important;
          display: none !important;
      }

      ::-webkit-scrollbar-track {
          background: transparent !important;
          display: none !important;
      }

      ::-webkit-scrollbar-thumb {
          display: none !important;
          width: 0 !important;
          background: transparent !important;
      }

      ::-webkit-scrollbar-thumb:hover {
          display: none !important;
          background: transparent !important;
      }

      /* ===== SAVE PROFILE BUTTON ===== */
      .save-profile-container {
          margin-top: 29px;
          text-align: center;
          opacity: 0;
          animation: fadeInUp 0.6s ease-out 0.6s forwards;
      }

      .btn-save-profile {
          width: 100%;
          padding: 18px 29px;
          background: linear-gradient(135deg, var(--custom-color), var(--custom-color-dark));
          color: #e0e0e0;
          border: none;
          border-radius: 8.05px;
          font-size: 12.6px;
          font-weight: 707;
          font-family: 'Inter', sans-serif;
          cursor: pointer;
          transition: all 0.3s;
          box-shadow: 0 8px 24px rgba(var(--custom-color-rgb), 0.3),
                      0 0 0 1px rgba(var(--custom-color-rgb), 0.1);
          letter-spacing: 0.5px;
      }

      .btn-save-profile:hover {
          transform: translateY(-3px);
          box-shadow: 0 12px 32px rgba(var(--custom-color-rgb), 0.4);
      }

      .save-profile-description {
          font-size: 9.9px;
          color: #666666;
          margin-top: 11px;
          font-weight: 407;
      }

      /* ===== DISCORD COMMUNITY SECTION ===== */
      .discord-banner {
          background: linear-gradient(135deg, rgba(88, 101, 242, 0.15), rgba(88, 101, 242, 0.08));
          border: 1px solid rgba(88, 101, 242, 0.3);
          border-radius: 14px;
          padding: 15px 20px;
          margin-bottom: 15px;
          display: flex;
          align-items: center;
          justify-content: space-between;
          transition: all 0.3s ease;
          opacity: 0;
          animation: fadeInUp 0.6s ease-out 0.1s forwards;
      }

      .discord-banner:hover {
          border-color: rgba(88, 101, 242, 0.5);
          background: linear-gradient(135deg, rgba(88, 101, 242, 0.2), rgba(88, 101, 242, 0.12));
          transform: translateY(-2px);
          box-shadow: 0 8px 24px rgba(88, 101, 242, 0.2);
      }

      .discord-content {
          flex: 1;
      }

      .discord-title {
          font-size: 16.2px;
          font-weight: 807;
          color: #5865f2;
          margin-bottom: 7px;
          letter-spacing: -0.5px;
          display: flex;
          align-items: center;
          gap: 10px;
      }

      .discord-icon {
          width: 25px;
          height: 25px;
          display: inline-block;
      }

      .discord-description {
          font-size: 10.8px;
          color: #999999;
          line-height: 1.5;
      }

      .discord-btn {
          padding: 13px 25px;
          background: linear-gradient(135deg, #5865f2, #4752c4);
          color: #e0e0e0;
          border: none;
          border-radius: 16px;
          font-size: 11.7px;
          font-weight: 707;
          font-family: 'Inter', sans-serif;
          cursor: pointer;
          transition: all 0.3s;
          letter-spacing: 0.3px;
          text-decoration: none;
          display: inline-flex;
          align-items: center;
          gap: 7px;
          box-shadow: 0 4px 12px rgba(88, 101, 242, 0.3);
      }

      .discord-btn:hover {
          background: linear-gradient(135deg, #4752c4, #3c45a5);
          transform: translateY(-2px);
          box-shadow: 0 6px 20px rgba(88, 101, 242, 0.4);
      }

      .discord-btn svg {
          width: 20px;
          height: 20px;
          fill: currentColor;
      }

      /* ===== HELP & SUPPORT SECTION ===== */
      .help-header {
          background: linear-gradient(135deg, rgba(var(--custom-color-rgb), 0.1), rgba(var(--custom-color-rgb), 0.05));
          border: 1px solid rgba(var(--custom-color-rgb), 0.2);
          border-radius: 8.05px;
          padding: 24px 28px;
          margin-bottom: 24px;
          text-align: center;
          opacity: 0;
          animation: fadeInUp 0.6s ease-out 0.1s forwards;
      }

      .help-header h2 {
          font-size: 21.6px;
          color: var(--custom-color-light);
          margin-bottom: 8px;
          font-weight: 707;
          letter-spacing: -0.5px;
      }

      .help-header p {
          font-size: 11.7px;
          color: #999999;
          line-height: 1.6;
      }

      .troubleshoot-card {
          background: linear-gradient(135deg, rgba(32, 32, 32, 0.9), rgba(16, 16, 16, 0.85), rgba(0, 0, 0, 0.8));
          border: 2px solid rgba(var(--custom-color-rgb), 0.3);
          border-left: 4px solid var(--custom-color);
          border-radius: 14px;
          padding: 20px 24px;
          margin-bottom: 16px;
          transition: all 0.3s ease;
          opacity: 0;
          animation: fadeInUp 0.5s ease-out forwards;
          box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3),
                      0 0 0 1px rgba(var(--custom-color-rgb), 0.1) inset;
      }

      .troubleshoot-card:nth-child(2) { animation-delay: 0.2s; }
      .troubleshoot-card:nth-child(3) { animation-delay: 0.3s; }
      .troubleshoot-card:nth-child(4) { animation-delay: 0.4s; }
      .troubleshoot-card:nth-child(5) { animation-delay: 0.5s; }
      .troubleshoot-card:nth-child(6) { animation-delay: 0.6s; }

      .troubleshoot-card:hover {
          background: linear-gradient(135deg, rgba(32, 32, 32, 0.95), rgba(16, 16, 16, 0.92), rgba(0, 0, 0, 0.9));
          border: 2px solid rgba(var(--custom-color-rgb), 0.6);
          border-left-width: 6px;
          transform: translateX(3px);
          box-shadow: 0 8px 24px rgba(0, 0, 0, 0.5),
                      0 0 30px rgba(var(--custom-color-rgb), 0.3),
                      0 0 0 1px rgba(var(--custom-color-rgb), 0.2) inset;
      }

      .troubleshoot-title {
          font-size: 13.5px;
          color: #e0e0e0;
          font-weight: 707;
          margin-bottom: 8px;
          letter-spacing: -0.3px;
          display: flex;
          align-items: center;
          gap: 10px;
      }

      .issue-icon {
          width: 20px;
          height: 20px;
          background: linear-gradient(135deg, var(--custom-color), var(--custom-color-dark));
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 9.9px;
          font-weight: 707;
          color: #e0e0e0;
          flex-shrink: 0;
      }

      .troubleshoot-description {
          font-size: 11.7px;
          color: #999999;
          line-height: 1.6;
          margin-bottom: 12px;
      }

      .troubleshoot-steps {
          font-size: 10.8px;
          color: #808080;
          line-height: 1.7;
          padding-left: 30px;
      }

      .troubleshoot-steps li {
          margin-bottom: 6px;
      }

      .btn-fix {
          padding: 10px 20px;
          background: linear-gradient(135deg, var(--custom-color), var(--custom-color-dark));
          color: #e0e0e0;
          border: none;
          border-radius: 16px;
          font-size: 11.7px;
          font-weight: 607;
          font-family: 'Inter', sans-serif;
          cursor: pointer;
          transition: all 0.3s;
          display: inline-flex;
          align-items: center;
          gap: 8px;
          letter-spacing: 0.2px;
      }

      .btn-fix:hover {
          background: linear-gradient(135deg, var(--custom-color-dark), var(--custom-color-dark));
          transform: translateY(-2px);
      }

      .btn-fix.secondary {
          background: #0d0d0d;
          color: #cccccc;
      }

      .btn-fix.secondary:hover {
          background: #1a1a1a;
          color: #e0e0e0;
      }

      .quick-fixes {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 12px;
          margin-top: 16px;
      }


      .developer-credit {
          text-align: right;
          padding: 20px 40px;
          margin-top: 40px;
          font-size: 11.7px;
          color: #666666;
          font-weight: 507;
          border-top: 1px solid #0d0d0d;
      }

      .developer-credit span {
          background: linear-gradient(135deg, var(--custom-color), var(--custom-color-light));
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
          font-weight: 707;
          letter-spacing: 0.5px;
      }

      body.theme-purple .developer-credit span {
          background: linear-gradient(135deg, #7c3aed, #9333ea);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
      }

      .contact-support {
          background: linear-gradient(135deg, rgba(88, 101, 242, 0.1), rgba(88, 101, 242, 0.05));
          border: 1px solid rgba(88, 101, 242, 0.3);
          border-radius: 8.05px;
          padding: 24px;
          margin-top: 24px;
          text-align: center;
          opacity: 0;
          animation: fadeInUp 0.6s ease-out 0.7s forwards;
      }

      .contact-support h3 {
          font-size: 16.2px;
          color: #5865f2;
          margin-bottom: 12px;
          font-weight: 707;
      }

      .contact-support p {
          font-size: 11.7px;
          color: #999999;
          margin-bottom: 16px;
          line-height: 1.6;
      }

      .social-links {
          display: flex;
          justify-content: center;
          gap: 16px;
          margin-top: 20px;
          padding-top: 20px;
          border-top: 1px solid rgba(88, 101, 242, 0.2);
      }

      .social-icon {
          width: 40px;
          height: 40px;
          display: flex;
          align-items: center;
          justify-content: center;
          border-radius: 50%;
          transition: all 0.3s ease;
          text-decoration: none;
      }

      .social-icon svg {
          width: 20px;
          height: 20px;
          fill: #b3b3b3;
          transition: all 0.3s ease;
      }

      .social-icon.tiktok {
          background: rgba(var(--custom-color-rgb), 0.1);
          border: 1px solid rgba(var(--custom-color-rgb), 0.3);
      }

      .social-icon.tiktok:hover {
          background: rgba(var(--custom-color-rgb), 0.2);
          border-color: rgba(var(--custom-color-rgb), 0.5);
          transform: translateY(-2px);
      }

      .social-icon.tiktok:hover svg {
          fill: var(--custom-color);
      }

      .social-icon.youtube {
          background: rgba(var(--custom-color-rgb), 0.1);
          border: 1px solid rgba(var(--custom-color-rgb), 0.3);
      }

      .social-icon.youtube:hover {
          background: rgba(var(--custom-color-rgb), 0.2);
          border-color: rgba(var(--custom-color-rgb), 0.5);
          transform: translateY(-2px);
      }

      .social-icon.youtube:hover svg {
          fill: var(--custom-color);
      }

      .diagnostic-info {
          background: #050505;
          border: 1px solid #0d0d0d;
          border-radius: 9.2px;
          padding: 16px;
          margin-top: 20px;
          font-size: 10.8px;
          color: #808080;
          font-family: 'Courier New', monospace;
      }

      .diagnostic-info .label {
          color: var(--custom-color-light);
          font-weight: 607;
      }

      /* ===== DISABLE ALL BUTTON (SIMPLE) ===== */
      .disable-all-button-container {
          margin-top: 12px;
          text-align: center;
          opacity: 0;
          animation: fadeInUp 0.6s ease-out 0.7s forwards;
      }

      .btn-disable-all-simple {
          width: auto;
          min-width: 160px;
          padding: 6px 12px;
          background: linear-gradient(135deg, rgba(var(--custom-color-rgb), 0.15) 0%, rgba(var(--custom-color-rgb), 0.08) 100%);
          color: var(--custom-color-light);
          border: 1px solid rgba(var(--custom-color-rgb), 0.3);
          border-radius: 6px;
          font-size: 10px;
          font-weight: 600;
          font-family: 'Inter', sans-serif;
          cursor: pointer;
          transition: all 0.3s;
          letter-spacing: 0.3px;
          position: relative;
          z-index: 10;
          pointer-events: auto;
          display: inline-block;
      }

      .btn-disable-all-simple:hover {
          background: linear-gradient(135deg, rgba(var(--custom-color-rgb), 0.22) 0%, rgba(var(--custom-color-rgb), 0.12) 100%);
          border-color: rgba(var(--custom-color-rgb), 0.5);
          transform: translateY(-2px);
      }

      .disable-all-button-description {
          font-size: 8px;
          color: #666666;
          margin-top: 6px;
          font-weight: 400;
      }

      /* ===== THEME POPUP ===== */
      .theme-popup {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: transparent;
          z-index: 10001;
          display: flex;
          align-items: center;
          justify-content: center;
          opacity: 0;
          pointer-events: none;
          transition: opacity 0.3s ease;
      }

      .theme-popup.show {
          opacity: 1;
          pointer-events: all;
      }

      .theme-popup-content {
          background: rgba(0, 0, 0, 0.95);
          border: 1px solid #1a1a1a;
          border-radius: 11.5px;
          padding: 40px;
          max-width: 450px;
          text-align: center;
          animation: popupSlideIn 0.4s ease-out;
      }

      @keyframes popupSlideIn {
          from {
              opacity: 0;
              transform: scale(0.9) translateY(20px);
          }
          to {
              opacity: 1;
              transform: scale(1) translateY(0);
          }
      }

      .theme-popup-title {
          font-size: 23.4px;
          font-weight: 807;
          color: #e0e0e0;
          margin-bottom: 12px;
          letter-spacing: -0.5px;
      }

      .theme-popup-description {
          font-size: 12.6px;
          color: #999999;
          margin-bottom: 32px;
      }

      .theme-buttons {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 16px;
      }

      .theme-btn {
          padding: 20px 24px;
          border: 2px solid;
          border-radius: 8.05px;
          font-size: 13.5px;
          font-weight: 707;
          font-family: 'Inter', sans-serif;
          cursor: pointer;
          transition: all 0.3s ease;
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 12px;
          letter-spacing: 0.3px;
      }

      .theme-btn svg {
          fill: currentColor;
      }

      .theme-btn-tiktok {
          background: linear-gradient(135deg, rgba(124, 58, 237, 0.1) 0%, rgba(124, 58, 237, 0.05) 100%);
          border-color: rgba(124, 58, 237, 0.3);
          color: #7c3aed;
      }

      .theme-btn-tiktok:hover {
          background: linear-gradient(135deg, rgba(124, 58, 237, 0.2) 0%, rgba(124, 58, 237, 0.1) 100%);
          border-color: rgba(124, 58, 237, 0.5);
          transform: translateY(-4px);
      }

      .theme-btn-youtube {
          background: linear-gradient(135deg, rgba(var(--custom-color-rgb), 0.1) 0%, rgba(var(--custom-color-rgb), 0.05) 100%);
          border-color: rgba(var(--custom-color-rgb), 0.3);
          color: var(--custom-color-light);
      }

      .theme-btn-youtube:hover {
          background: linear-gradient(135deg, rgba(var(--custom-color-rgb), 0.2) 0%, rgba(var(--custom-color-rgb), 0.1) 100%);
          border-color: rgba(var(--custom-color-rgb), 0.5);
          transform: translateY(-4px);
      }

      /* ===== CUSTOM ALERT MODAL ===== */
      .custom-alert-overlay {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: transparent;
          z-index: 10002;
          display: flex;
          align-items: center;
          justify-content: center;
          opacity: 0;
          pointer-events: none;
          transition: opacity 0.3s ease;
      }

      .custom-alert-overlay.show {
          opacity: 1;
          pointer-events: all;
      }

      .custom-alert-content {
          background: linear-gradient(135deg, rgba(32, 32, 32, 0.98), rgba(16, 16, 16, 0.98), rgba(0, 0, 0, 0.98));
          border: 2px solid rgba(var(--custom-color-rgb), 0.5);
          border-radius: 16px;
          padding: 29px 40px;
          max-width: 400px;
          min-width: 320px;
          text-align: center;
          animation: alertSlideIn 0.3s ease-out;
          box-shadow: 0 8px 32px rgba(var(--custom-color-rgb), 0.3), 0 0 0 1px rgba(var(--custom-color-rgb), 0.2) inset;
      }

      @keyframes alertSlideIn {
          from {
              opacity: 0;
              transform: scale(0.9) translateY(-20px);
          }
          to {
              opacity: 1;
              transform: scale(1) translateY(0);
          }
      }

      .custom-alert-title {
          font-size: 18.0px;
          font-weight: 707;
          background: linear-gradient(135deg, var(--custom-color), var(--custom-color-light));
          -webkit-background-clip: text;
          background-clip: text;
          -webkit-text-fill-color: transparent;
          margin-bottom: 16px;
          letter-spacing: 0.5px;
      }

      .custom-alert-message {
          font-size: 13.5px;
          color: #e0e0e0;
          margin-bottom: 24px;
          line-height: 1.5;
      }

      .custom-alert-button {
          padding: 12px 32px;
          background: linear-gradient(135deg, var(--custom-color), var(--custom-color-dark));
          color: #e0e0e0;
          border: 1px solid rgba(var(--custom-color-rgb), 0.5);
          border-radius: 9.2px;
          font-size: 12.6px;
          font-weight: 607;
          font-family: 'Inter', sans-serif;
          cursor: pointer;
          transition: all 0.2s ease;
          letter-spacing: 0.3px;
      }

      .custom-alert-button:hover {
          background: linear-gradient(135deg, var(--custom-color-dark), var(--custom-color-dark));
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(var(--custom-color-rgb), 0.4);
      }

      .custom-alert-button:active {
          transform: translateY(0);
      }

      /* ===== QUIT CONFIRMATION DIALOG ===== */
      .quit-confirm-overlay {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: transparent;
          z-index: 10003;
          display: flex;
          align-items: center;
          justify-content: center;
          opacity: 0;
          pointer-events: none;
          transition: opacity 0.25s ease;
      }

      .quit-confirm-overlay.show {
          opacity: 1;
          pointer-events: all;
      }

      .quit-confirm-content {
          background: rgba(0, 0, 0, 0.95);
          border: 1px solid rgba(255, 255, 255, 0.1);
          border-radius: 0px;
          padding: 24px 32px;
          max-width: 320px;
          min-width: 280px;
          text-align: center;
          animation: alertSlideIn 0.25s ease-out;
          box-shadow: 0 4px 16px rgba(0, 0, 0, 0.5);
      }

      .quit-confirm-title {
          font-size: 16px;
          font-weight: 600;
          color: #e0e0e0;
          margin-bottom: 12px;
          letter-spacing: 0.3px;
      }

      .quit-confirm-message {
          font-size: 13px;
          color: #b0b0b0;
          margin-bottom: 20px;
          line-height: 1.5;
      }

      .quit-confirm-buttons {
          display: flex;
          gap: 10px;
          justify-content: center;
      }

      .quit-confirm-btn {
          padding: 8px 24px;
          border-radius: 0px;
          font-size: 13px;
          font-weight: 500;
          font-family: 'Inter', sans-serif;
          cursor: pointer;
          transition: all 0.2s ease;
          border: 1px solid transparent;
          min-width: 80px;
      }

      .quit-confirm-btn-yes {
          background: var(--custom-color);
          color: #ffffff;
      }

      .quit-confirm-btn-yes:hover {
          background: var(--custom-color-dark);
          opacity: 0.9;
      }

      .quit-confirm-btn-cancel {
          background: transparent;
          color: #b0b0b0;
          border-color: rgba(255, 255, 255, 0.15);
      }

      .quit-confirm-btn-cancel:hover {
          background: rgba(255, 255, 255, 0.05);
          color: #e0e0e0;
      }

      .quit-confirm-btn:active {
          transform: scale(0.98);
      }
      
      .quit-confirm-btn {
          border-radius: 5.4px;
      }

      /* Purple theme for custom alert */
      body.theme-purple .custom-alert-content {
          border-color: rgba(124, 58, 237, 0.5);
          box-shadow: 0 8px 32px rgba(124, 58, 237, 0.3), 0 0 0 1px rgba(124, 58, 237, 0.2) inset;
      }

      body.theme-purple .custom-alert-title {
          background: linear-gradient(135deg, #7c3aed, #6d28d9);
          -webkit-background-clip: text;
          background-clip: text;
          -webkit-text-fill-color: transparent;
      }

      body.theme-purple .custom-alert-button {
          background: linear-gradient(135deg, #7c3aed, #6d28d9);
          border-color: rgba(124, 58, 237, 0.5);
      }

      body.theme-purple .custom-alert-button:hover {
          background: linear-gradient(135deg, #6d28d9, #5b21b6);
          box-shadow: 0 4px 12px rgba(124, 58, 237, 0.4);
      }

      /* ===== PURPLE THEME ===== */
      body.theme-purple .container {
          box-shadow: none;
      }

      body.theme-purple .header {
          background: linear-gradient(135deg, rgba(124, 58, 237, 0.08), rgba(0, 0, 0, 0));
      }

      body.theme-purple .header::before {
          background-image:
              radial-gradient(ellipse 800px 400px at 20% 50%, rgba(124, 58, 237, 0.08) 0%, transparent 50%),
              radial-gradient(ellipse 600px 300px at 80% 30%, rgba(109, 40, 217, 0.06) 0%, transparent 50%),
              radial-gradient(ellipse 400px 200px at 50% 80%, rgba(124, 58, 237, 0.05) 0%, transparent 50%);
      }

      body.theme-purple .header::after {
          background-image:
              repeating-linear-gradient(
                  45deg,
                  transparent,
                  transparent 40px,
                  rgba(124, 58, 237, 0.03) 40px,
                  rgba(124, 58, 237, 0.03) 80px
              ),
              repeating-linear-gradient(
                  -45deg,
                  transparent,
                  transparent 40px,
                  rgba(109, 40, 217, 0.03) 40px,
                  rgba(109, 40, 217, 0.03) 80px
              );
      }

      body.theme-purple .header-wave::before,
      body.theme-purple .header-wave::after {
          background:
              radial-gradient(circle at 30% 50%, rgba(124, 58, 237, 0.08) 0%, transparent 30%),
              radial-gradient(circle at 70% 20%, rgba(109, 40, 217, 0.06) 0%, transparent 25%),
              radial-gradient(circle at 50% 80%, rgba(124, 58, 237, 0.05) 0%, transparent 20%),
              radial-gradient(circle at 80% 60%, rgba(124, 58, 237, 0.04) 0%, transparent 35%);
      }

      body.theme-purple .header-swirl {
          background: radial-gradient(ellipse at center, rgba(124, 58, 237, 0.1) 0%, transparent 70%);
      }

      body.theme-purple .header h1 .kz-white {
          /* Make Vantrix purple */
          background: linear-gradient(135deg, #7c3aed, #6d28d9);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
      }

      body.theme-purple .header h1 .logo-red {
          /* Make MACRO white */
          background: none;
          color: #e0e0e0;
          -webkit-background-clip: initial;
          -webkit-text-fill-color: initial;
          background-clip: initial;
      }

      body.theme-purple .particle {
          background: rgba(124, 58, 237, 0.4);
      }

      /* Keep red particles as accent */
      body.theme-purple .particle-red {
          background: rgba(var(--custom-color-rgb), 0.15);
          box-shadow: 0 0 4px rgba(var(--custom-color-rgb), 0.2);
      }

      body.theme-purple .particle-silver {
          background: rgba(229, 229, 229, 0.15);
          box-shadow: 0 0 3px rgba(229, 229, 229, 0.2);
      }

      body.theme-purple .border-top,
      body.theme-purple .border-right,
      body.theme-purple .border-bottom,
      body.theme-purple .border-left {
          background: linear-gradient(90deg, transparent, #7c3aed, #6d28d9, #7c3aed, transparent);
          box-shadow: 0 0 8px rgba(124, 58, 237, 0.6), 0 0 15px rgba(124, 58, 237, 0.3);
      }

      body.theme-purple .section-title {
          background: linear-gradient(135deg, rgba(255, 255, 255, 0.7) 0%, rgba(255, 255, 255, 0.5) 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
      }

      body.theme-purple .section-title::after {
          background: linear-gradient(90deg, rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0.3), transparent);
      }

      body.theme-purple .tab.active {
          background: linear-gradient(90deg, rgba(124, 58, 237, 0.18) 0%, rgba(124, 58, 237, 0.08) 100%);
          border-left-color: #7c3aed;
          color: #7c3aed;
          box-shadow: 0 4px 16px rgba(124, 58, 237, 0.2), 0 0 0 1px rgba(124, 58, 237, 0.1) inset;
      }

      body.theme-purple .tab.active::after {
          display: none;
      }

      body.theme-purple .slider {
          background: linear-gradient(90deg, rgba(124, 58, 237, 0.15) 0%, #0d0d0d 100%);
      }

      body.theme-purple .slider::-webkit-slider-thumb {
          background: linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%);
      }

      /* Removed - keeping keybind buttons neutral with original styling */

      body.theme-purple .btn-start.active {
          background: transparent;
          border-color: rgba(124, 58, 237, 0.7);
          color: #7c3aed;
      }


      /* Removed - keeping disable all button with original red theme */

      /* Removed - keeping hover state with original red theme */

      body.theme-purple .toggle-switch input:checked + .toggle-slider {
          background-color: rgba(124, 58, 237, 0.3);
          border-color: #7c3aed;
      }

      body.theme-purple .toggle-switch input:checked + .toggle-slider:before {
          background-color: #7c3aed;
      }

      body.theme-purple .perf-toggle input:checked + .perf-box {
          background: #7c3aed;
          border-color: #7c3aed;
      }

      body.theme-purple .instructions-box {
          background: linear-gradient(135deg, rgba(124, 58, 237, 0.05) 0%, rgba(124, 58, 237, 0.02) 100%);
          border-color: rgba(124, 58, 237, 0.15);
          box-shadow: 0 4px 16px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(124, 58, 237, 0.08) inset;
      }

      body.theme-purple .instructions-box::before {
          background: linear-gradient(90deg, transparent, rgba(124, 58, 237, 0.3), rgba(124, 58, 237, 0.2), transparent);
          box-shadow: 0 0 6px rgba(124, 58, 237, 0.3);
      }

      body.theme-purple .instructions-button {
          background: linear-gradient(135deg, rgba(124, 58, 237, 0.05) 0%, rgba(124, 58, 237, 0.02) 100%);
          border-color: rgba(124, 58, 237, 0.15);
          box-shadow: 0 4px 16px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(124, 58, 237, 0.08) inset;
      }

      body.theme-purple .instructions-button:hover {
          background: linear-gradient(135deg, rgba(124, 58, 237, 0.08) 0%, rgba(124, 58, 237, 0.04) 100%);
          border-color: rgba(124, 58, 237, 0.25);
          box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3), 0 0 0 1px rgba(124, 58, 237, 0.12) inset;
      }

      body.theme-purple .instructions-button::before {
          background: linear-gradient(90deg, transparent, rgba(124, 58, 237, 0.3), rgba(124, 58, 237, 0.2), transparent);
          box-shadow: 0 0 6px rgba(124, 58, 237, 0.3);
      }

      body.theme-purple .instructions-content {
          background: linear-gradient(135deg, rgba(124, 58, 237, 0.03) 0%, rgba(124, 58, 237, 0.01) 100%);
          border-color: rgba(124, 58, 237, 0.12);
      }

      body.theme-purple .instructions-title {
          color: #7c3aed;
      }

      body.theme-purple .about-hero {
          background: linear-gradient(135deg, rgba(124, 58, 237, 0.05), rgba(124, 58, 237, 0.02));
          border-color: rgba(124, 58, 237, 0.12);
      }

      body.theme-purple .about-hero h2 {
          background: linear-gradient(135deg, #7c3aed, #6d28d9);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
      }

      body.theme-purple .mission-card:hover {
          border-color: rgba(124, 58, 237, 0.3);
      }

      body.theme-purple .mission-card h3 {
          color: #7c3aed;
      }

      body.theme-purple .help-header {
          background: linear-gradient(135deg, rgba(124, 58, 237, 0.1), rgba(124, 58, 237, 0.05));
          border-color: rgba(124, 58, 237, 0.2);
      }

      body.theme-purple .help-header h2 {
          color: #7c3aed;
      }

      body.theme-purple .troubleshoot-card {
          border: 2px solid rgba(124, 58, 237, 0.3);
          border-left: 4px solid #7c3aed;
      }

      body.theme-purple .troubleshoot-card:hover {
          border: 2px solid rgba(124, 58, 237, 0.6);
          border-left-width: 6px;
      }

      body.theme-purple .issue-icon {
          background: linear-gradient(135deg, #7c3aed, #6d28d9);
      }

      body.theme-purple .btn-fix {
          background: linear-gradient(135deg, #7c3aed, #6d28d9);
      }

      body.theme-purple .btn-fix:hover {
          background: linear-gradient(135deg, #6d28d9, #5b21b6);
      }

      body.theme-purple .diagnostic-info .label {
          color: #7c3aed;
      }

      /* ===== COMPREHENSIVE PURPLE THEME OVERRIDES - LOADING SCREEN ===== */
      body.theme-purple .loading-top-text {
          color: #7c3aed;
      }

      body.theme-purple .cursive-rk {
          color: #e5e5e5;
      }

      body.theme-purple .vantrix-colored {
          background: linear-gradient(135deg, #ffffff 0%, var(--custom-color-light) 50%, var(--custom-color) 100%);
          background-size: 200% 200%;
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
          animation: gradientShift 4s ease-in-out infinite;
          filter: drop-shadow(0 0 30px rgba(var(--custom-color-rgb), 0.4));
          font-style: italic;
          transform: skew(-10deg, 0deg);
      }

      body.theme-purple .j-white,
      body.theme-purple span.j-white {
          background: transparent !important;
          background-image: none !important;
          -webkit-background-clip: unset !important;
          -webkit-text-fill-color: #ffffff !important;
          background-clip: unset !important;
          color: #ffffff !important;
          font-style: italic !important;
          transform: skew(-10deg, 0deg) !important;
      }

      body.theme-purple .cursive-rk .j-white,
      body.theme-purple .cursive-rk span.j-white {
          background: transparent !important;
          background-image: none !important;
          -webkit-background-clip: unset !important;
          -webkit-text-fill-color: #ffffff !important;
          background-clip: unset !important;
          color: #ffffff !important;
          font-style: italic !important;
          transform: skew(-10deg, 0deg) !important;
      }

      body.theme-purple .titlebar-title .vantrix-colored {
          background: linear-gradient(135deg, #ffffff 0%, var(--custom-color-light) 50%, var(--custom-color) 100%);
          background-size: 200% 200%;
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          animation: gradientShift 4s ease-in-out infinite;
          filter: drop-shadow(0 0 30px rgba(var(--custom-color-rgb), 0.4));
          background-clip: text;
          font-style: italic;
          transform: skew(-10deg, 0deg);
      }

      body.theme-purple .titlebar-title .j-white {
          background: transparent !important;
          -webkit-background-clip: unset !important;
          -webkit-text-fill-color: #ffffff !important;
          background-clip: unset !important;
          color: #ffffff !important;
          font-style: italic !important;
          transform: skew(-10deg, 0deg) !important;
      }

      body.theme-purple .loading-logo {
          color: #7c3aed;
      }

      body.theme-purple .loading-bar-fill {
          background: linear-gradient(90deg, #9333ea 0%, #7c3aed 50%, #9333ea 100%);
          box-shadow: 0 0 10px rgba(124, 58, 237, 0.6);
      }

      /* ===== PURPLE THEME - TITLEBAR ===== */
      body.theme-purple .titlebar-button.close:hover {
          background: #7c3aed;
      }

      /* ===== PURPLE THEME - CONTAINER GLOW ===== */
      body.theme-purple .container {
          box-shadow: none;
      }

      /* ===== PURPLE THEME - TAB HOVER ===== */
      body.theme-purple .tab::before {
          background: linear-gradient(90deg, rgba(124, 58, 237, 0.1), transparent);
      }

      /* ===== PURPLE THEME - SPINNER BUTTONS ===== */
      body.theme-purple .spinner-btn:hover {
          background: rgba(124, 58, 237, 0.2);
          border-color: rgba(124, 58, 237, 0.4);
      }

      body.theme-purple .spinner-input:focus {
          border-color: rgba(124, 58, 237, 0.5);
      }

      /* ===== PURPLE THEME - CHECKBOX ===== */
      body.theme-purple .checkbox {
          accent-color: #7c3aed;
      }

      /* ===== PURPLE THEME - SAVE PROFILE BUTTON ===== */
      body.theme-purple .btn-save-profile {
          background: linear-gradient(135deg, #7c3aed, #6d28d9);
          box-shadow: 0 8px 24px rgba(124, 58, 237, 0.3),
                      0 0 0 1px rgba(124, 58, 237, 0.1);
      }

      body.theme-purple .btn-save-profile:hover {
          box-shadow: 0 12px 32px rgba(124, 58, 237, 0.4);
      }

      /* ===== PURPLE THEME - DISABLE ALL BUTTON ===== */
      body.theme-purple .btn-disable-all-simple {
          background: linear-gradient(135deg, rgba(124, 58, 237, 0.15) 0%, rgba(124, 58, 237, 0.08) 100%);
          color: #7c3aed;
          border-color: rgba(124, 58, 237, 0.3);
      }

      body.theme-purple .btn-disable-all-simple:hover {
          background: linear-gradient(135deg, rgba(124, 58, 237, 0.22) 0%, rgba(124, 58, 237, 0.12) 100%);
          border-color: rgba(124, 58, 237, 0.5);
      }

      /* ===== PURPLE THEME - SCROLLBAR ===== */
      body.theme-purple ::-webkit-scrollbar-thumb {
          background: rgba(124, 58, 237, 0.4);
      }

      body.theme-purple ::-webkit-scrollbar-thumb:hover {
          background: rgba(124, 58, 237, 0.6);
      }

      /* ===== PURPLE THEME - SECTION TITLE SHADOW ===== */
      body.theme-purple .section-title::after {
          box-shadow: 0 0 8px rgba(124, 58, 237, 0.4);
      }

      /* ===== RESPONSIVE ===== */
      @media (max-width: 768px) {
          .container {
              max-width: 100%;
              margin: 10px;
          }

          .main-layout {
              flex-direction: column;
          }

          .tabs {
              flex-direction: row;
              width: 100%;
              border-right: none;
              border-bottom: 1px solid #0d0d0d;
              overflow-x: auto;
          }

          .tab {
              border-left: none;
              border-bottom: 3px solid transparent;
          }

          .tab.active {
              border-left-color: transparent;
              border-bottom-color: var(--custom-color);
          }

          body.theme-purple .tab.active {
              border-bottom-color: #7c3aed;
          }

          .grid-2 {
              grid-template-columns: 1fr;
          }

          .button-group {
              grid-template-columns: 1fr;
          }

          .theme-buttons {
              grid-template-columns: 1fr;
          }
      }
    </style>
    <script>
      // Ensure loading screen is visible immediately, even before DOM is ready
      (function() {
        document.addEventListener('DOMContentLoaded', function() {
          const loadingScreen = document.getElementById('loading-screen');
          if (loadingScreen) {
            loadingScreen.style.display = 'flex';
            loadingScreen.style.opacity = '1';
            loadingScreen.style.visibility = 'visible';
          }
          
          const licenseForm = document.getElementById('license-form-container');
          if (licenseForm) {
            licenseForm.classList.add('show');
            licenseForm.style.opacity = '1';
          }
        });
        
        // Also try immediately if DOM is already ready
        if (document.readyState === 'loading') {
          // DOM is still loading, wait for DOMContentLoaded
        } else {
          // DOM is already ready
          const loadingScreen = document.getElementById('loading-screen');
          if (loadingScreen) {
            loadingScreen.style.display = 'flex';
            loadingScreen.style.opacity = '1';
            loadingScreen.style.visibility = 'visible';
          }
          
          const licenseForm = document.getElementById('license-form-container');
          if (licenseForm) {
            licenseForm.classList.add('show');
            licenseForm.style.opacity = '1';
          }
        }
      })();
    </script>
  </head>
  <body>
    <!-- Loading Screen -->
    <div id="loading-screen">
      <!-- Title Bar -->
      <div class="loading-titlebar">
        <div class="loading-titlebar-controls">
          <button class="loading-titlebar-btn close-btn" id="loading-close-btn" title="Close"></button>
        </div>
      </div>
      
      <!-- Constellation Background for Loading Screen -->
      <canvas id="loading-constellation-canvas"></canvas>
      <!-- Raindrops -->
      <div class="raindrops-container" id="raindrops-container"></div>
      
      <!-- Logo in Top Left -->
      <svg class="loading-logo-img" width="60" height="60" viewBox="0 0 256.000000 256.000000" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg">
        <g transform="translate(0.000000,256.000000) scale(0.100000,-0.100000)">
          <path d="M258 2149 c-10 -6 -18 -22 -18 -38 0 -27 177 -330 746 -1276 l259
-430 34 0 35 0 503 839 c345 576 503 848 503 867 0 18 -7 32 -19 39 -12 6
-119 10 -278 10 -229 0 -263 -3 -298 -19 -22 -10 -47 -27 -56 -37 -9 -10 -99
-158 -199 -327 -101 -169 -187 -306 -192 -305 -6 2 -96 147 -202 323 -178 296
-195 321 -236 342 -42 22 -51 23 -304 23 -159 0 -268 -5 -278 -11z m559 -111
c11 -13 123 -196 249 -407 126 -211 248 -405 271 -431 60 -67 125 -93 220 -88
40 2 72 1 71 -2 -14 -30 -345 -570 -349 -570 -7 0 -894 1473 -905 1503 -6 16
8 17 208 17 210 0 215 -1 235 -22z m1369 7 c-13 -35 -429 -724 -457 -759 -57
-68 -153 -99 -239 -76 -47 12 -109 67 -142 126 l-17 30 200 334 c110 184 208
341 217 348 11 9 74 12 230 12 187 0 213 -2 208 -15z" fill="var(--custom-color)" stroke="none"/>
        </g>
      </svg>
      
      <div class="loading-logo-container">
        <!-- App Title -->
        <div class="loading-app-title">
          <span class="loading-app-name">Vantrix</span>
          <span class="loading-app-version">V11.0</span>
        </div>
        
        <!-- License Key Form -->
        <div class="license-form-container show" id="license-form-container">
          <div class="license-form">
            <div>
              <label class="license-input-label">License Key</label>
              <input
                type="text"
                id="license-key-input"
                class="license-input"
                placeholder="XXXX-XXXX-XXXX-XXXX"
                autocomplete="off"
                maxlength="19"
              />
            </div>
            
            <div class="remember-me-container">
              <label class="remember-me-label">Remember me</label>
              <div class="remember-me-toggle" id="remember-me-toggle"></div>
            </div>
            
            <button
              type="button"
              id="license-submit-btn"
              class="license-submit-btn"
            >
              Login
            </button>
            
            <div class="license-loading-bar" id="license-loading-bar">
              <div class="license-loading-bar-fill"></div>
            </div>
            
            <div class="license-message" id="license-message"></div>
          </div>
        </div>
        
        <div class="loading-status" id="loading-status" style="display: none;">Initializing...</div>
      </div>
      
      <!-- Bottom Icons -->
      <div class="loading-bottom-icons">
        <a
          href="https://discord.gg/UhHXQMwTPW"
          target="_blank"
          rel="noopener noreferrer"
          class="loading-bottom-icon"
          title="Discord"
        >
          <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028c.462-.63.874-1.295 1.226-1.994a.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"/>
          </svg>
        </a>
        <a
          href="https://vantrix.cc/"
          target="_blank"
          rel="noopener noreferrer"
          class="loading-bottom-icon"
          title="Website"
        >
          <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <circle cx="12" cy="12" r="10" fill="none" stroke="currentColor" stroke-width="2"/>
            <path d="M2 12h20M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z" fill="none" stroke="currentColor" stroke-width="2"/>
          </svg>
        </a>
      </div>
    </div>

    <!-- Particles Background -->
    <div id="particles"></div>

    <!-- Main Container -->
    <div class="container">
      <!-- Traveling border lines -->

      <!-- Title Bar -->
      <div class="titlebar">
        <!-- Large decorative background particles -->
        <div class="titlebar-large-particles">
          <div class="titlebar-large-particle"></div>
          <div class="titlebar-large-particle"></div>
          <div class="titlebar-large-particle"></div>
        </div>

        <!-- Particle stream effect -->
        <div class="titlebar-particles">
          <div class="titlebar-particle"></div>
          <div class="titlebar-particle"></div>
          <div class="titlebar-particle"></div>
          <div class="titlebar-particle"></div>
          <div class="titlebar-particle"></div>
        </div>

        <!-- Scanline effect -->
        <div class="titlebar-scanline"></div>

        <!-- Border wave effect -->
        <div class="titlebar-border-wave"></div>

        <!-- Titlebar Content Wrapper (only flex children) -->
        <div class="titlebar-content-wrapper">
          <!-- Title text (with animated glow) -->
          <div class="titlebar-title"><span class="vantrix-colored">v</span><span class="j-white">antrix.cc</span></div>

          <!-- Right side controls group -->
          <div class="titlebar-right-controls">
            <!-- Window controls -->
            <div class="titlebar-controls">
              <button class="titlebar-button" onclick="minimizeWindow()">
                
              </button>
              <button class="titlebar-button" onclick="maximizeWindow()">
                
              </button>
              <button class="titlebar-button close" onclick="closeWindow()">
                
              </button>
            </div>
          </div>
        </div>
      </div>


      <!-- Main Layout -->
      <div class="main-layout">
        <!-- Side Tabs -->
        <div class="tabs">
          <canvas id="tabs-starfield-canvas"></canvas>
          <button
            class="tab active"
            onclick="switchTab(0)"
            data-i18n="tab.main"
          >
            Main
          </button>
          <button class="tab" onclick="switchTab(1)" data-i18n="tab.settings">
            Settings
          </button>
          <button class="tab" onclick="switchTab(2)" data-i18n="tab.macros">
            Macros
          </button>
          <button class="tab" onclick="switchTab(3)" data-i18n="tab.keybinds">
            Keybinds
          </button>
          <button class="tab" onclick="switchTab(4)" data-i18n="tab.leaked">
            Leaked
          </button>

          <!-- Logo removed - using slanted Vantrix in titlebar -->
        </div>

        <!-- Tab Content Area -->
        <div class="hero-card">
          <!-- Starfield Background -->
          <canvas id="constellation-canvas"></canvas>
          <!-- UI Falling Particles -->
          <div id="ui-particles" class="ui-particles-container"></div>
          <div class="tab-content-wrapper">
          <!-- MAIN TAB -->
          <div class="tab-content active">
            <div id="about-particles"></div>

            <!-- Logo and Discord in Top Left -->
            <div style="position: absolute; top: 20px; left: 20px; display: flex; flex-direction: column; align-items: center; gap: 6px; z-index: 10;">
              <a
                href="https://discord.gg/UhHXQMwTPW"
                target="_blank"
                rel="noopener noreferrer"
                style="text-decoration: none; display: flex; flex-direction: column; align-items: center; gap: 6px; transition: all 0.3s ease;"
                onmouseover="this.style.transform='scale(1.05)'"
                onmouseout="this.style.transform='scale(1)'"
              >
                <svg width="40" height="40" viewBox="0 0 256.000000 256.000000" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg">
                  <g transform="translate(0.000000,256.000000) scale(0.100000,-0.100000)">
                    <path d="M258 2149 c-10 -6 -18 -22 -18 -38 0 -27 177 -330 746 -1276 l259
-430 34 0 35 0 503 839 c345 576 503 848 503 867 0 18 -7 32 -19 39 -12 6
-119 10 -278 10 -229 0 -263 -3 -298 -19 -22 -10 -47 -27 -56 -37 -9 -10 -99
-158 -199 -327 -101 -169 -187 -306 -192 -305 -6 2 -96 147 -202 323 -178 296
-195 321 -236 342 -42 22 -51 23 -304 23 -159 0 -268 -5 -278 -11z m559 -111
c11 -13 123 -196 249 -407 126 -211 248 -405 271 -431 60 -67 125 -93 220 -88
40 2 72 1 71 -2 -14 -30 -345 -570 -349 -570 -7 0 -894 1473 -905 1503 -6 16
8 17 208 17 210 0 215 -1 235 -22z m1369 7 c-13 -35 -429 -724 -457 -759 -57
-68 -153 -99 -239 -76 -47 12 -109 67 -142 126 l-17 30 200 334 c110 184 208
341 217 348 11 9 74 12 230 12 187 0 213 -2 208 -15z" fill="var(--custom-color)" stroke="none"/>
                  </g>
                </svg>
                <span style="font-size: 12px; font-weight: 700; letter-spacing: 1px; color: var(--custom-color);">DISCORD</span>
              </a>
            </div>

            <!-- Welcome Section -->
            <div style="padding: 40px 20px; text-align: center;">
              <h2 style="font-size: 32px; font-weight: 800; color: #e0e0e0; margin-bottom: 16px; letter-spacing: 2px;">
                <span style="background: linear-gradient(135deg, var(--custom-color-light) 0%, var(--custom-color) 50%, var(--custom-color-dark) 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; display: inline-block; font-style: italic; transform: skew(-10deg, 0deg);">V</span><span style="color: #ffffff; display: inline-block; font-style: italic; transform: skew(-10deg, 0deg);">ANTRIX</span>
              </h2>
              <p style="font-size: 14px; color: #999999; margin-bottom: 32px; line-height: 1.6;" data-i18n="about.appDesc">
                Premium gaming macros and optimization tools
              </p>
              
              <!-- View All Products Button -->
              <div class="view-products-container" style="margin-top: 40px;">
                <a
                  href="https://vantrix.cc/"
                  target="_blank"
                  rel="noopener noreferrer"
                  class="btn-view-products"
                  data-i18n="about.viewProducts"
                >
                  View All Products
                </a>
              </div>
            </div>
          </div>

          <!-- SETTINGS TAB -->
          <div class="tab-content">
            <div id="about-particles"></div>

            <!-- Settings Container -->
            <div style="padding: 10px 16px;">
              
              <!-- Application Settings Toggle -->
              <button
                class="settings-toggle-button"
                onclick="toggleSettingsSection(this)"
              >
                <span data-i18n="settings.appSettings">Application Settings</span>
                <span class="settings-toggle-icon"></span>
              </button>
              <div class="settings-section-content">
                <div class="setting-item" style="margin-bottom: 16px">
                  <div class="setting-info">
                    <label class="setting-label" data-i18n="settings.colorPalette">Color Palette</label>
                    <p class="setting-description" data-i18n="settings.colorPaletteDesc">
                      Choose any color for the interface accents
                    </p>
                  </div>
                  <div class="color-picker-container">
                    <input
                      type="color"
                      id="color-picker"
                      class="color-picker-input"
                      value="#dc2626"
                      oninput="changeCustomColor(this.value)"
                      onchange="changeCustomColor(this.value)"
                    />
                    <div class="color-preview" id="color-preview"></div>
                    <span class="color-value" id="color-value">#dc2626</span>
                  </div>
                </div>

                <div class="setting-item" style="margin-bottom: 16px">
                  <div class="setting-info">
                    <label class="setting-label" data-i18n="settings.startupLaunch">Start on System Startup</label>
                    <p class="setting-description" data-i18n="settings.startupLaunchDesc">
                      Automatically launch Vantrix when Windows starts
                    </p>
                  </div>
                  <label class="toggle-switch">
                    <input
                      type="checkbox"
                      id="startup-toggle"
                      onchange="toggleStartup(this.checked)"
                    />
                    <span class="toggle-slider"></span>
                  </label>
                </div>

                <div class="disable-all-button-container">
                  <button
                    class="btn-disable-all-simple"
                    onclick="disableAllMacros()"
                    data-i18n="ui.disableAll"
                  >
                    DISABLE ALL MACROS
                  </button>
                  <p class="disable-all-button-description" data-i18n="ui.emergencyStop">
                    Emergency stop - instantly disables all running macros
                  </p>
                </div>
              </div>

              <!-- Language Toggle -->
              <button
                class="settings-toggle-button"
                onclick="toggleSettingsSection(this)"
              >
                <span data-i18n="settings.language">Language</span>
                <span class="settings-toggle-icon"></span>
              </button>
              <div class="settings-section-content">
                <label class="setting-label" data-i18n="settings.language" style="display: block; margin-bottom: 8px;">Language</label>
                <p class="setting-description" style="margin-bottom: 12px;" data-i18n="settings.languageDesc">
                  Choose your preferred language
                </p>
                <select
                  class="settings-select"
                  id="languageSelect"
                  onchange="changeLanguage()"
                  style="width: 100%; padding: 10px; background: rgba(0, 0, 0, 0.6); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 6px; color: #e0e0e0; font-size: 13px;"
                >
                  <option value="en">English</option>
                  <option value="es">Espaol (Spanish)</option>
                  <option value="fr">Franais (French)</option>
                  <option value="de">Deutsch (German)</option>
                  <option value="pt">Portugus (Portuguese)</option>
                  <option value="ru"> (Russian)</option>
                  <option value="zh"> (Chinese)</option>
                  <option value="ja"> (Japanese)</option>
                  <option value="ko"> (Korean)</option>
                </select>
              </div>

              <!-- Performance Mode Toggle -->
              <button
                class="settings-toggle-button"
                onclick="toggleSettingsSection(this)"
              >
                <span data-i18n="settings.performanceMode">Performance Mode</span>
                <span class="settings-toggle-icon"></span>
              </button>
              <div class="settings-section-content">
                <label class="setting-label" data-i18n="settings.performanceMode" style="display: block; margin-bottom: 8px;">Performance Mode</label>
                <p class="setting-description" style="margin-bottom: 12px;" data-i18n="settings.performanceModeDesc">
                  Changing performance mode will restart all macro engines. Select the mode based on your current FPS for optimal performance.
                </p>
                <select
                  class="settings-select"
                  id="performanceModeSelect"
                  onchange="changePerformanceMode()"
                  style="width: 100%; padding: 10px; background: rgba(0, 0, 0, 0.6); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 6px; color: #e0e0e0; font-size: 13px;"
                >
                  <option value="high">High Performance (240+ FPS)</option>
                  <option value="medium">Medium Performance (120-240 FPS)</option>
                  <option value="low">Low Performance (60-120 FPS)</option>
                </select>
                <p style="margin-top: 8px; font-size: 11px; color: #888; line-height: 1.4;">
                  <span data-i18n="settings.performanceModeDesc">Macro engines will restart with the new performance mode. Running macros will automatically restart.</span>
                </p>
              </div>

              <!-- Hotkey Configuration Toggle -->
              <button
                class="settings-toggle-button"
                onclick="toggleSettingsSection(this)"
              >
                <span data-i18n="settings.hotkeyConfig">Hotkey Configuration</span>
                <span class="settings-toggle-icon"></span>
              </button>
              <div class="settings-section-content">
                <label class="setting-label" data-i18n="settings.hotkeyConfig" style="display: block; margin-bottom: 8px;">Hotkey Configuration</label>
                <p class="setting-description" style="margin-bottom: 12px;" data-i18n="settings.hotkeyConfigDesc">
                  Set global hotkeys for Ghost Mode and EZ Mode
                </p>
                <div style="display: flex; gap: 12px;">
                  <div style="flex: 1;">
                    <label style="display: block; font-size: 11px; color: #888; margin-bottom: 6px;" data-i18n="settings.ghostMode">Ghost Mode</label>
                    <input
                      type="text"
                      class="settings-select hotkey-input"
                      id="ghostModeKeyInput"
                      value="F10"
                      readonly
                      onclick="return captureHotkey(this, 'ghost-mode-key', event);"
                      style="width: 100%; padding: 10px; cursor: pointer; text-align: center; text-transform: uppercase; background: rgba(0, 0, 0, 0.6); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 6px; color: #e0e0e0; font-size: 13px;"
                    />
                  </div>
                  <div style="flex: 1;">
                    <label style="display: block; font-size: 11px; color: #888; margin-bottom: 6px;" data-i18n="settings.ezMode">EZ Mode</label>
                    <input
                      type="text"
                      class="settings-select hotkey-input"
                      id="ezModeKeyInput"
                      value="F7"
                      readonly
                      onclick="return captureHotkey(this, 'ez-mode-key', event);"
                      style="width: 100%; padding: 10px; cursor: pointer; text-align: center; text-transform: uppercase; background: rgba(0, 0, 0, 0.6); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 6px; color: #e0e0e0; font-size: 13px;"
                    />
                  </div>
                </div>
                <p style="margin-top: 8px; font-size: 11px; color: #888; line-height: 1.4;">
                  <span data-i18n="settings.hotkeyDesc">Click on a field and press any key to set. These hotkeys work globally even when the app is hidden.</span>
                </p>
              </div>

            </div>
          </div>

          
          <!-- MACROS TAB -->
          <div class="tab-content">
            <!-- Macro Selector Dropdown -->
            <div class="macro-selector-container">
              <label class="macro-selector-label" data-i18n="macros.select">Select Macro</label>
              <select class="macro-selector" id="macro-selector" onchange="switchMacroSection(this.value)">
                <option value="drag" data-i18n="macros.dragEdit">Drag Edit</option>
                <option value="turbo" data-i18n="macros.instantBuild">Instant Build</option>
                <option value="double" data-i18n="macros.doubleEdit">Double Edit</option>
                <option value="pickup" data-i18n="macros.pickup">Pickup</option>
                <option value="shotgun" data-i18n="macros.shotgun">Shotgun</option>
                <option value="crouch" data-i18n="macros.crouchSpam">Crouch Spam</option>
              </select>
            </div>

            <!-- DRAG EDIT SECTION -->
            <div class="macro-section active" id="drag-section">
            <div class="macro-settings-container">
              <div class="macro-settings-row">
                <div class="macro-settings-content">
                  <div class="control-group">
                    <label class="control-label" data-i18n="macro.autoSprint"
                      >Enable Auto-Sprint</label
                    >
                    <label class="toggle-switch">
                      <input
                        type="checkbox"
                        id="drag-sprint"
                        onchange="saveSingleSetting('drag-sprint', this.checked)"
                      />
                      <span class="toggle-slider"></span>
                    </label>
                  </div>

                  <div class="control-group">
                    <label class="control-label" data-i18n="drag.eorOff"
                      >Edit on Release OFF Mode</label
                    >
                    <label class="toggle-switch">
                      <input
                        type="checkbox"
                        id="drag-eor-off"
                        onchange="saveSingleSetting('drag-eor-off', this.checked)"
                      />
                      <span class="toggle-slider"></span>
                    </label>
                  </div>
                </div>

                <div class="macro-button-wrapper">
                  <button
                    class="btn-start"
                    id="drag-toggle"
                    onclick="toggleMacro('drag')"
                  >
                    <span id="drag-toggle-text">START</span>
                  </button>
                </div>
              </div>
            </div>

            <div class="status-container">
              <div class="status-indicator" id="drag-indicator"></div>
              <div class="status-info">
                <div class="status-text" id="drag-status" data-i18n="ui.ready">
                  Ready - Configure and START
                </div>
                <div
                  class="status-runtime"
                  id="drag-runtime"
                  style="display: none"
                >
                  Runtime: 0s
                </div>
              </div>
            </div>
            </div>

            <!-- INSTANT BUILD SECTION -->
            <div class="macro-section" id="turbo-section">
            <div class="macro-settings-container">
              <div class="macro-settings-row">
                <div class="macro-settings-content" style="display: flex; align-items: center; justify-content: center; min-height: 60px;">
                  <p style="color: #666; font-size: 11px; font-style: italic;" data-i18n="macros.noSettings">No settings required</p>
                </div>

                <div class="macro-button-wrapper">
                  <button
                    class="btn-start"
                    id="turbo-toggle"
                    onclick="toggleMacro('turbo')"
                  >
                    <span id="turbo-toggle-text">START</span>
                  </button>
                </div>
              </div>
            </div>

            <div class="status-container">
              <div class="status-indicator" id="turbo-indicator"></div>
              <div class="status-info">
                <div class="status-text" id="turbo-status" data-i18n="ui.ready">
                  Ready - Configure and START
                </div>
                <div
                  class="status-runtime"
                  id="turbo-runtime"
                  style="display: none"
                >
                  Runtime: 0s
                </div>
              </div>
            </div>
            </div>

            <!-- DOUBLE EDIT SECTION -->
            <div class="macro-section" id="double-section">
            <div class="macro-settings-container">
              <div class="macro-settings-row">
                <div class="macro-settings-content">
                  <div class="control-group">
                    <label class="control-label">Trigger Key</label>
                    <button
                      class="key-button"
                      id="double-trigger"
                      onclick="selectKey('double-trigger')"
                    >
                      SELECT BIND
                    </button>
                  </div>

                  <div class="control-group">
                    <label class="control-label">Enable Auto-Sprint</label>
                    <label class="toggle-switch">
                      <input
                        type="checkbox"
                        id="double-sprint"
                        onchange="saveSingleSetting('double-sprint', this.checked)"
                      />
                      <span class="toggle-slider"></span>
                    </label>
                  </div>
                </div>

                <div class="macro-button-wrapper">
                  <button
                    class="btn-start"
                    id="double-toggle"
                    onclick="toggleMacro('double')"
                  >
                    <span id="double-toggle-text">START</span>
                  </button>
                </div>
              </div>
            </div>

            <div class="status-container">
              <div class="status-indicator" id="double-indicator"></div>
              <div class="status-info">
                <div class="status-text" id="double-status" data-i18n="ui.ready">
                  Ready - Configure and START
                </div>
                <div
                  class="status-runtime"
                  id="double-runtime"
                  style="display: none"
                >
                  Runtime: 0s
                </div>
              </div>
            </div>
            </div>

            <!-- PICKUP SECTION -->
            <div class="macro-section" id="pickup-section">
            <div class="macro-settings-container">
              <div class="macro-settings-row">
                <div class="macro-settings-content">
                  <div class="control-group">
                    <label class="control-label">Trigger Key</label>
                    <button
                      class="key-button"
                      id="pickup-trigger"
                      onclick="selectKey('pickup-trigger')"
                    >
                      SELECT BIND
                    </button>
                  </div>
                </div>

                <div class="macro-button-wrapper">
                  <button
                    class="btn-start"
                    id="pickup-toggle"
                    onclick="toggleMacro('pickup')"
                  >
                    <span id="pickup-toggle-text">START</span>
                  </button>
                </div>
              </div>
            </div>

            <div class="status-container">
              <div class="status-indicator" id="pickup-indicator"></div>
              <div class="status-info">
                <div class="status-text" id="pickup-status" data-i18n="ui.ready">
                  Ready - Configure and START
                </div>
                <div
                  class="status-runtime"
                  id="pickup-runtime"
                  style="display: none"
                >
                  Runtime: 0s
                </div>
              </div>
            </div>
            </div>

            <!-- SHOTGUN SECTION -->
            <div class="macro-section" id="shotgun-section">
            <div class="macro-settings-container">
              <div class="macro-settings-row">
                <div class="macro-settings-content">
                  <div class="control-group">
                    <label class="control-label">Select Tiles Key #1</label>
                    <button
                      class="key-button"
                      id="shotgun-select1"
                      onclick="selectKey('shotgun-select1')"
                    >
                      SELECT BIND
                    </button>
                  </div>
                  <div class="control-group">
                    <label class="control-label"
                      >Select Tiles Key #2 (Optional)</label
                    >
                    <button
                      class="key-button"
                      id="shotgun-select2"
                      onclick="selectKey('shotgun-select2')"
                    >
                      SELECT BIND
                    </button>
                  </div>
                  <div class="control-group">
                    <label class="control-label">Shotgun Slot Key</label>
                    <button
                      class="key-button"
                      id="shotgun-slot"
                      onclick="selectKey('shotgun-slot')"
                    >
                      2
                    </button>
                  </div>
                </div>

                <div class="macro-button-wrapper">
                  <button
                    class="btn-start"
                    id="shotgun-toggle"
                    onclick="toggleMacro('shotgun')"
                  >
                    <span id="shotgun-toggle-text">START</span>
                  </button>
                </div>
              </div>
            </div>

            <div class="status-container">
              <div class="status-indicator" id="shotgun-indicator"></div>
              <div class="status-info">
                <div class="status-text" id="shotgun-status" data-i18n="ui.ready">
                  Ready - Configure and START
                </div>
                <div
                  class="status-runtime"
                  id="shotgun-runtime"
                  style="display: none"
                >
                  Runtime: 0s
                </div>
              </div>
            </div>
            </div>

            <!-- CROUCH SPAM SECTION -->
            <div class="macro-section" id="crouch-section">
            <div class="macro-settings-container">
              <div class="macro-settings-row">
                <div class="macro-settings-content">
                  <div class="control-group">
                    <label class="control-label">Crouch Key</label>
                    <button
                      class="key-button"
                      id="crouch-key"
                      onclick="selectKey('crouch-key')"
                    >
                      SELECT BIND
                    </button>
                  </div>
                </div>

                <div class="macro-button-wrapper">
                  <button
                    class="btn-start"
                    id="crouch-toggle"
                    onclick="toggleMacro('crouch')"
                  >
                    <span id="crouch-toggle-text">START</span>
                  </button>
                </div>
              </div>
            </div>

            <div class="status-container">
              <div class="status-indicator" id="crouch-indicator"></div>
              <div class="status-info">
                <div class="status-text" id="crouch-status" data-i18n="ui.ready">
                  Ready - Configure and START
                </div>
                <div
                  class="status-runtime"
                  id="crouch-runtime"
                  style="display: none"
                >
                  Runtime: 0s
                </div>
            </div>
          </div>

            </div>
          </div>

          <!-- KEYBINDS TAB -->
          <div class="tab-content">
            <div style="padding: 9px 14px;">
              <div class="keybind-list-compact-vertical">
                <div class="keybind-list-item-compact">
                  <div class="keybind-list-info-compact">
                    <div class="keybind-list-name-compact">Edit</div>
                    <div class="keybind-list-desc-compact">Enter edit mode</div>
                  </div>
                  <button
                    class="keybind-button-compact"
                    id="global-edit-key-btn"
                    onclick="selectKey('global-edit-key')"
                  >
                    <span id="global-edit-key-display">Not Set</span>
                  </button>
                </div>

                <div class="keybind-list-item-compact">
                  <div class="keybind-list-info-compact">
                    <div class="keybind-list-name-compact">Select</div>
                    <div class="keybind-list-desc-compact">Select pieces</div>
                  </div>
                  <button
                    class="keybind-button-compact"
                    id="global-select-key-btn"
                    onclick="selectKey('global-select-key')"
                  >
                    <span id="global-select-key-display">Not Set</span>
                  </button>
                </div>

                <div class="keybind-list-item-compact">
                  <div class="keybind-list-info-compact">
                    <div class="keybind-list-name-compact">Place</div>
                    <div class="keybind-list-desc-compact">Confirm build</div>
                  </div>
                  <button
                    class="keybind-button-compact"
                    id="global-place-key-btn"
                    onclick="selectKey('global-place-key')"
                  >
                    <span id="global-place-key-display">Not Set</span>
                  </button>
                </div>

                <div class="keybind-list-item-compact">
                  <div class="keybind-list-info-compact">
                    <div class="keybind-list-name-compact">Wall</div>
                    <div class="keybind-list-desc-compact">Build wall</div>
                  </div>
                  <button
                    class="keybind-button-compact"
                    id="global-wall-key-btn"
                    onclick="selectKey('global-wall-key')"
                  >
                    <span id="global-wall-key-display">Not Set</span>
                  </button>
                </div>

                <div class="keybind-list-item-compact">
                  <div class="keybind-list-info-compact">
                    <div class="keybind-list-name-compact">Floor</div>
                    <div class="keybind-list-desc-compact">Build floor</div>
                  </div>
                  <button
                    class="keybind-button-compact"
                    id="global-floor-key-btn"
                    onclick="selectKey('global-floor-key')"
                  >
                    <span id="global-floor-key-display">Not Set</span>
                  </button>
                </div>

                <div class="keybind-list-item-compact">
                  <div class="keybind-list-info-compact">
                    <div class="keybind-list-name-compact">Stair</div>
                    <div class="keybind-list-desc-compact">Build stair</div>
                  </div>
                  <button
                    class="keybind-button-compact"
                    id="global-stair-key-btn"
                    onclick="selectKey('global-stair-key')"
                  >
                    <span id="global-stair-key-display">Not Set</span>
                  </button>
                </div>

                <div class="keybind-list-item-compact">
                  <div class="keybind-list-info-compact">
                    <div class="keybind-list-name-compact">Cone</div>
                    <div class="keybind-list-desc-compact">Build cone</div>
                  </div>
                  <button
                    class="keybind-button-compact"
                    id="global-cone-key-btn"
                    onclick="selectKey('global-cone-key')"
                  >
                    <span id="global-cone-key-display">Not Set</span>
                  </button>
                </div>

                <div class="keybind-list-item-compact">
                  <div class="keybind-list-info-compact">
                    <div class="keybind-list-name-compact">Sprint</div>
                    <div class="keybind-list-desc-compact">Sprint/run</div>
                  </div>
                  <button
                    class="keybind-button-compact"
                    id="global-sprint-key-btn"
                    onclick="selectKey('global-sprint-key')"
                  >
                    <span id="global-sprint-key-display">Not Set</span>
                  </button>
                </div>

                <div class="keybind-list-item-compact">
                  <div class="keybind-list-info-compact">
                    <div class="keybind-list-name-compact">Pickup</div>
                    <div class="keybind-list-desc-compact">Interact</div>
                  </div>
                  <button
                    class="keybind-button-compact"
                    id="global-pickup-key-btn"
                    onclick="selectKey('global-pickup-key')"
                  >
                    <span id="global-pickup-key-display">Not Set</span>
                  </button>
                </div>
              </div>

              <div style="margin-top: 14px; display: flex; justify-content: space-between; align-items: center; padding: 0 3px;">
                <button
                  class="btn btn-clear-compact"
                  onclick="clearAllKeybinds()"
                >
                  CLEAR ALL
                </button>
                <div
                  class="keybind-status-compact"
                  id="keybinds-status-text"
                  data-i18n="keybinds.status"
                >
                  Set once, use everywhere
                </div>
              </div>
            </div>
          </div>

          <!-- LEAKED TAB -->
          <div class="tab-content">
            <!-- Zuls Macro Section -->
            <div class="macro-section active" id="zuls-section">
              <div class="macro-settings-container">
                <div class="macro-settings-row">
                  <div class="macro-settings-content" style="display: flex; align-items: center; justify-content: space-between; width: 100%;">
                    <div style="display: flex; align-items: center; gap: 16px;">
                      <div>
                        <div style="font-size: 18px; font-weight: 600; color: #e0e0e0; margin-bottom: 4px;">
                          Zuls Macro
                        </div>
                        <div style="font-size: 11px; color: #888;">
                          Premium macro features
                        </div>
                      </div>
                    </div>
                    <div class="macro-button-wrapper">
                      <button
                        class="btn-start"
                        id="zuls-toggle"
                        onclick="toggleMacro('zuls')"
                      >
                        <span id="zuls-toggle-text">START</span>
                      </button>
                    </div>
                  </div>
                </div>
              </div>

              <div class="status-container">
                <div class="status-indicator" id="zuls-indicator"></div>
                <div class="status-info">
                  <div class="status-text" id="zuls-status" data-i18n="ui.ready">
                    Ready - Configure and START
                  </div>
                  <div
                    class="status-runtime"
                    id="zuls-runtime"
                    style="display: none"
                  >
                    Runtime: 0s
                  </div>
                </div>
              </div>
            </div>
          </div>

        </div>
        </div>

        <!-- EZ MODE CONTAINER -->
        <div id="ez-mode-container" class="ez-mode-container">
          <div class="ez-mode-header">
            <div class="ez-mode-title">
              EZ MODE
              <span class="ez-mode-badge" id="ez-mode-hotkey-badge">F7</span>
            </div>
            <span class="ez-mode-hint" id="ez-mode-hotkey-hint">Press F7 to exit</span>
          </div>

          <div class="ez-mode-grid">
            <!-- Drag Edit Card -->
            <div class="ez-macro-card" id="ez-drag-card">
              <div class="ez-macro-header">
                <span class="ez-macro-name">Drag Edit</span>
                <div class="ez-macro-status" id="ez-drag-status"></div>
              </div>
              <div class="ez-macro-controls">
                <button class="ez-toggle-btn" id="ez-drag-toggle" onclick="toggleMacro('drag')">
                  START
                </button>
              </div>
            </div>

            <!-- Instant Build Card -->
            <div class="ez-macro-card" id="ez-turbo-card">
              <div class="ez-macro-header">
                <span class="ez-macro-name">Instant Build</span>
                <div class="ez-macro-status" id="ez-turbo-status"></div>
              </div>
              <div class="ez-macro-controls">
                <button class="ez-toggle-btn" id="ez-turbo-toggle" onclick="toggleMacro('turbo')">
                  START
                </button>
              </div>
            </div>

            <!-- Double Edit Card -->
            <div class="ez-macro-card" id="ez-double-card">
              <div class="ez-macro-header">
                <span class="ez-macro-name">Double Edit</span>
                <div class="ez-macro-status" id="ez-double-status"></div>
              </div>
              <div class="ez-macro-controls">
                <button class="ez-toggle-btn" id="ez-double-toggle" onclick="toggleMacro('double')">
                  START
                </button>
              </div>
            </div>

            <!-- Pickup Card -->
            <div class="ez-macro-card" id="ez-pickup-card">
              <div class="ez-macro-header">
                <span class="ez-macro-name">Pickup Spam</span>
                <div class="ez-macro-status" id="ez-pickup-status"></div>
              </div>
              <div class="ez-macro-controls">
                <button class="ez-toggle-btn" id="ez-pickup-toggle" onclick="toggleMacro('pickup')">
                  START
                </button>
              </div>
            </div>

            <!-- Shotgun Card -->
            <div class="ez-macro-card" id="ez-shotgun-card">
              <div class="ez-macro-header">
                <span class="ez-macro-name">Shotgun</span>
                <div class="ez-macro-status" id="ez-shotgun-status"></div>
              </div>
              <div class="ez-macro-controls">
                <button class="ez-toggle-btn" id="ez-shotgun-toggle" onclick="toggleMacro('shotgun')">
                  START
                </button>
              </div>
            </div>

            <!-- Crouch Spam Card -->
            <div class="ez-macro-card" id="ez-crouch-card">
              <div class="ez-macro-header">
                <span class="ez-macro-name">Crouch Spam</span>
                <div class="ez-macro-status" id="ez-crouch-status"></div>
              </div>
              <div class="ez-macro-controls">
                <button class="ez-toggle-btn" id="ez-crouch-toggle" onclick="toggleMacro('crouch')">
                  START
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Theme Selection Popup -->
    <div id="theme-popup" class="theme-popup">
      <div class="theme-popup-content">
        <h2 class="theme-popup-title" data-i18n="theme.title">
          Where did you hear about us?
        </h2>
        <p class="theme-popup-description" data-i18n="theme.desc">
          Help us know where our community comes from!
        </p>
        <div class="theme-buttons">
          <button
            class="theme-btn theme-btn-tiktok"
            onclick="selectTheme('tiktok')"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 448 512"
              width="24"
              height="24"
            >
              <path
                d="M448,209.91a210.06,210.06,0,0,1-122.77-39.25V349.38A162.55,162.55,0,1,1,185,188.31V278.2a74.62,74.62,0,1,0,52.23,71.18V0l88,0a121.18,121.18,0,0,0,1.86,22.17h0A122.18,122.18,0,0,0,381,102.39a121.43,121.43,0,0,0,67,20.14Z"
              />
            </svg>
            TikTok
          </button>
          <button
            class="theme-btn theme-btn-youtube"
            onclick="selectTheme('youtube')"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 576 512"
              width="24"
              height="24"
            >
              <path
                d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"
              />
            </svg>
            YouTube
          </button>
        </div>
      </div>
    </div>

    <!-- Custom Alert Modal -->
    <div id="custom-alert-overlay" class="custom-alert-overlay">
      <div class="custom-alert-content">
        <h3 class="custom-alert-title" id="custom-alert-title">Alert</h3>
        <p class="custom-alert-message" id="custom-alert-message"></p>
        <button class="custom-alert-button" onclick="closeCustomAlert()">
          OK
        </button>
      </div>
    </div>

    <!-- Quit Confirmation Dialog -->
    <div id="quit-confirm-overlay" class="quit-confirm-overlay">
      <div class="quit-confirm-content">
        <h3 class="quit-confirm-title">Quit Application</h3>
        <p class="quit-confirm-message">Are you sure you want to quit?</p>
        <div class="quit-confirm-buttons">
          <button class="quit-confirm-btn quit-confirm-btn-yes" id="quit-confirm-yes">Yes</button>
          <button class="quit-confirm-btn quit-confirm-btn-cancel" id="quit-confirm-cancel">Cancel</button>
        </div>
      </div>
    </div>

    <!-- Settings Modal -->
    <div class="settings-modal" id="settingsModal">
      <div class="settings-content">
        <div class="settings-header">
          <h2 class="settings-title" data-i18n="settings.title">Settings</h2>
          <button class="settings-close" onclick="closeSettings()">
            &times;
          </button>
        </div>

        <div class="settings-section">
          <label class="settings-label" data-i18n="settings.language"
            >Language</label
          >
          <select
            class="settings-select"
            id="languageSelect"
            onchange="changeLanguage()"
          >
            <option value="en">English</option>
            <option value="es">Espaol (Spanish)</option>
            <option value="fr">Franais (French)</option>
            <option value="de">Deutsch (German)</option>
            <option value="pt">Portugus (Portuguese)</option>
            <option value="ru"> (Russian)</option>
            <option value="zh"> (Chinese)</option>
            <option value="ja"> (Japanese)</option>
            <option value="ko"> (Korean)</option>
          </select>
        </div>

        <div class="settings-section">
          <label class="settings-label" data-i18n="settings.performanceMode"
            >Performance Mode</label
          >
          <select
            class="settings-select"
            id="performanceModeSelect"
            onchange="changePerformanceMode()"
          >
            <option value="high">High Performance (240+ FPS)</option>
            <option value="medium">Medium Performance (120-240 FPS)</option>
            <option value="low">Low Performance (60-120 FPS)</option>
          </select>
          <div
            style="
              margin-top: 8px;
              font-size: 9.9px;
              color: #888;
              line-height: 1.4;
            "
          >
            <span data-i18n="settings.performanceModeDesc"
              >Macro engines will restart with the new performance mode. Running
              macros will automatically restart - no need to stop and start
              manually!</span
            >
          </div>
        </div>

        <div class="settings-section">
          <label class="settings-label" data-i18n="settings.hotkeyConfig"
            >Hotkey Configuration</label
          >
          <div style="display: flex; gap: 16px; flex-wrap: wrap;">
            <div style="flex: 1; min-width: 140px;">
              <label style="display: block; font-size: 10px; color: #888; margin-bottom: 4px;" data-i18n="settings.ghostMode">Ghost Mode</label>
              <input
                type="text"
                class="settings-select hotkey-input"
                id="ghostModeKeyInput"
                value="F10"
                readonly
                onclick="return captureHotkey(this, 'ghost-mode-key', event);"
                style="cursor: pointer; text-align: center; text-transform: uppercase;"
              />
            </div>
            <div style="flex: 1; min-width: 140px;">
              <label style="display: block; font-size: 10px; color: #888; margin-bottom: 4px;" data-i18n="settings.ezMode">EZ Mode</label>
              <input
                type="text"
                class="settings-select hotkey-input"
                id="ezModeKeyInput"
                value="F7"
                readonly
                onclick="return captureHotkey(this, 'ez-mode-key', event);"
                style="cursor: pointer; text-align: center; text-transform: uppercase;"
              />
            </div>
          </div>
          <div
            style="
              margin-top: 8px;
              font-size: 9.9px;
              color: #888;
              line-height: 1.4;
            "
          >
            <span data-i18n="settings.hotkeyDesc"
              >Click on a field and press any key to set. These hotkeys work globally even when the app is hidden.</span
            >
          </div>
        </div>

      </div>
    </div>

    <!-- Keybinds Popup Modal -->
    <div id="keybinds-popup" class="keybinds-popup">
      <div class="keybinds-popup-content">
        <div class="keybinds-popup-header">
          <h2 data-i18n="keybinds.settingsTitle">Keybinds Settings</h2>
          <div class="input-method-toggle">
            <button
              class="input-method-btn active"
              id="visual-layout-btn"
              onclick="switchInputMethod('visual')"
            >
              Visual Layout
            </button>
            <button
              class="input-method-btn"
              id="list-view-btn"
              onclick="switchInputMethod('list')"
            >
              List View
            </button>
          </div>
          <button class="keybinds-close" onclick="closeKeybindsPopup()">
            &times;
          </button>
        </div>
        <div class="keybinds-popup-body">
          <div class="visual-keybinds-container-popup">
            <!-- Function Blocks Panel -->
            <div class="function-blocks-panel">
              <div class="panel-title">Functions</div>
              <div
                class="function-block"
                draggable="true"
                data-function="global-edit-key"
                data-label="Edit"
              >
                <div class="function-name">Edit</div>
                <div class="function-desc">Enter edit mode</div>
              </div>
              <div
                class="function-block"
                draggable="true"
                data-function="global-select-key"
                data-label="Select"
              >
                <div class="function-name">Select</div>
                <div class="function-desc">Select pieces</div>
              </div>
              <div
                class="function-block"
                draggable="true"
                data-function="global-place-key"
                data-label="Place"
              >
                <div class="function-name">Place</div>
                <div class="function-desc">Confirm build</div>
              </div>
              <div
                class="function-block"
                draggable="true"
                data-function="global-wall-key"
                data-label="Wall"
              >
                <div class="function-name">Wall</div>
                <div class="function-desc">Build wall</div>
              </div>
              <div
                class="function-block"
                draggable="true"
                data-function="global-floor-key"
                data-label="Floor"
              >
                <div class="function-name">Floor</div>
                <div class="function-desc">Build floor</div>
              </div>
              <div
                class="function-block"
                draggable="true"
                data-function="global-stair-key"
                data-label="Stair"
              >
                <div class="function-name">Stair</div>
                <div class="function-desc">Build stair</div>
              </div>
              <div
                class="function-block"
                draggable="true"
                data-function="global-cone-key"
                data-label="Cone"
              >
                <div class="function-name">Cone</div>
                <div class="function-desc">Build cone</div>
              </div>
              <div
                class="function-block"
                draggable="true"
                data-function="global-sprint-key"
                data-label="Sprint"
              >
                <div class="function-name">Sprint</div>
                <div class="function-desc">Sprint/run</div>
              </div>
              <div
                class="function-block"
                draggable="true"
                data-function="global-pickup-key"
                data-label="Pickup"
              >
                <div class="function-name">Pickup</div>
                <div class="function-desc">Interact</div>
              </div>
            </div>

            <!-- Keyboard and Mouse Container -->
            <div class="keyboard-mouse-container">
              <!-- Visual Keyboard -->
              <div class="visual-keyboard">
                <!-- Row 1 -->
                <div class="keyboard-row">
                  <div class="key" data-key="Escape">Esc</div>
                  <div class="key-spacer"></div>
                  <div class="key" data-key="F1">F1</div>
                  <div class="key" data-key="F2">F2</div>
                  <div class="key" data-key="F3">F3</div>
                  <div class="key" data-key="F4">F4</div>
                  <div class="key-spacer"></div>
                  <div class="key" data-key="F5">F5</div>
                  <div class="key" data-key="F6">F6</div>
                  <div class="key" data-key="F7">F7</div>
                  <div class="key" data-key="F8">F8</div>
                  <div class="key-spacer"></div>
                  <div class="key" data-key="F9">F9</div>
                  <div class="key" data-key="F10">F10</div>
                  <div class="key" data-key="F11">F11</div>
                  <div class="key" data-key="F12">F12</div>
                </div>

                <!-- Row 2 -->
                <div class="keyboard-row">
                  <div class="key" data-key="`">~</div>
                  <div class="key" data-key="1">1</div>
                  <div class="key" data-key="2">2</div>
                  <div class="key" data-key="3">3</div>
                  <div class="key" data-key="4">4</div>
                  <div class="key" data-key="5">5</div>
                  <div class="key" data-key="6">6</div>
                  <div class="key" data-key="7">7</div>
                  <div class="key" data-key="8">8</div>
                  <div class="key" data-key="9">9</div>
                  <div class="key" data-key="0">0</div>
                  <div class="key" data-key="-">-</div>
                  <div class="key" data-key="=">=</div>
                  <div class="key key-wide" data-key="Backspace">Backspace</div>
                </div>

                <!-- Row 3 -->
                <div class="keyboard-row">
                  <div class="key key-tab" data-key="Tab">Tab</div>
                  <div class="key" data-key="q">Q</div>
                  <div class="key" data-key="w">W</div>
                  <div class="key" data-key="e">E</div>
                  <div class="key" data-key="r">R</div>
                  <div class="key" data-key="t">T</div>
                  <div class="key" data-key="y">Y</div>
                  <div class="key" data-key="u">U</div>
                  <div class="key" data-key="i">I</div>
                  <div class="key" data-key="o">O</div>
                  <div class="key" data-key="p">P</div>
                  <div class="key" data-key="[">[</div>
                  <div class="key" data-key="]">]</div>
                  <div class="key key-backslash" data-key="\">\</div>
                </div>

                <!-- Row 4 -->
                <div class="keyboard-row">
                  <div class="key key-caps" data-key="CapsLock">Caps</div>
                  <div class="key" data-key="a">A</div>
                  <div class="key" data-key="s">S</div>
                  <div class="key" data-key="d">D</div>
                  <div class="key" data-key="f">F</div>
                  <div class="key" data-key="g">G</div>
                  <div class="key" data-key="h">H</div>
                  <div class="key" data-key="j">J</div>
                  <div class="key" data-key="k">K</div>
                  <div class="key" data-key="l">L</div>
                  <div class="key" data-key=";">;</div>
                  <div class="key" data-key="'">'</div>
                  <div class="key key-enter" data-key="Enter">Enter</div>
                </div>

                <!-- Row 5 -->
                <div class="keyboard-row">
                  <div class="key key-shift-left" data-key="LShift">Shift</div>
                  <div class="key" data-key="z">Z</div>
                  <div class="key" data-key="x">X</div>
                  <div class="key" data-key="c">C</div>
                  <div class="key" data-key="v">V</div>
                  <div class="key" data-key="b">B</div>
                  <div class="key" data-key="n">N</div>
                  <div class="key" data-key="m">M</div>
                  <div class="key" data-key=",">,</div>
                  <div class="key" data-key=".">.</div>
                  <div class="key" data-key="/">/</div>
                  <div class="key key-shift-right" data-key="RShift">Shift</div>
                </div>

                <!-- Row 6 -->
                <div class="keyboard-row">
                  <div class="key key-ctrl" data-key="LCtrl">Ctrl</div>
                  <div class="key" data-key="LWin">Win</div>
                  <div class="key key-alt" data-key="LAlt">Alt</div>
                  <div class="key key-space" data-key="Space">Space</div>
                  <div class="key key-alt" data-key="RAlt">Alt</div>
                  <div class="key" data-key="RWin">Win</div>
                  <div class="key" data-key="AppsKey">Menu</div>
                  <div class="key key-ctrl" data-key="RCtrl">Ctrl</div>
                </div>
              </div>

              <!-- Visual Mouse -->
              <div class="visual-mouse">
                <div class="mouse-title">Mouse</div>
                <div class="mouse-body">
                  <div class="mouse-buttons-top">
                    <div class="mouse-button" data-key="MButton">
                      <div class="mouse-button-label">Middle</div>
                    </div>
                    <div class="mouse-button" data-key="RButton">
                      <div class="mouse-button-label">Right</div>
                    </div>
                  </div>
                  <div class="mouse-buttons-side">
                    <div
                      class="mouse-button mouse-button-extra"
                      data-key="XButton1"
                    >
                      <div class="mouse-button-label">Mouse Button 1</div>
                    </div>
                    <div
                      class="mouse-button mouse-button-extra"
                      data-key="XButton2"
                    >
                      <div class="mouse-button-label">Mouse Button 2</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- List View Container (hidden by default) -->
          <div
            class="list-view-container"
            id="list-view-container"
            style="display: none"
          >
            <div class="keybind-list">
              <div class="keybind-list-item">
                <div class="keybind-list-info">
                  <div class="keybind-list-name">Edit</div>
                  <div class="keybind-list-desc">Enter edit mode</div>
                </div>
                <button
                  class="keybind-button"
                  id="global-edit-key-btn"
                  onclick="selectKey('global-edit-key')"
                >
                  <span id="global-edit-key-display">Not Set</span>
                </button>
              </div>

              <div class="keybind-list-item">
                <div class="keybind-list-info">
                  <div class="keybind-list-name">Select</div>
                  <div class="keybind-list-desc">Select pieces</div>
                </div>
                <button
                  class="keybind-button"
                  id="global-select-key-btn"
                  onclick="selectKey('global-select-key')"
                >
                  <span id="global-select-key-display">Not Set</span>
                </button>
              </div>

              <div class="keybind-list-item">
                <div class="keybind-list-info">
                  <div class="keybind-list-name">Place</div>
                  <div class="keybind-list-desc">Confirm build</div>
                </div>
                <button
                  class="keybind-button"
                  id="global-place-key-btn"
                  onclick="selectKey('global-place-key')"
                >
                  <span id="global-place-key-display">Not Set</span>
                </button>
              </div>

              <div class="keybind-list-item">
                <div class="keybind-list-info">
                  <div class="keybind-list-name">Wall</div>
                  <div class="keybind-list-desc">Build wall</div>
                </div>
                <button
                  class="keybind-button"
                  id="global-wall-key-btn"
                  onclick="selectKey('global-wall-key')"
                >
                  <span id="global-wall-key-display">Not Set</span>
                </button>
              </div>

              <div class="keybind-list-item">
                <div class="keybind-list-info">
                  <div class="keybind-list-name">Floor</div>
                  <div class="keybind-list-desc">Build floor</div>
                </div>
                <button
                  class="keybind-button"
                  id="global-floor-key-btn"
                  onclick="selectKey('global-floor-key')"
                >
                  <span id="global-floor-key-display">Not Set</span>
                </button>
              </div>

              <div class="keybind-list-item">
                <div class="keybind-list-info">
                  <div class="keybind-list-name">Stair</div>
                  <div class="keybind-list-desc">Build stair</div>
                </div>
                <button
                  class="keybind-button"
                  id="global-stair-key-btn"
                  onclick="selectKey('global-stair-key')"
                >
                  <span id="global-stair-key-display">Not Set</span>
                </button>
              </div>

              <div class="keybind-list-item">
                <div class="keybind-list-info">
                  <div class="keybind-list-name">Cone</div>
                  <div class="keybind-list-desc">Build cone</div>
                </div>
                <button
                  class="keybind-button"
                  id="global-cone-key-btn"
                  onclick="selectKey('global-cone-key')"
                >
                  <span id="global-cone-key-display">Not Set</span>
                </button>
              </div>

              <div class="keybind-list-item">
                <div class="keybind-list-info">
                  <div class="keybind-list-name">Sprint</div>
                  <div class="keybind-list-desc">Sprint/run</div>
                </div>
                <button
                  class="keybind-button"
                  id="global-sprint-key-btn"
                  onclick="selectKey('global-sprint-key')"
                >
                  <span id="global-sprint-key-display">Not Set</span>
                </button>
              </div>

              <div class="keybind-list-item">
                <div class="keybind-list-info">
                  <div class="keybind-list-name">Pickup</div>
                  <div class="keybind-list-desc">Interact</div>
                </div>
                <button
                  class="keybind-button"
                  id="global-pickup-key-btn"
                  onclick="selectKey('global-pickup-key')"
                >
                  <span id="global-pickup-key-display">Not Set</span>
                </button>
              </div>
            </div>
          </div>

          <div style="margin-top: 20px; text-align: center">
            <button
              class="btn btn-clear"
              onclick="clearAllKeybinds()"
              style="min-width: 200px"
            >
              CLEAR ALL BINDS
            </button>
          </div>

          <div class="status-container">
            <div
              class="status-text"
              id="keybinds-status-text"
              data-i18n="keybinds.status"
            >
              Drag functions to keys or mouse buttons
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Expose to window scope for Electron
      window.saveSingleSetting = saveSingleSetting;

      // ============================================================================
      // HELP & SUPPORT FUNCTIONS
      // ============================================================================
      function fixRunAsAdmin() {
        alert(
          'To run as Administrator:\n\n1. Right-click the application icon\n2. Select "Run as administrator"\n3. Restart all macros after relaunching',
        );
      }

      function testKeys() {
        alert(
          "Key Test Mode\n\nClick any keybind button and press a key to test if it's being detected properly.",
        );
      }

      function optimizePerformance() {
        alert(
          "Performance Optimized!\n\nReduced macro delays\nCleared temporary data\nOptimized memory usage\n\nRestart the app for best results.",
        );
      }

      function clearSettings() {
        if (
          confirm(
            "WARNING: This will reset all your macro configurations.\n\nAre you sure you want to continue?",
          )
        ) {
          // Clear all settings
          localStorage.clear();
          alert("Settings cleared! The app will now restart.");
          location.reload();
        }
      }

      function restartApp() {
        if (
          confirm(
            "Restart the application?\n\nAll unsaved changes will be lost.",
          )
        ) {
          location.reload();
        }
      }

      function showKeybindGuide() {
        alert(
          "Keybind Best Practices:\n\nUse mouse side buttons for triggers\nAvoid WASD and common game keys\nUse F-keys (F1-F12) for safe binds\nCaps Lock and scroll lock work well\nTest binds in Creative first",
        );
      }

      function checkPermissions() {
        alert(
          'Permission Check:\n\nRight-click app folder\nProperties  Security\nEnsure "Full Control" is enabled\nRun as Administrator if needed',
        );
      }

      function copyDiagnostics() {
        const diagnostics =
          "SJtweaks macro v2.0.1\nStatus: Running\nActive Macros: 0\nLast Update: 2025-01-06";
        navigator.clipboard.writeText(diagnostics);
        alert("Diagnostics copied to clipboard!");
      }

      function exportLogs() {
        alert(
          "Logs exported to:\nC:\\Users\\YourName\\AppData\\Local\\Vantrix\\logs.txt",
        );
      }

      // ============================================================================
      // LICENSE CHECK ON PAGE LOAD
      // ============================================================================
      async function checkLicenseOnLoad() {
        // ALWAYS show the license form first - don't auto-validate
        // This ensures user can always enter/change their key
        
        // Setup close button handler - shows quit confirmation dialog
        const closeBtn = document.getElementById("loading-close-btn");
        if (closeBtn) {
          closeBtn.addEventListener("click", (e) => {
            e.stopPropagation();
            e.preventDefault();
            showQuitConfirmation();
          });
        }

        // Quit confirmation dialog functions
        function showQuitConfirmation() {
          const overlay = document.getElementById("quit-confirm-overlay");
          if (overlay) {
            overlay.classList.add("show");
          }
        }

        function hideQuitConfirmation() {
          const overlay = document.getElementById("quit-confirm-overlay");
          if (overlay) {
            overlay.classList.remove("show");
          }
        }

        function confirmQuit() {
          hideQuitConfirmation();
          // Close the application window using Electron API
          if (window.electron && window.electron.closeWindow) {
            window.electron.closeWindow();
          } else if (typeof closeWindow === 'function') {
            closeWindow();
          } else {
            // Fallback: try to close the window
            window.close();
          }
        }

        // Setup quit confirmation button handlers
        const quitConfirmYes = document.getElementById("quit-confirm-yes");
        const quitConfirmCancel = document.getElementById("quit-confirm-cancel");
        
        if (quitConfirmYes) {
          quitConfirmYes.addEventListener("click", (e) => {
            e.stopPropagation();
            e.preventDefault();
            confirmQuit();
          });
        }

        if (quitConfirmCancel) {
          quitConfirmCancel.addEventListener("click", (e) => {
            e.stopPropagation();
            e.preventDefault();
            hideQuitConfirmation();
          });
        }

        // Close dialog when clicking outside (on overlay)
        const quitConfirmOverlay = document.getElementById("quit-confirm-overlay");
        if (quitConfirmOverlay) {
          quitConfirmOverlay.addEventListener("click", (e) => {
            if (e.target === quitConfirmOverlay) {
              hideQuitConfirmation();
            }
          });
        }
        
        // Ensure loading screen is visible
        const loadingScreen = document.getElementById("loading-screen");
        if (loadingScreen) {
          loadingScreen.style.display = "flex";
          loadingScreen.style.opacity = "1";
          loadingScreen.style.visibility = "visible";
        } else {
          console.error(" Loading screen element not found!");
        }

        // ALWAYS ensure license form container is visible first
        const licenseFormContainer = document.getElementById("license-form-container");
        if (licenseFormContainer) {
          licenseFormContainer.classList.add("show");
          licenseFormContainer.style.opacity = "1";
          licenseFormContainer.style.display = "flex";
          licenseFormContainer.style.visibility = "visible";
        } else {
          console.error(" License form container not found!");
        }

        // Setup the form handlers first so user can interact
        setupLicenseForm();

        // Check if remember me is checked and load license key if it exists
        const savedRememberMe = localStorage.getItem("Vantrix_remember_me") === "true";
        if (savedRememberMe) {
          const savedLicenseKey = localStorage.getItem("Vantrix_license_key");
          if (savedLicenseKey) {
            // Pre-fill the input but don't auto-validate
            const licenseInput = document.getElementById("license-key-input");
            if (licenseInput) {
              licenseInput.value = savedLicenseKey;
            }
          }
        } else {
          // Clear license key if remember me is not checked
          localStorage.removeItem("Vantrix_license_key");
        }
      }

      // ============================================================================
      // LOADING SEQUENCE
      // ============================================================================
      async function startLoadingSequence() {
        const loadingScreen = document.getElementById("loading-screen");
        const loadingStatus = document.getElementById("loading-status");
        const loadingPercentage = document.getElementById("loading-percentage");
        const loadingBarContainer = document.getElementById("loading-bar-container");

        // Show status text, but hide loading bar
        if (loadingStatus) {
          loadingStatus.style.display = "block";
        }
        if (loadingBarContainer) {
          loadingBarContainer.style.display = "none";
          loadingBarContainer.style.visibility = "hidden";
        }
        if (loadingPercentage) {
          loadingPercentage.style.display = "none";
          loadingPercentage.style.visibility = "hidden";
        }


        // Enhanced loading progress with actual system checks
        const loadingSteps = [
          { percent: 0, textKey: "loading.initializing", check: null },
          {
            percent: 20,
            textKey: "loading.verifying",
            check: checkIPCBridge,
          },
          { percent: 40, textKey: "loading.engines", check: checkMacroEngines },
          { percent: 60, textKey: "loading.license", check: null },
          {
            percent: 80,
            textKey: "loading.settings",
            check: checkSettingsLoaded,
          },
          { percent: 100, textKey: "", check: null },
        ];

        const stepDuration = 500; // 500ms per step = 3 seconds total

        // Function to perform system readiness checks
        async function checkIPCBridge() {
          try {
            return (
              window.electron &&
              typeof window.electron.loadSettings === "function"
            );
          } catch (e) {
            console.error("IPC bridge check failed:", e);
            return false;
          }
        }

        async function checkMacroEngines() {
          try {
            // Wait for engines to fully initialize
            await new Promise((resolve) => setTimeout(resolve, 500));
            const status = await window.electron.getMacroStatus();
            return status && status.engineReady !== false;
          } catch (e) {
            console.error("Engine check failed:", e);
            return false;
          }
        }

        async function checkSettingsLoaded() {
          try {
            const settings = await window.electron.loadSettings();
            return settings !== null && settings !== undefined;
          } catch (e) {
            console.error("Settings check failed:", e);
            return false;
          }
        }

        // Progress through loading steps with actual checks
        for (let i = 0; i < loadingSteps.length; i++) {
          const step = loadingSteps[i];
          if (loadingStatus && step.textKey) {
            loadingStatus.textContent = window.getTranslation(step.textKey, step.textKey);
          } else if (loadingStatus && !step.textKey) {
            // Hide status text when empty
            loadingStatus.style.display = "none";
          }

          // Perform readiness check if defined
          if (step.check) {
            const checkPassed = await step.check();
            if (!checkPassed) {
              console.warn(` Readiness check warning: ${step.textKey}`);
              // Continue anyway but log the warning
            } else {
            }
          }

          // Wait for step duration
          await new Promise((resolve) => setTimeout(resolve, stepDuration));
        }

        proceedToMainUI();
      }

      // Hide license form
      function hideLicenseForm() {
        const licenseFormContainer = document.getElementById("license-form-container");
        if (licenseFormContainer) {
          licenseFormContainer.classList.remove("show");
          licenseFormContainer.style.opacity = "0";
        }
      }

      // Setup license form handlers
      function setupLicenseForm() {
        const licenseInput = document.getElementById("license-key-input");
        const submitBtn = document.getElementById("license-submit-btn");
        const licenseMessage = document.getElementById("license-message");
        const licenseFormContainer = document.getElementById("license-form-container");

        if (!licenseInput || !submitBtn) {
          console.error(" License form elements not found!");
          return;
        }

        // Ensure license form is visible
        if (licenseFormContainer) {
          licenseFormContainer.classList.add("show");
          licenseFormContainer.style.opacity = "1";
        }

        // Load saved key only if remember me was checked
        const savedRememberMe = localStorage.getItem("Vantrix_remember_me") === "true";
        if (savedRememberMe) {
          const savedKey = localStorage.getItem("Vantrix_license_key");
          if (savedKey) {
            licenseInput.value = savedKey;
          }
        } else {
          // Ensure license key is removed if remember me is not checked
          localStorage.removeItem("Vantrix_license_key");
        }

        // Auto-format license key
        licenseInput.addEventListener("input", (e) => {
          let value = e.target.value.replace(/[^A-Za-z0-9]/g, "").toUpperCase();
          let formatted = "";

          for (let i = 0; i < value.length && i < 16; i++) {
            if (i > 0 && i % 4 === 0) {
              formatted += "-";
            }
            formatted += value[i];
          }

          e.target.value = formatted;
        });

        // Submit on Enter
        licenseInput.addEventListener("keypress", (e) => {
          if (e.key === "Enter") {
            submitBtn.click();
          }
        });

        // Remember me toggle handler
        const rememberMeToggle = document.getElementById("remember-me-toggle");
        if (rememberMeToggle) {
          // Load saved state
          const savedRememberMe = localStorage.getItem("Vantrix_remember_me") === "true";
          if (savedRememberMe) {
            rememberMeToggle.classList.add("active");
            // Only load license key if remember me was checked
            const savedKey = localStorage.getItem("Vantrix_license_key");
            if (savedKey && licenseInput) {
              licenseInput.value = savedKey;
            }
          } else {
            // If remember me is not checked, clear any saved license key
            localStorage.removeItem("Vantrix_license_key");
          }
          
          rememberMeToggle.addEventListener("click", () => {
            const wasActive = rememberMeToggle.classList.contains("active");
            rememberMeToggle.classList.toggle("active");
            const isActive = rememberMeToggle.classList.contains("active");
            
            // Save remember me toggle state
            localStorage.setItem("Vantrix_remember_me", isActive ? "true" : "false");
            
            // If unchecking remember me, immediately remove saved license key
            if (!isActive) {
              localStorage.removeItem("Vantrix_license_key");
              // Clear the input field
              if (licenseInput) {
                licenseInput.value = "";
              }
            }
          });
        }

        // Submit button handler
        submitBtn.addEventListener("click", async () => {
          const key = licenseInput.value.trim().replace(/-/g, "");
          const loadingBar = document.getElementById("license-loading-bar");

          if (!key || key.length !== 16) {
            showLicenseMessage("Please enter a valid license key", "error");
            return;
          }

          // Format key with dashes
          const formattedKey = key.match(/.{1,4}/g).join("-");

          // Hide button and show loading bar
          submitBtn.classList.add("hidden");
          if (loadingBar) {
            loadingBar.classList.add("active");
          }

          const result = await validateLicense(formattedKey);

          if (result.success) {
            // Only save license key if "Remember me" is checked
            const rememberMeChecked = rememberMeToggle && rememberMeToggle.classList.contains("active");
            if (rememberMeChecked) {
              // Save the license key when remember me is checked
              localStorage.setItem("Vantrix_license_key", formattedKey);
              localStorage.setItem("Vantrix_remember_me", "true");
            } else {
              // Remove license key if remember me is not checked
              localStorage.removeItem("Vantrix_license_key");
              localStorage.setItem("Vantrix_remember_me", "false");
            }
            // Save affiliate status if applicable
            if (result.isAffiliate) {
              localStorage.setItem("Vantrix_is_affiliate", "true");
            } else {
              localStorage.removeItem("Vantrix_is_affiliate");
            }
            // Update titlebar immediately
            updateTitlebarAffiliate(result.isAffiliate);
            showLicenseMessage("License validated successfully!", "success");
            setTimeout(() => {
              hideLicenseForm();
              startLoadingSequence();
            }, 1000);
          } else {
            showLicenseMessage(result.message || "Invalid license key", "error");
            // Hide loading bar and show button again
            if (loadingBar) {
              loadingBar.classList.remove("active");
            }
            submitBtn.classList.remove("hidden");
            submitBtn.disabled = false;
          }
        });

        // Focus on input after a short delay
        setTimeout(() => {
          const savedRememberMe = localStorage.getItem("Vantrix_remember_me") === "true";
          const savedKey = savedRememberMe ? localStorage.getItem("Vantrix_license_key") : null;
          if (licenseInput && !savedKey) {
            licenseInput.focus();
          }
        }, 300);
      }

      // Validate license key
      async function validateLicense(key) {
        try {
          // TEMPORARY BYPASS: Accept "123" as password
          if (key === "123") {
            return {
              success: true,
              message: "Bypass authentication successful",
            };
          }

          if (!window.electron?.authLicense) {
            return {
              success: false,
              message: "Authentication bridge not available",
            };
          }

          const result = await window.electron.authLicense(key);
          return result;
        } catch (error) {
          console.error(" License validation error:", error);
          return {
            success: false,
            message: "Error validating license key",
          };
        }
      }

      // Show license message
      function showLicenseMessage(message, type) {
        // Message display disabled - no longer showing messages
        const licenseMessage = document.getElementById("license-message");
        if (licenseMessage) {
          licenseMessage.style.display = "none";
          licenseMessage.style.visibility = "hidden";
        }
      }

      // Proceed to main UI with smooth transition
      function proceedToMainUI() {
        const loadingScreen = document.getElementById("loading-screen");
        const licenseFormContainer = document.getElementById("license-form-container");
        const mainContainer = document.querySelector(".container");

        if (!loadingScreen) {
          console.error(" Loading screen not found!");
          return;
        }

        // Smooth fade out of license form first
        if (licenseFormContainer) {
          licenseFormContainer.style.transition = "opacity 0.5s cubic-bezier(0.4, 0, 0.2, 1), transform 0.5s cubic-bezier(0.4, 0, 0.2, 1)";
          licenseFormContainer.style.transform = "translateY(-10px) scale(0.98)";
          licenseFormContainer.style.opacity = "0";
          
          setTimeout(() => {
            licenseFormContainer.classList.remove("show");
            licenseFormContainer.style.display = "none";
            licenseFormContainer.style.visibility = "hidden";
          }, 500);
        }

        // Smooth fade out of loading screen with scale effect
        setTimeout(() => {
          loadingScreen.style.transition = "opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1), transform 0.8s cubic-bezier(0.4, 0, 0.2, 1), visibility 0.8s ease";
          loadingScreen.classList.add("fade-out");
          loadingScreen.style.opacity = "0";
          loadingScreen.style.pointerEvents = "none";
        }, 300);

        // Prepare main container for fade in
        if (mainContainer) {
          mainContainer.style.display = "block";
          mainContainer.style.visibility = "visible";
          mainContainer.style.opacity = "0";
          mainContainer.style.transform = "translateY(20px)";
        }

        // Smooth fade in of main container after loading screen starts fading
        setTimeout(() => {
          if (mainContainer) {
            // Force reflow to ensure transition works
            mainContainer.offsetHeight;
            
            mainContainer.classList.add("active");
            mainContainer.style.opacity = "1";
            mainContainer.style.transform = "translateY(0)";
          } else {
            console.error(" Main container not found!");
          }
        }, 600);

        // Remove loading screen from DOM after transition completes
        setTimeout(() => {
          if (loadingScreen) {
            loadingScreen.style.display = "none";
            loadingScreen.style.visibility = "hidden";
            loadingScreen.style.opacity = "0";
          }

          // Restore crash recovery state
          checkCrashRecovery();
        }, 1400);
      }

      // ============================================================================
      // ============================================================================
      // CRASH RECOVERY SYSTEM
      // ============================================================================
      function saveCrashRecoveryState() {
        const state = {
          activeMacros: [],
          timestamp: Date.now(),
        };

        // Save which macros are currently running
        ["drag", "turbo", "double", "pickup", "shotgun"].forEach((macro) => {
          const toggleBtn = document.getElementById(`${macro}-toggle`);
          if (toggleBtn && toggleBtn.classList.contains("active")) {
            state.activeMacros.push(macro);
          }
        });

        localStorage.setItem("crashRecoveryState", JSON.stringify(state));
      }

      function checkCrashRecovery() {
        try {
          const savedState = localStorage.getItem("crashRecoveryState");
          const cleanShutdown = localStorage.getItem("cleanShutdown");

          // If we have a saved state but no clean shutdown flag, it was a crash
          if (savedState && !cleanShutdown) {
            const state = JSON.parse(savedState);
            const timeSinceCrash = Date.now() - state.timestamp;

            // Only restore if crash was recent (within 5 minutes)
            if (
              timeSinceCrash < 5 * 60 * 1000 &&
              state.activeMacros.length > 0
            ) {
              const restore = confirm(
                `It looks like the app closed unexpectedly.\n\n` +
                  `Would you like to restore your previous macro state?\n\n` +
                  `Active macros: ${state.activeMacros.join(", ")}`,
              );

              if (restore) {
                // Restore each macro
                state.activeMacros.forEach((macro) => {
                  setTimeout(() => {
                    const toggleBtn = document.getElementById(
                      `${macro}-toggle`,
                    );
                    if (toggleBtn && !toggleBtn.classList.contains("active")) {
                      toggleMacro(macro);
                    }
                  }, 500);
                });
              }
            }
          }

          // Clear the clean shutdown flag
          localStorage.removeItem("cleanShutdown");

          // Save state periodically
          setInterval(saveCrashRecoveryState, 10000); // Every 10 seconds

          // Mark clean shutdown when window closes
          window.addEventListener("beforeunload", () => {
            localStorage.setItem("cleanShutdown", "true");
          });
        } catch (error) {
          console.error("Error in crash recovery:", error);
        }
      }

      // ============================================================================
      // PARTICLES
      // ============================================================================
      function createParticles() {
        const particles = document.getElementById("particles");
        for (let i = 0; i < 30; i++) {
          const particle = document.createElement("div");
          particle.classList.add("particle");
          const leftPosition = Math.random() * 100;
          particle.style.left = leftPosition + "%";
          // Make particles on the left side (left < 50%) move 20% faster
          const baseDuration = Math.random() * 10 + 10; // 10-20 seconds
          const duration = leftPosition < 50 ? baseDuration * 0.8 : baseDuration; // 20% faster on left side
          particle.style.animationDuration = duration + "s";
          particle.style.animationDelay = Math.random() * 5 + "s";
          particles.appendChild(particle);
        }
      }

      // Create colored particles for About page
      function createAboutParticles() {
        const aboutParticles = document.getElementById("about-particles");
        if (!aboutParticles) return;

        // Create 20 red particles
        for (let i = 0; i < 20; i++) {
          const particle = document.createElement("div");
          particle.classList.add("particle-red");
          particle.style.left = Math.random() * 100 + "%";
          particle.style.animationDuration = Math.random() * 15 + 15 + "s";
          particle.style.animationDelay = Math.random() * 8 + "s";
          aboutParticles.appendChild(particle);
        }

        // Create 15 silver particles
        for (let i = 0; i < 15; i++) {
          const particle = document.createElement("div");
          particle.classList.add("particle-silver");
          particle.style.left = Math.random() * 100 + "%";
          particle.style.animationDuration = Math.random() * 18 + 18 + "s";
          particle.style.animationDelay = Math.random() * 10 + "s";
          aboutParticles.appendChild(particle);
        }
      }

      // Create UI floating particles (big white faded ones)
      function createUIParticles() {
        const uiParticlesContainer = document.getElementById("ui-particles");
        if (!uiParticlesContainer) return;

        // Clear any existing particles
        uiParticlesContainer.innerHTML = "";

        // Create 12-15 large white faded particles
        const particleCount = 12 + Math.floor(Math.random() * 4);
        
        for (let i = 0; i < particleCount; i++) {
          const particle = document.createElement("div");
          particle.classList.add("ui-particle");
          
          // Random size between 8px and 20px
          const size = Math.random() * 12 + 8;
          particle.style.width = size + "px";
          particle.style.height = size + "px";
          
          // Random starting position within the container
          particle.style.left = Math.random() * 100 + "%";
          particle.style.top = Math.random() * 100 + "%";
          
          // Random animation duration between 8-15 seconds for smooth floating
          const duration = Math.random() * 7 + 8;
          particle.style.animation = `uiParticleFloat ${duration}s ease-in-out infinite`;
          
          // Random delay to stagger appearance
          particle.style.animationDelay = Math.random() * 5 + "s";
          
          uiParticlesContainer.appendChild(particle);
        }
      }

      // ============================================================================
      // TAB SWITCHING
      // ============================================================================
      function switchTab(index) {
        const tabs = document.querySelectorAll(".tab");
        const contents = document.querySelectorAll(".tab-content");

        tabs.forEach((tab, i) => {
          if (i === index) {
            tab.classList.add("active");
          } else {
            tab.classList.remove("active");
          }
        });

        contents.forEach((content, i) => {
          if (i === index) {
            content.classList.add("active");
            // Load keybinds when Keybinds tab is opened (index 3)
            if (i === 3 && typeof loadListViewKeybinds === 'function') {
              loadListViewKeybinds();
            }
          } else {
            content.classList.remove("active");
          }
        });
      }

      // ============================================================================
      // MACRO SECTION SWITCHER
      // ============================================================================
      function switchMacroSection(macroId) {
        const sections = document.querySelectorAll(".macro-section");
        sections.forEach(section => {
          if (section.id === macroId + '-section') {
            section.classList.add("active");
          } else {
            section.classList.remove("active");
          }
        });
      }

      // ============================================================================
      // EZ MODE FUNCTIONS
      // ============================================================================
      let ezModeActive = false;

      function toggleEzMode() {
        ezModeActive = !ezModeActive;
        const ezContainer = document.getElementById('ez-mode-container');
        const tabs = document.querySelector('.tabs');
        const tabContentWrapper = document.querySelector('.tab-content-wrapper');

        if (ezModeActive) {
          ezContainer.classList.add('active');
          tabs.style.display = 'none';
          tabContentWrapper.style.display = 'none';
          syncEzModeFromMain();
        } else {
          ezContainer.classList.remove('active');
          tabs.style.display = '';
          tabContentWrapper.style.display = '';
        }
      }

      // Sync EZ mode from main tab values
      function syncEzModeFromMain() {
        // Sync running states
        updateEzModeStates();
      }

      // Update EZ mode button states based on macro running states
      function updateEzModeStates() {
        const macros = ['drag', 'turbo', 'double', 'pickup', 'shotgun', 'crouch'];
        macros.forEach(macro => {
          const mainToggle = document.getElementById(macro + '-toggle');
          const ezToggle = document.getElementById('ez-' + macro + '-toggle');
          const ezStatus = document.getElementById('ez-' + macro + '-status');
          const ezCard = document.getElementById('ez-' + macro + '-card');

          if (mainToggle && ezToggle) {
            const isRunning = mainToggle.classList.contains('active');

            if (isRunning) {
              ezToggle.textContent = window.getTranslation('ui.stop', 'STOP');
              ezToggle.classList.add('running');
              if (ezStatus) ezStatus.classList.add('active');
              if (ezCard) ezCard.classList.add('running');
            } else {
              ezToggle.textContent = window.getTranslation('ui.start', 'START');
              ezToggle.classList.remove('running');
              if (ezStatus) ezStatus.classList.remove('active');
              if (ezCard) ezCard.classList.remove('running');
            }
          }
        });
      }

      // Listen for F7 from main process
      if (window.electron && window.electron.onEzModeToggle) {
        window.electron.onEzModeToggle(() => {
          toggleEzMode();
        });
      }

      // Also update EZ mode when macros are toggled
      const originalToggleMacro = window.toggleMacro;
      window.toggleMacroWithEzUpdate = function(type) {
        if (typeof toggleMacro === 'function') {
          toggleMacro(type);
        }
        // Update EZ mode states after toggle
        setTimeout(updateEzModeStates, 50);
      };

      // ============================================================================
      // INSTRUCTIONS TOGGLE
      // ============================================================================
      function toggleInstructions(button) {
        const content = button.nextElementSibling;
        const isExpanded = button.classList.contains("expanded");

        if (isExpanded) {
          button.classList.remove("expanded");
          content.classList.remove("expanded");
        } else {
          button.classList.add("expanded");
          content.classList.add("expanded");
        }
      }

      // Settings Section Toggle
      function toggleSettingsSection(button) {
        const content = button.nextElementSibling;
        const isActive = button.classList.contains("active");

        if (isActive) {
          button.classList.remove("active");
          content.classList.remove("active");
        } else {
          button.classList.add("active");
          content.classList.add("active");
        }
      }

      // ============================================================================
      // KEY SELECTION
      // ============================================================================
      let currentKeyTarget = null;

      function selectKey(targetId) {
        currentKeyTarget = targetId;

        // Try to get the button - could be either the setting ID or the button ID
        let button = document.getElementById(targetId);
        if (!button) {
          // If not found, try with -btn suffix (for list view buttons)
          button = document.getElementById(`${targetId}-btn`);
        }
        if (!button) return;

        // Check if this is a list view button (has a -display element)
        const listDisplayElement = document.getElementById(
          `${targetId}-display`,
        );

        if (listDisplayElement) {
          // List view button
          listDisplayElement.textContent = window.getTranslation('ui.pressKey', 'PRESS KEY...');
          button.style.background = "rgba(var(--custom-color-rgb), 0.2)";
          button.style.borderColor = "rgba(var(--custom-color-rgb), 0.5)";
        } else {
          // Regular button
          button.textContent = window.getTranslation('ui.pressKey', 'PRESS KEY...');
          button.style.background = "rgba(var(--custom-color-rgb), 0.2)";
          button.style.borderColor = "rgba(var(--custom-color-rgb), 0.5)";
        }

        const keyHandler = (e) => {
          e.preventDefault();
          captureKey(e);
          cleanup();
        };

        const mouseHandler = (e) => {
          e.preventDefault();
          e.stopPropagation();
          captureMouse(e);
          cleanup();
        };

        const cleanup = () => {
          document.removeEventListener("keydown", keyHandler);
          document.removeEventListener("mousedown", mouseHandler);
          document.removeEventListener("contextmenu", preventContext);

          // Restore button styles
          if (listDisplayElement || button) {
            const btn = listDisplayElement ? button : button;
            btn.style.background = "#080808";
            btn.style.borderColor = "#1a1a1a";
          }
        };

        const preventContext = (e) => {
          e.preventDefault();
        };

        document.addEventListener("keydown", keyHandler);
        document.addEventListener("mousedown", mouseHandler);
        document.addEventListener("contextmenu", preventContext);
      }

      // Expose to window scope for onclick handlers
      window.selectKey = selectKey;

      function captureKey(e) {
        if (!currentKeyTarget) return;

        let key = "";

        // Letter keys (A-Z)
        if (e.code.startsWith("Key")) {
          key = e.code.replace("Key", "").toLowerCase();
        }
        // Number keys (0-9)
        else if (e.code.startsWith("Digit")) {
          key = e.code.replace("Digit", "");
        }
        // Numpad keys
        else if (e.code.startsWith("Numpad")) {
          // Map JavaScript numpad codes to AHK key names
          const numpadMap = {
            NumpadMultiply: "NumpadMult",
            NumpadDivide: "NumpadDiv",
            NumpadSubtract: "NumpadSub",
            NumpadAdd: "NumpadAdd",
            NumpadDecimal: "NumpadDot",
            NumpadEnter: "NumpadEnter",
          };
          key = numpadMap[e.code] || e.code;
        }
        // Function keys (F1-F24)
        else if (e.code.match(/^F\d+$/)) {
          key = e.code;
        }
        // Modifier keys
        else if (e.code === "ShiftLeft" || e.code === "ShiftRight") {
          key = e.code === "ShiftLeft" ? "LShift" : "RShift";
        } else if (e.code === "ControlLeft" || e.code === "ControlRight") {
          key = e.code === "ControlLeft" ? "LCtrl" : "RCtrl";
        } else if (e.code === "AltLeft" || e.code === "AltRight") {
          key = e.code === "AltLeft" ? "LAlt" : "RAlt";
        }
        // Special keys
        else if (e.key === " " || e.code === "Space") {
          key = "Space";
        } else if (e.code === "Enter") {
          key = "Enter";
        } else if (e.code === "Tab") {
          key = "Tab";
        } else if (e.code === "Escape") {
          // Escape is not allowed to be assigned - cancel the bind
          const button = document.getElementById(currentKeyTarget);
          const listDisplayElement = document.getElementById(
            `${currentKeyTarget}-display`,
          );

          if (button) {
            button.textContent = window.getTranslation('keybinds.select', 'SELECT');
            button.style.background = "";
            button.style.borderColor = "";
          }
          if (listDisplayElement) {
            listDisplayElement.textContent = window.getTranslation('ui.notSet', 'Not Set');
          }

          currentKeyTarget = null;
          return;
        } else if (e.code === "Backspace") {
          key = "Backspace";
        } else if (e.code === "Delete") {
          key = "Delete";
        } else if (e.code === "Insert") {
          key = "Insert";
        } else if (e.code === "Home") {
          key = "Home";
        } else if (e.code === "End") {
          key = "End";
        } else if (e.code === "PageUp") {
          key = "PgUp";
        } else if (e.code === "PageDown") {
          key = "PgDn";
        }
        // Arrow keys
        else if (e.code === "ArrowUp") {
          key = "Up";
        } else if (e.code === "ArrowDown") {
          key = "Down";
        } else if (e.code === "ArrowLeft") {
          key = "Left";
        } else if (e.code === "ArrowRight") {
          key = "Right";
        }
        // Lock keys
        else if (e.code === "CapsLock") {
          key = "CapsLock";
        } else if (e.code === "NumLock") {
          key = "NumLock";
        } else if (e.code === "ScrollLock") {
          key = "ScrollLock";
        } else if (e.code === "Pause") {
          key = "Pause";
        }
        // Bracket and symbol keys
        else if (e.code === "BracketLeft") {
          key = "[";
        } else if (e.code === "BracketRight") {
          key = "]";
        } else if (e.code === "Semicolon") {
          key = ";";
        } else if (e.code === "Quote") {
          key = "'";
        } else if (e.code === "Backquote") {
          key = "`";
        } else if (e.code === "Backslash") {
          key = "\\";
        } else if (e.code === "Comma") {
          key = ",";
        } else if (e.code === "Period") {
          key = ".";
        } else if (e.code === "Slash") {
          key = "/";
        } else if (e.code === "Minus") {
          key = "-";
        } else if (e.code === "Equal") {
          key = "=";
        }
        // Fallback for any other single character
        else if (e.key.length === 1 && !e.ctrlKey && !e.altKey && !e.metaKey) {
          key = e.key.toLowerCase();
        }
        // Final fallback
        else {
          key = e.code;
        }

        const button = document.getElementById(currentKeyTarget);
        if (button) {
          button.textContent = key.toUpperCase();
          button.style.background = "#080808";
          button.style.borderColor = "#1a1a1a";
        }

        // Also update list view display if it exists
        const listDisplayElement = document.getElementById(
          `${currentKeyTarget}-display`,
        );
        if (listDisplayElement) {
          listDisplayElement.textContent = normalizeKeyForDisplay(key);
        }

        // Update visual layout to match
        updateVisualLayoutForFunction(currentKeyTarget, key);

        // Save the setting and ensure UI updates immediately
        if (window.saveSingleSetting) {
          window.saveSingleSetting(currentKeyTarget, key).then(() => {
            // Force UI update after save to ensure display is correct
            if (listDisplayElement) {
              listDisplayElement.textContent = normalizeKeyForDisplay(key);
            }
            if (button) {
              button.textContent = key.toUpperCase();
            }
          }).catch(() => {
            // If save fails, still update UI
            if (listDisplayElement) {
              listDisplayElement.textContent = normalizeKeyForDisplay(key);
            }
            if (button) {
              button.textContent = key.toUpperCase();
            }
          });
        }

        currentKeyTarget = null;
      }

      function captureMouse(e) {
        if (!currentKeyTarget) return;

        let key = "";

        switch (e.button) {
          case 0:
            // LButton (left mouse button) is not allowed - cancel the bind
            const button0 = document.getElementById(currentKeyTarget);
            const listDisplay0 = document.getElementById(
              `${currentKeyTarget}-display`,
            );

            if (button0) {
              button0.textContent = window.getTranslation('keybinds.select', 'SELECT');
              button0.style.background = "";
              button0.style.borderColor = "";
            }
            if (listDisplay0) {
              listDisplay0.textContent = window.getTranslation('ui.notSet', 'Not Set');
            }

            currentKeyTarget = null;
            return;
          case 1:
            key = "MButton";
            break;
          case 2:
            key = "RButton";
            break;
          case 3:
            key = "XButton1";
            break;
          case 4:
            key = "XButton2";
            break;
          default:
            return;
        }

        const button = document.getElementById(currentKeyTarget);
        if (button) {
          button.textContent = key.toUpperCase();
          button.style.background = "#080808";
          button.style.borderColor = "#1a1a1a";
        }

        // Also update list view display if it exists
        const listDisplayElement = document.getElementById(
          `${currentKeyTarget}-display`,
        );
        if (listDisplayElement) {
          listDisplayElement.textContent = normalizeKeyForDisplay(key);
        }

        // Update visual layout to match
        updateVisualLayoutForFunction(currentKeyTarget, key);

        // Save the setting and ensure UI updates immediately
        if (window.saveSingleSetting) {
          window.saveSingleSetting(currentKeyTarget, key).then(() => {
            // Force UI update after save to ensure display is correct
            if (listDisplayElement) {
              listDisplayElement.textContent = normalizeKeyForDisplay(key);
            }
            if (button) {
              button.textContent = key.toUpperCase();
            }
          }).catch(() => {
            // If save fails, still update UI
            if (listDisplayElement) {
              listDisplayElement.textContent = normalizeKeyForDisplay(key);
            }
            if (button) {
              button.textContent = key.toUpperCase();
            }
          });
        }

        currentKeyTarget = null;
      }

      // Clear all keybinds function
      async function clearAllKeybinds() {
        try {
          // List of all global keybind IDs
          const globalKeybindIds = [
            "global-edit-key",
            "global-select-key",
            "global-place-key",
            "global-wall-key",
            "global-floor-key",
            "global-stair-key",
            "global-cone-key",
            "global-sprint-key",
            "global-pickup-key",
          ];

          // Load current settings
          const allSettings = await window.electron.loadSettings();

          // Clear each global keybind from settings
          globalKeybindIds.forEach((id) => {
            delete allSettings[id];
          });

          // Save cleared settings
          await window.electron.saveSettings(allSettings);

          // Update window.currentSettings cache
          if (window.currentSettings) {
            globalKeybindIds.forEach((id) => {
              delete window.currentSettings[id];
            });
          }

          // Reset UI elements - both regular and list view
          globalKeybindIds.forEach((id) => {
            const button = document.getElementById(id);
            const listDisplay = document.getElementById(`${id}-display`);

            if (button) {
              button.textContent = window.getTranslation('keybinds.select', 'SELECT');
              button.style.background = "";
              button.style.borderColor = "";
            }
            if (listDisplay) {
              listDisplay.textContent = window.getTranslation('ui.notSet', 'Not Set');
            }
          });

          // Clear visual layout - remove all function assignments from keyboard/mouse
          const allAssignedKeys =
            document.querySelectorAll("[data-function-id]");
          allAssignedKeys.forEach((keyElement) => {
            keyElement.classList.remove("has-function");
            keyElement.removeAttribute("data-function-id");
            keyElement.removeAttribute("data-function-label");
          });


          // Show confirmation message (optional)
          if (window.showCustomAlert) {
            window.showCustomAlert("Success", "All keybinds have been cleared");
          }
        } catch (error) {
          console.error("Error clearing keybinds:", error);
          if (window.showCustomAlert) {
            window.showCustomAlert(
              "Error",
              "Failed to clear keybinds: " + error.message,
            );
          }
        }
      }

      // Expose to window scope for onclick handlers
      window.clearAllKeybinds = clearAllKeybinds;

      // ============================================================================
      // VISUAL KEYBINDS DRAG AND DROP
      // ============================================================================
      let draggedFunction = null;
      let draggedFunctionLabel = null;

      function initializeVisualKeybinds() {
        // Add drag event listeners to function blocks
        const functionBlocks = document.querySelectorAll(".function-block");
        functionBlocks.forEach((block) => {
          block.addEventListener("dragstart", handleDragStart);
          block.addEventListener("dragend", handleDragEnd);
        });

        // Add drop event listeners to keys
        const keys = document.querySelectorAll(".key");
        keys.forEach((key) => {
          key.addEventListener("dragover", handleDragOver);
          key.addEventListener("dragleave", handleDragLeave);
          key.addEventListener("drop", handleDrop);
          // Add right-click to clear
          key.addEventListener("contextmenu", (e) => {
            e.preventDefault();
            clearKeyFunction(key);
          });
        });

        // Add drop event listeners to mouse buttons
        const mouseButtons = document.querySelectorAll(".mouse-button");
        mouseButtons.forEach((button) => {
          button.addEventListener("dragover", handleDragOver);
          button.addEventListener("dragleave", handleDragLeave);
          button.addEventListener("drop", handleDrop);
          // Add right-click to clear
          button.addEventListener("contextmenu", (e) => {
            e.preventDefault();
            clearKeyFunction(button);
          });
        });

        // Load saved keybinds
        loadVisualKeybinds();
      }

      function handleDragStart(e) {
        draggedFunction = this.getAttribute("data-function");
        draggedFunctionLabel = this.getAttribute("data-label");
        this.classList.add("dragging");
        e.dataTransfer.effectAllowed = "copy";
        e.dataTransfer.setData("text/plain", draggedFunction);
      }

      function handleDragEnd(e) {
        this.classList.remove("dragging");
      }

      function handleDragOver(e) {
        e.preventDefault();
        e.dataTransfer.dropEffect = "copy";
        this.classList.add("drag-over");
      }

      function handleDragLeave(e) {
        this.classList.remove("drag-over");
      }

      function handleDrop(e) {
        e.preventDefault();
        this.classList.remove("drag-over");

        if (!draggedFunction || !draggedFunctionLabel) return;

        const targetKey = this.getAttribute("data-key");
        if (!targetKey) return;

        // Clear any existing assignment of this function
        clearFunctionFromOtherKeys(draggedFunction);

        // Set the new assignment
        this.classList.add("has-function");
        this.setAttribute("data-function-id", draggedFunction);
        this.setAttribute("data-function-label", draggedFunctionLabel);

        // Save to settings
        const keyValue = targetKey.toLowerCase();
        if (window.saveSingleSetting) {
          window.saveSingleSetting(draggedFunction, keyValue);
        }

        // Update list view to match
        updateListViewForFunction(draggedFunction, keyValue);

      }

      function clearKeyFunction(element) {
        const functionId = element.getAttribute("data-function-id");
        if (!functionId) return;

        element.classList.remove("has-function");
        element.removeAttribute("data-function-id");
        element.removeAttribute("data-function-label");

        // Clear from settings
        if (window.saveSingleSetting) {
          window.saveSingleSetting(functionId, "");
        }

        // Update list view to match
        updateListViewForFunction(functionId, "");

      }

      function clearFunctionFromOtherKeys(functionId) {
        // Remove this function from any other key/mouse button
        const allTargets = document.querySelectorAll(
          '[data-function-id="' + functionId + '"]',
        );
        allTargets.forEach((target) => {
          target.classList.remove("has-function");
          target.removeAttribute("data-function-id");
          target.removeAttribute("data-function-label");
        });
      }

      async function loadVisualKeybinds() {
        if (!window.electron || !window.electron.loadSettings) return;

        try {
          const settings = await window.electron.loadSettings();

          // Map of function IDs to their labels
          const functionLabels = {
            "global-edit-key": "Edit",
            "global-select-key": "Select",
            "global-place-key": "Place",
            "global-wall-key": "Wall",
            "global-floor-key": "Floor",
            "global-stair-key": "Stair",
            "global-cone-key": "Cone",
            "global-sprint-key": "Sprint",
            "global-pickup-key": "Pickup",
          };

          // Apply each saved keybind to the visual layout
          Object.keys(functionLabels).forEach((functionId) => {
            const keyValue = settings[functionId];
            if (keyValue && keyValue !== "" && keyValue !== "SELECT") {
              // Find the element with matching data-key
              const normalizedKey = normalizeKeyForDisplay(keyValue);
              const keyElement = document.querySelector(
                `[data-key="${normalizedKey}"]`,
              );

              if (keyElement) {
                keyElement.classList.add("has-function");
                keyElement.setAttribute("data-function-id", functionId);
                keyElement.setAttribute(
                  "data-function-label",
                  functionLabels[functionId],
                );
              }
            }
          });
        } catch (error) {
          console.error("Error loading visual keybinds:", error);
        }
      }

      function normalizeKeyForDisplay(keyValue) {
        // Map stored key values to visual keyboard data-key values
        const keyMap = {
          escape: "Escape",
          space: "Space",
          lshift: "LShift",
          rshift: "RShift",
          lctrl: "LCtrl",
          rctrl: "RCtrl",
          lalt: "LAlt",
          ralt: "RAlt",
          lwin: "LWin",
          rwin: "RWin",
          tab: "Tab",
          capslock: "CapsLock",
          enter: "Enter",
          backspace: "Backspace",
          up: "Up",
          down: "Down",
          left: "Left",
          right: "Right",
          rbutton: "RButton",
          mbutton: "MButton",
          xbutton1: "XButton1",
          xbutton2: "XButton2",
          appskey: "AppsKey",
        };

        const lower = keyValue.toLowerCase();
        return keyMap[lower] || keyValue;
      }

      // Update visual layout for a specific function
      function updateVisualLayoutForFunction(functionId, keyValue) {
        // Map of function IDs to their labels
        const functionLabels = {
          "global-edit-key": "Edit",
          "global-select-key": "Select",
          "global-place-key": "Place",
          "global-wall-key": "Wall",
          "global-floor-key": "Floor",
          "global-stair-key": "Stair",
          "global-cone-key": "Cone",
          "global-sprint-key": "Sprint",
          "global-pickup-key": "Pickup",
        };

        // Clear this function from all keys first
        clearFunctionFromOtherKeys(functionId);

        // If there's a new key value, assign it
        if (keyValue && keyValue !== "" && keyValue !== "SELECT") {
          const normalizedKey = normalizeKeyForDisplay(keyValue);
          const keyElement = document.querySelector(
            `[data-key="${normalizedKey}"]`,
          );

          if (keyElement) {
            keyElement.classList.add("has-function");
            keyElement.setAttribute("data-function-id", functionId);
            keyElement.setAttribute(
              "data-function-label",
              functionLabels[functionId],
            );
          }
        }
      }

      // Update list view display for a specific function
      function updateListViewForFunction(functionId, keyValue) {
        const displayElement = document.getElementById(`${functionId}-display`);
        if (displayElement) {
          if (keyValue && keyValue !== "" && keyValue !== "SELECT") {
            displayElement.textContent = normalizeKeyForDisplay(keyValue);
          } else {
            displayElement.textContent = window.getTranslation('ui.notSet', 'Not Set');
          }
        }
      }

      function updateSliderValue(id) {
        const slider = document.getElementById(id);
        const valueDisplay = document.getElementById(id + "-value");
        if (slider && valueDisplay) {
          valueDisplay.textContent = `${window.getTranslation('ui.current', 'Current:')} ${slider.value}${window.getTranslation('ui.ms', 'ms')}`;
        }
      }

      // ============================================================================
      // NUMBER SPINNER FUNCTIONS
      // ============================================================================
      function incrementValue(id, max) {
        const input = document.getElementById(id);
        if (input) {
          let currentValue = parseInt(input.value) || 0;
          if (currentValue < max) {
            input.value = currentValue + 1;
            saveSingleSetting(id, input.value);
          }
        }
      }

      function decrementValue(id, min) {
        const input = document.getElementById(id);
        if (input) {
          let currentValue = parseInt(input.value) || 0;
          if (currentValue > min) {
            input.value = currentValue - 1;
            saveSingleSetting(id, input.value);
          }
        }
      }

      // Load saved settings
      async function loadSavedSettings() {
        try {
          const settings = await window.electron.loadSettings();
          applySettings(settings);
        } catch (error) {
          console.error("Error loading settings:", error);
        }
      }

      function applySettings(settings) {
        Object.keys(settings).forEach((key) => {
          const element = document.getElementById(key);
          if (element) {
            if (element.type === "checkbox") {
              element.checked = settings[key];
            } else if (element.type === "range" || element.type === "number") {
              element.value = settings[key];
            } else if (
              element.classList.contains("key-button") ||
              element.classList.contains("keybind-button")
            ) {
              const value = settings[key];
              if (value && value !== "SELECT" && value !== "SELECT BIND") {
                element.textContent = value.toUpperCase();
              }
            }
          }
        });
      }

      async function saveSingleSetting(key, value) {
        try {
          const settings = await window.electron.loadSettings();
          settings[key] = value;
          await window.electron.saveSettings(settings);
        } catch (error) {
          console.error("Error saving setting:", error);
        }
      }

      // Forward macro control functions
      function startMacro(type) {
        if (window.startMacroHandler) {
          window.startMacroHandler(type);
        }
      }

      function stopMacro(type) {
        if (window.stopMacroHandler) {
          window.stopMacroHandler(type);
        }
      }

      function saveMacro(type) {
        if (window.saveMacroHandler) {
          window.saveMacroHandler(type);
        }
      }

      function clearMacro(type) {
        if (window.clearMacroHandler) {
          window.clearMacroHandler(type);
        }
      }

      // Toggle performance mode for low-end PCs
      function togglePerformanceMode(enabled) {
        if (enabled) {
          document.body.classList.add("performance-mode");
        } else {
          document.body.classList.remove("performance-mode");
        }

        // Save setting
        if (window.saveSingleSetting) {
          window.saveSingleSetting("performance-mode", enabled);
        }
      }

      // Load performance mode UI state on startup
      async function loadPerformanceModeUI() {
        try {
          if (window.electron && window.electron.loadSettings) {
            const settings = await window.electron.loadSettings();
            const performanceModeEnabled =
              settings["performance-mode"] || false;

            const checkbox = document.getElementById("performance-mode");
            if (checkbox) {
              checkbox.checked = performanceModeEnabled;

              // Apply the performance mode class if it was enabled
              if (performanceModeEnabled) {
                document.body.classList.add("performance-mode");
              }
            }
          }
        } catch (error) {
          console.error("Error loading performance mode preference:", error);
        }
      }

      // Toggle macro enable/disable
      function toggleMacro(type) {
        const toggleBtn = document.getElementById(type + "-toggle");
        const toggleText = document.getElementById(type + "-toggle-text");

        if (!toggleBtn.classList.contains("active")) {
          // Enable the macro
          if (window.startMacroHandler) {
            window.startMacroHandler(type);
          }
          toggleBtn.classList.add("active");
          if (toggleText) {
            toggleText.textContent = window.getTranslation('ui.stop', 'STOP');
          }
        } else {
          // Disable the macro
          if (window.stopMacroHandler) {
            window.stopMacroHandler(type);
          }
          toggleBtn.classList.remove("active");
          if (toggleText) {
            toggleText.textContent = window.getTranslation('ui.start', 'START');
          }
        }

        // Update EZ mode states to keep in sync
        if (typeof updateEzModeStates === 'function') {
          updateEzModeStates();
        }
      }

      // Disable all macros at once
      function disableAllMacros() {
        const macroTypes = ["drag", "turbo", "double", "pickup", "shotgun"];
        let disabledCount = 0;

        macroTypes.forEach((type) => {
          const toggleBtn = document.getElementById(type + "-toggle");
          const toggleText = document.getElementById(type + "-toggle-text");

          if (toggleBtn && toggleBtn.classList.contains("active")) {
            // Stop the macro
            if (window.stopMacroHandler) {
              window.stopMacroHandler(type);
            }
            toggleBtn.classList.remove("active");
            if (toggleText) {
              toggleText.textContent = window.getTranslation('ui.start', 'START');
            }
            disabledCount++;
          }
        });

        if (disabledCount > 0) {
          showCustomAlert(
            "Macros Disabled",
            `All macros disabled! (${disabledCount} macro${disabledCount > 1 ? "s" : ""} stopped)`,
          );
        } else {
          showCustomAlert("No Active Macros", "No active macros to disable.");
        }
      }

      // Change to custom color
      function changeCustomColor(color) {
        // Update the color value display
        document.getElementById("color-value").textContent = color;
        document.getElementById("color-preview").style.background = color;

        // Apply custom color to CSS variables
        applyCustomColor(color);

        // Save preference
        localStorage.setItem("customColor", color);
      }

      // Apply custom color dynamically to all themed elements
      function applyCustomColor(color) {
        // Convert hex to RGB for rgba usage
        const r = parseInt(color.substring(1, 3), 16);
        const g = parseInt(color.substring(3, 5), 16);
        const b = parseInt(color.substring(5, 7), 16);

        // Create a darker version of the color
        const darkerR = Math.max(0, r - 50);
        const darkerG = Math.max(0, g - 50);
        const darkerB = Math.max(0, b - 50);

        // Create lighter variations
        const lighterR = Math.min(255, r + 50);
        const lighterG = Math.min(255, g + 50);
        const lighterB = Math.min(255, b + 50);

        // Set CSS custom properties for dynamic theming
        document.documentElement.style.setProperty("--custom-color", color);
        document.documentElement.style.setProperty(
          "--custom-color-rgb",
          `${r}, ${g}, ${b}`,
        );
        document.documentElement.style.setProperty(
          "--custom-color-dark",
          `rgb(${darkerR}, ${darkerG}, ${darkerB})`,
        );
        document.documentElement.style.setProperty(
          "--custom-color-light",
          `rgb(${lighterR}, ${lighterG}, ${lighterB})`,
        );

        // Update custom alert styles dynamically
        const style = document.createElement("style");
        style.id = "dynamic-color-styles";

        // Remove old dynamic styles if they exist
        const oldStyle = document.getElementById("dynamic-color-styles");
        if (oldStyle) {
          oldStyle.remove();
        }

        style.textContent = `
                /* Custom Alert Styles */
                .custom-alert-content {
                    border: 2px solid rgba(${r}, ${g}, ${b}, 0.5) !important;
                    box-shadow: 0 8px 32px rgba(${r}, ${g}, ${b}, 0.3), 0 0 0 1px rgba(${r}, ${g}, ${b}, 0.2) inset !important;
                }

                .custom-alert-title {
                    background: linear-gradient(135deg, ${color}, rgb(${darkerR}, ${darkerG}, ${darkerB})) !important;
                    -webkit-background-clip: text !important;
                    -webkit-text-fill-color: transparent !important;
                }

                .custom-alert-button {
                    background: linear-gradient(135deg, ${color}, rgb(${darkerR}, ${darkerG}, ${darkerB})) !important;
                    border: 1px solid rgba(${r}, ${g}, ${b}, 0.5) !important;
                }

                .custom-alert-button:hover {
                    background: linear-gradient(135deg, rgb(${darkerR}, ${darkerG}, ${darkerB}), rgb(${Math.max(0, darkerR - 30)}, ${Math.max(0, darkerG - 30)}, ${Math.max(0, darkerB - 30)})) !important;
                    box-shadow: 0 4px 12px rgba(${r}, ${g}, ${b}, 0.4) !important;
                }

                /* Disable All Button */
                .btn-disable-all-simple {
                    background: linear-gradient(135deg, rgba(${r}, ${g}, ${b}, 0.15) 0%, rgba(${r}, ${g}, ${b}, 0.08) 100%) !important;
                    color: ${color} !important;
                    border: 2px solid rgba(${r}, ${g}, ${b}, 0.3) !important;
                }

                .btn-disable-all-simple:hover {
                    background: linear-gradient(135deg, rgba(${r}, ${g}, ${b}, 0.22) 0%, rgba(${r}, ${g}, ${b}, 0.12) 100%) !important;
                    border-color: rgba(${r}, ${g}, ${b}, 0.5) !important;
                }

                /* Start/Stop Button Active States */
                .btn-start.active {
                    background: linear-gradient(135deg, rgba(${r}, ${g}, ${b}, 0.28) 0%, rgba(${r}, ${g}, ${b}, 0.18) 100%) !important;
                    border-color: rgba(${r}, ${g}, ${b}, 0.7) !important;
                    color: rgb(${lighterR}, ${lighterG}, ${lighterB}) !important;
                    box-shadow: none !important;
                }

                .btn-start.active:hover {
                    background: linear-gradient(135deg, rgba(${r}, ${g}, ${b}, 0.32) 0%, rgba(${r}, ${g}, ${b}, 0.22) 100%) !important;
                    border-color: rgba(${r}, ${g}, ${b}, 0.8) !important;
                    box-shadow: none !important;
                }

                .btn-start:focus {
                    outline: none !important;
                    box-shadow:
                        0 0 0 3px rgba(${r}, ${g}, ${b}, 0.2),
                        0 4px 16px rgba(0, 0, 0, 0.4) !important;
                }

                /* Status Indicators */
                .status-indicator.active {
                    background: ${color} !important;
                    box-shadow: 0 0 0 4px rgba(${r}, ${g}, ${b}, 0.2) !important;
                }

                /* Active Tab */
                .tab.active {
                    background: linear-gradient(90deg, rgba(${r}, ${g}, ${b}, 0.15) 0%, rgba(${r}, ${g}, ${b}, 0.06) 100%) !important;
                    border-left-color: rgb(${lighterR}, ${lighterG}, ${lighterB}) !important;
                }

                /* ChatGPT Logo */
                .chatgpt-logo-container svg path {
                    fill: ${color} !important;
                }

                /* Loading Screen */
                .loading-bar-fill {
                    background: linear-gradient(90deg, rgb(${lighterR}, ${lighterG}, ${lighterB}) 0%, ${color} 50%, rgb(${lighterR}, ${lighterG}, ${lighterB}) 100%) !important;
                }

                /* Text Gradients - Headers and Titles */
                .logo-red {
                    background: linear-gradient(135deg, ${color}, rgb(${lighterR}, ${lighterG}, ${lighterB}), ${color}, rgb(${darkerR}, ${darkerG}, ${darkerB})) !important;
                    -webkit-background-clip: text !important;
                    -webkit-text-fill-color: transparent !important;
                }

                .section-title {
                    background: linear-gradient(135deg, rgba(255, 255, 255, 0.7) 0%, rgba(255, 255, 255, 0.5) 100%) !important;
                    -webkit-background-clip: text !important;
                    -webkit-text-fill-color: transparent !important;
                }

                .title-divider {
                    background: linear-gradient(90deg, rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0.3), transparent) !important;
                }

                /* License Info */
                .license-status {
                    background: linear-gradient(135deg, ${color}, rgb(${lighterR}, ${lighterG}, ${lighterB})) !important;
                    -webkit-background-clip: text !important;
                    -webkit-text-fill-color: transparent !important;
                }

                .license-expired .license-days {
                    background: linear-gradient(135deg, rgb(${lighterR}, ${lighterG}, ${lighterB}), ${color}) !important;
                    -webkit-background-clip: text !important;
                    -webkit-text-fill-color: transparent !important;
                }

                /* Border Animations */
                .border-left {
                    background: linear-gradient(90deg, transparent, ${color}, rgb(${lighterR}, ${lighterG}, ${lighterB}), ${color}, transparent) !important;
                }

                /* About Page Hero */
                .about-hero h1 {
                    background: linear-gradient(to right, ${color} 0%, ${color} 48%, #e5e5e5 52%, #e5e5e5 100%) !important;
                    -webkit-background-clip: text !important;
                    -webkit-text-fill-color: transparent !important;
                }

                /* Titlebar Close Button */
                .titlebar-button.close:hover {
                    background: ${color} !important;
                }

                /* Loading Screen Logo */
                #loading-screen .logo-subtitle {
                    color: ${color} !important;
                }

                .about-subtitle {
                    color: ${color} !important;
                }

                /* Instructions Box */
                .instructions-box {
                    background: linear-gradient(135deg, rgba(${r}, ${g}, ${b}, 0.08) 0%, rgba(${r}, ${g}, ${b}, 0.02) 100%) !important;
                    border-color: rgba(${r}, ${g}, ${b}, 0.2) !important;
                }

                .instructions-box::before {
                    background: linear-gradient(90deg, transparent, rgba(${r}, ${g}, ${b}, 0.4), rgba(${r}, ${g}, ${b}, 0.25), transparent) !important;
                    box-shadow: 0 0 8px rgba(${r}, ${g}, ${b}, 0.4) !important;
                }

                .instructions-button {
                    background: linear-gradient(135deg, rgba(${r}, ${g}, ${b}, 0.08) 0%, rgba(${r}, ${g}, ${b}, 0.02) 100%) !important;
                    border-color: rgba(${r}, ${g}, ${b}, 0.2) !important;
                }

                .instructions-button:hover {
                    background: linear-gradient(135deg, rgba(${r}, ${g}, ${b}, 0.12) 0%, rgba(${r}, ${g}, ${b}, 0.04) 100%) !important;
                    border-color: rgba(${r}, ${g}, ${b}, 0.3) !important;
                }

                .instructions-button::before {
                    background: linear-gradient(90deg, transparent, rgba(${r}, ${g}, ${b}, 0.4), rgba(${r}, ${g}, ${b}, 0.25), transparent) !important;
                    box-shadow: 0 0 8px rgba(${r}, ${g}, ${b}, 0.4) !important;
                }

                .instructions-content {
                    background: linear-gradient(135deg, rgba(${r}, ${g}, ${b}, 0.04) 0%, rgba(${r}, ${g}, ${b}, 0.01) 100%) !important;
                    border-color: rgba(${r}, ${g}, ${b}, 0.15) !important;
                }

                .instructions-button-title {
                    color: rgb(${lighterR}, ${lighterG}, ${lighterB}) !important;
                }

                .instructions-toggle-icon {
                    color: rgb(${lighterR}, ${lighterG}, ${lighterB}) !important;
                }

                .instructions-title {
                    color: rgb(${lighterR}, ${lighterG}, ${lighterB}) !important;
                }

                .update-content {
                    border-color: rgba(${r}, ${g}, ${b}, 0.3) !important;
                }

                .update-progress-fill {
                    background: ${color} !important;
                }

                /* Settings Title */
                .settings-title {
                    background: linear-gradient(135deg, ${color}, rgb(${lighterR}, ${lighterG}, ${lighterB})) !important;
                    -webkit-background-clip: text !important;
                    -webkit-text-fill-color: transparent !important;
                }

                /* License Days */
                .license-days {
                    color: rgb(${lighterR}, ${lighterG}, ${lighterB}) !important;
                    background: linear-gradient(135deg, ${color}, rgb(${lighterR}, ${lighterG}, ${lighterB})) !important;
                    -webkit-background-clip: text !important;
                    -webkit-text-fill-color: transparent !important;
                }

                /* Slider Styling */
                .slider {
                    background: linear-gradient(90deg, rgba(${r}, ${g}, ${b}, 0.15) 0%, #0d0d0d 100%) !important;
                }

                .slider::-webkit-slider-thumb {
                    background: linear-gradient(135deg, ${color} 0%, rgb(${darkerR}, ${darkerG}, ${darkerB}) 100%) !important;
                }

                .slider::-webkit-slider-thumb:hover {
                    background: linear-gradient(135deg, rgb(${lighterR}, ${lighterG}, ${lighterB}) 0%, ${color} 100%) !important;
                }

                .slider::-moz-range-thumb {
                    background: linear-gradient(135deg, ${color} 0%, rgb(${darkerR}, ${darkerG}, ${darkerB}) 100%) !important;
                }

                .slider::-moz-range-thumb:hover {
                    background: linear-gradient(135deg, rgb(${lighterR}, ${lighterG}, ${lighterB}) 0%, ${color} 100%) !important;
                }

                /* Scrollbar Styling */
                ::-webkit-scrollbar-thumb {
                    background: rgba(${r}, ${g}, ${b}, 0.4) !important;
                }

                ::-webkit-scrollbar-thumb:hover {
                    background: rgba(${r}, ${g}, ${b}, 0.6) !important;
                }

                /* Settings Icon - Grey color override */
                .settings-icon {
                    background: var(--bg-secondary) !important;
                    color: #999999 !important;
                    border: 1px solid var(--border-primary) !important;
                }

                .settings-icon:hover {
                    background: var(--bg-tertiary) !important;
                    color: #cccccc !important;
                    border-color: var(--border-secondary) !important;
                }

                /* Social Icons */
                .social-icon.youtube {
                    background: rgba(${r}, ${g}, ${b}, 0.1) !important;
                    border: 1px solid rgba(${r}, ${g}, ${b}, 0.3) !important;
                }

                .social-icon.youtube:hover {
                    background: rgba(${r}, ${g}, ${b}, 0.2) !important;
                    border-color: rgba(${r}, ${g}, ${b}, 0.5) !important;
                }

                .social-icon.youtube:hover svg {
                    fill: ${color} !important;
                }

                .social-icon.tiktok {
                    background: rgba(${r}, ${g}, ${b}, 0.1) !important;
                    border: 1px solid rgba(${r}, ${g}, ${b}, 0.3) !important;
                }

                .social-icon.tiktok:hover {
                    background: rgba(${r}, ${g}, ${b}, 0.2) !important;
                    border-color: rgba(${r}, ${g}, ${b}, 0.5) !important;
                }

                .social-icon.tiktok:hover svg {
                    fill: ${color} !important;
                }

                /* Clear Buttons */
                .btn-clear {
                    background: linear-gradient(135deg, rgba(${r}, ${g}, ${b}, 0.12) 0%, rgba(${r}, ${g}, ${b}, 0.06) 100%) !important;
                    color: rgb(${lighterR}, ${lighterG}, ${lighterB}) !important;
                    border: 1px solid rgba(${r}, ${g}, ${b}, 0.3) !important;
                }

                .btn-clear:hover {
                    background: linear-gradient(135deg, rgba(${r}, ${g}, ${b}, 0.18) 0%, rgba(${r}, ${g}, ${b}, 0.10) 100%) !important;
                    color: ${color} !important;
                    border-color: rgba(${r}, ${g}, ${b}, 0.5) !important;
                    box-shadow: 0 4px 12px rgba(${r}, ${g}, ${b}, 0.3) !important;
                }

                .btn-clear:active {
                    background: linear-gradient(135deg, rgba(${r}, ${g}, ${b}, 0.22) 0%, rgba(${r}, ${g}, ${b}, 0.14) 100%) !important;
                    box-shadow: 0 2px 8px rgba(${r}, ${g}, ${b}, 0.4) inset !important;
                }
            `;

        document.head.appendChild(style);
      }

      // Load saved custom color
      function loadCustomColor() {
        const savedColor = localStorage.getItem("customColor") || "#dc2626";
        document.getElementById("color-picker").value = savedColor;
        changeCustomColor(savedColor);
      }

      // Theme selection (for analytics - TikTok/YouTube tracking)
      function selectTheme(source) {
        const popup = document.getElementById("theme-popup");

        // Just save where they heard about us (for analytics)
        localStorage.setItem("referralSource", source);

        // Hide popup
        popup.classList.remove("show");

        // Save that user has seen the popup
        localStorage.setItem("themeSelected", "true");
      }

      // Show theme popup on first load
      function checkThemePopup() {
        const hasSelectedTheme = localStorage.getItem("themeSelected");

        // Show popup if user hasn't selected yet (after loading screen finishes)
        if (!hasSelectedTheme) {
          setTimeout(() => {
            const popup = document.getElementById("theme-popup");
            popup.classList.add("show");
          }, 3500); // Show after loading screen completes (2.4s loading + 1.1s buffer)
        }
      }

      // Custom Alert Functions
      function showCustomAlert(title, message) {
        const overlay = document.getElementById("custom-alert-overlay");
        const titleElement = document.getElementById("custom-alert-title");
        const messageElement = document.getElementById("custom-alert-message");

        titleElement.textContent = title;
        messageElement.textContent = message;

        overlay.classList.add("show");
      }

      function closeCustomAlert() {
        const overlay = document.getElementById("custom-alert-overlay");
        overlay.classList.remove("show");
      }


      // Close custom alert when clicking outside
      document.addEventListener("click", function (event) {
        const overlay = document.getElementById("custom-alert-overlay");
        if (event.target === overlay) {
          closeCustomAlert();
        }
      });

      // Save all settings from all tabs at once
      async function saveAllSettings() {
        if (window.saveMacroHandler) {
          // Save each macro type
          const macroTypes = [
            "drag",
            "turbo",
            "double",
            "pickup",
            "shotgun",
            "settings",
          ];
          for (const type of macroTypes) {
            await window.saveMacroHandler(type);
          }

          // Show success message
          alert(
            "Profile saved successfully!\n\nAll macro configurations and settings have been saved.",
          );
        }
      }

      // Window controls
      function minimizeWindow() {
        if (window.electron && window.electron.minimizeWindow) {
          window.electron.minimizeWindow();
        }
      }

      function maximizeWindow() {
        if (window.electron && window.electron.maximizeWindow) {
          window.electron.maximizeWindow();
        }
      }

      function closeWindow() {
        if (window.electron && window.electron.closeWindow) {
          window.electron.closeWindow();
        }
      }

      // ============================================================================
      // TRANSLATIONS
      // ============================================================================
      const translations = {
        en: {
          // Tabs
          "tab.main": "Main",
          "tab.dragEdit": "Drag Edit",
          "tab.instantBuild": "Instant Build",
          "tab.doubleEdit": "Double Edit",
          "tab.pickup": "Pickup",
          "tab.shotgun": "Shotgun",
          "tab.help": "Help & Support",
          "tab.settings": "Settings",
          "tab.macros": "Macros",
          "tab.keybinds": "Keybinds",
          "tab.leaked": "Leaked",
          "macros.select": "Select Macro",
          "macros.dragEdit": "Drag Edit",
          "macros.instantBuild": "Instant Build",
          "macros.doubleEdit": "Double Edit",
          "macros.pickup": "Pickup",
          "macros.shotgun": "Shotgun",
          "macros.crouchSpam": "Crouch Spam",
          "macros.noSettings": "No settings required",
          "macros.runtime": "Runtime:",
          "keybinds.settingsTitle": "Keybinds Settings",

          // Settings
          "settings.title": "Settings",
          "settings.appSettings": "Application Settings",
          "settings.colorPalette": "Color Palette",
          "settings.colorPaletteDesc": "Choose any color for the interface accents",
          "settings.startupLaunch": "Start on System Startup",
          "settings.startupLaunchDesc": "Automatically launch Vantrix when Windows starts",
          "settings.hotkeyConfig": "Hotkey Configuration",
          "settings.hotkeyDesc": "Click on a field and press any key to set. These hotkeys work globally even when the app is hidden.",
          "settings.hotkeyConfigDesc": "Set global hotkeys for Ghost Mode and EZ Mode",
          "settings.ghostMode": "Ghost Mode",
          "settings.ezMode": "EZ Mode",
          "settings.language": "Language",
          "settings.performanceMode": "Performance Mode",
          "settings.performanceModeDesc":
            "Changing performance mode will restart all macro engines. Select the mode based on your current FPS for optimal performance.",
          "settings.license": "License Information",
          "settings.licenseStatus": "License Status",
          "settings.daysRemaining": "Days Remaining",

          // About Tab
          "about.appTitle": "VANTRIX",
          "about.appDesc": "Premium gaming macros and optimization tools",
          "about.join": "Join Our Community",
          "about.joinDesc":
            "Get support, share tips, and stay updated",
          "about.joinBtn": "Join Discord Server",
          "about.viewProducts": "View All Products",
          "about.hero": "Empowering Your Gaming Journey",
          "about.heroDesc":
            "Welcome to Vantrix macro! Professional tools to help you reach your full potential.",

          // Keybinds Tab
          "keybinds.title": "Fortnite Keybinds Configuration",
          "keybinds.desc":
            "Set all your Fortnite keybinds here once - they'll automatically fill into all macro tabs!",
          "keybinds.editing": "Editing",
          "keybinds.editKey": "Edit Key",
          "keybinds.selectKey": "Select Key",
          "keybinds.building": "Building",
          "keybinds.placeKey": "Secondary Place Build Key",
          "keybinds.buildPieces": "Build Pieces",
          "keybinds.wallKey": "Wall Key",
          "keybinds.floorKey": "Floor Key",
          "keybinds.stairKey": "Stair Key",
          "keybinds.coneKey": "Cone Key",
          "keybinds.other": "Other",
          "keybinds.sprintKey": "Sprint Key",
          "keybinds.pickupKey": "Pickup/Interact Key",
          "keybinds.performance": "Performance",
          "keybinds.perfMode": "Performance Mode",
          "keybinds.status": "Set once, use everywhere",
          "keybinds.select": "SELECT",

          // Macro Settings
          "macro.settings": "Macro Settings",
          "macro.delay": "Delay",
          "macro.current": "Current",
          "macro.autoSprint": "Enable Auto-Sprint",

          // Drag Edit
          "drag.title": "How to use Drag Edit Macro",
          "drag.step1": "1. Your edit keys are set in the Keybinds tab",
          "drag.step2": "2. Adjust the delay to match your preference (1-10ms)",
          "drag.step3": "3. Optional: Enable auto-sprint",
          "drag.step4": "4. Click Start to activate the macro",
          "drag.eorOff": "Edit on Release OFF Mode",

          // Help & Support
          "help.common": "Common Issues & Quick Fixes",
          "help.diagnostics": "System Diagnostics",
          "help.diagDesc": "Use this information when contacting support:",
          "help.version": "Version:",
          "help.status": "Status:",
          "help.active": "Active Macros:",
          "help.lastUpdate": "Last Update:",
          "help.copyDiag": "Copy Diagnostics",
          "help.exportLogs": "Export Logs",
          "help.stillNeed": "Still Need Help?",
          "help.supportDesc":
            "Join our Discord community for real-time support from our team and other users. We typically respond within a few hours!",
          "help.getSupport": "Get Support on Discord",

          // Developer
          "dev.credit": "Developed by",

          // Theme Popup
          "theme.title": "Where did you hear about us?",
          "theme.desc": "Help us know where our community comes from!",

          // Common UI Elements
          "ui.start": "START",
          "ui.stop": "STOP",
          "ui.notSet": "Not Set",
          "ui.pressKey": "PRESS KEY...",
          "ui.selectBind": "SELECT BIND",
          "ui.ready": "Ready - Configure and START",
          "ui.current": "Current:",
          "ui.ms": "ms",

          // Loading Screen
          "loading.initializing": "Initializing...",
          "loading.verifying": "Verifying IPC bridge...",
          "loading.engines": "Loading engines...",
          "loading.license": "Checking license...",
          "loading.settings": "Loading settings...",
          "loading.ready": "Ready!",

          // Language Options
          "lang.english": "English",
          "lang.spanish": "Espaol (Spanish)",
          "lang.french": "Franais (French)",
          "lang.german": "Deutsch (German)",
          "lang.portuguese": "Portugus (Portuguese)",
          "lang.russian": " (Russian)",
          "lang.chinese": " (Chinese)",
          "lang.japanese": " (Japanese)",
          "lang.korean": " (Korean)",
          "settings.languageDesc": "Choose your preferred language",

          // Performance Mode Options
          "perf.high": "High Performance (240+ FPS)",
          "perf.medium": "Medium Performance (120-240 FPS)",
          "perf.low": "Low Performance (60-120 FPS)",

          // Disable All Macros
          "ui.disableAll": "DISABLE ALL MACROS",
          "ui.emergencyStop": "Emergency stop - instantly disables all running macros",
        },
        es: {
          // Tabs
          "tab.main": "Principal",
          "tab.dragEdit": "Edicin de arrastre",
          "tab.instantBuild": "Construccin instantnea",
          "tab.doubleEdit": "Edicin doble",
          "tab.pickup": "Recoger",
          "tab.shotgun": "Escopeta",
          "tab.help": "Ayuda y soporte",
          "tab.settings": "Configuracin",
          "tab.macros": "Macros",
          "tab.keybinds": "Atajos",
          "tab.leaked": "Filtrado",
          "macros.select": "Seleccionar Macro",
          "macros.dragEdit": "Edicin de arrastre",
          "macros.instantBuild": "Construccin instantnea",
          "macros.doubleEdit": "Edicin doble",
          "macros.pickup": "Recoger",
          "macros.shotgun": "Escopeta",
          "macros.crouchSpam": "Spam de agacharse",
          "macros.noSettings": "No se requieren ajustes",
          "macros.runtime": "Tiempo de ejecucin:",
          "keybinds.settingsTitle": "Configuracin de atajos",

          // Settings
          "settings.title": "Configuracin",
          "settings.language": "Idioma",
          "settings.performanceMode": "Modo de rendimiento",
          "settings.performanceModeDesc":
            "Cambiar el modo de rendimiento reiniciar todos los motores de macro. Seleccione el modo segn sus FPS actuales para un rendimiento ptimo.",
          "settings.license": "Informacin de licencia",
          "settings.licenseStatus": "Estado de licencia",
          "settings.daysRemaining": "Das restantes",
          "settings.appSettings": "Configuracin de la aplicacin",
          "settings.colorPalette": "Paleta de colores",
          "settings.colorPaletteDesc": "Elige cualquier color para los acentos de la interfaz",
          "settings.startupLaunch": "Iniciar al inicio del sistema",
          "settings.startupLaunchDesc": "Lanzar automticamente Vantrix cuando se inicie Windows",
          "settings.hotkeyConfig": "Configuracin de teclas de acceso rpido",
          "settings.hotkeyDesc": "Haga clic en un campo y presione cualquier tecla para configurar. Estas teclas de acceso rpido funcionan globalmente incluso cuando la aplicacin est oculta.",
          "settings.hotkeyConfigDesc": "Configurar teclas de acceso rpido globales para Modo Fantasma y Modo EZ",
          "settings.ghostMode": "Modo Fantasma",
          "settings.ezMode": "Modo EZ",
          "about.appTitle": "VANTRIX",
          "about.appDesc": "Macros de juegos premium y herramientas de optimizacin",
          "about.viewProducts": "Ver todos los productos",
          "about.joinBtn": "nete al servidor de Discord",
          "about.joinDesc": "Obtn soporte, comparte consejos y mantente actualizado",

          // About Tab
          "about.join": "nete a nuestra comunidad",
          "about.joinDesc":
            "Conctate con otros jugadores, obtn soporte, comparte tus configuraciones y mantente actualizado con las ltimas actualizaciones y consejos de macros.",
          "about.joinBtn": "nete a Discord",
          "about.hero": "Potenciando tu trayectoria como jugador",
          "about.heroDesc":
            "Bienvenido a Vantrix macro! Herramientas profesionales diseadas para ayudarte a alcanzar tu mximo potencial. Ya sea que ests empezando o mejorando tus habilidades, estamos aqu para apoyar tu trayectoria.",

          // Keybinds Tab
          "keybinds.title": "Configuracin de atajos de Fortnite",
          "keybinds.desc":
            "Configura todos tus atajos de Fortnite aqu una vez y se llenarn automticamente en todas las pestaas de macros!",
          "keybinds.editing": "Edicin",
          "keybinds.editKey": "Tecla de edicin",
          "keybinds.selectKey": "Tecla de seleccin",
          "keybinds.building": "Construccin",
          "keybinds.placeKey": "Tecla secundaria de construccin",
          "keybinds.buildPieces": "Piezas de construccin",
          "keybinds.wallKey": "Tecla de muro",
          "keybinds.floorKey": "Tecla de piso",
          "keybinds.stairKey": "Tecla de escalera",
          "keybinds.coneKey": "Tecla de cono",
          "keybinds.other": "Otros",
          "keybinds.sprintKey": "Tecla de sprint",
          "keybinds.pickupKey": "Tecla de recoger/interactuar",
          "keybinds.performance": "Rendimiento",
          "keybinds.perfMode": "Modo de rendimiento",
          "keybinds.status": "Configura una vez, usa en todas partes",
          "keybinds.select": "SELECCIONAR",

          // Macro Settings
          "macro.settings": "Configuracin de macros",
          "macro.delay": "Retraso",
          "macro.current": "Actual",
          "macro.autoSprint": "Activar auto-sprint",

          // Drag Edit
          "drag.title": "Cmo usar Drag Edit Macro",
          "drag.step1":
            "1. Tus teclas de edicin estn configuradas en la pestaa de Atajos",
          "drag.step2": "2. Ajusta el retraso segn tu preferencia (1-10ms)",
          "drag.step3": "3. Opcional: Activar auto-sprint",
          "drag.step4": "4. Haz clic en Iniciar para activar la macro",
          "drag.eorOff": "Modo de edicin al soltar DESACTIVADO",

          // Help & Support
          "help.common": "Problemas comunes y soluciones rpidas",
          "help.diagnostics": "Diagnsticos del sistema",
          "help.diagDesc": "Usa esta informacin al contactar soporte:",
          "help.version": "Versin:",
          "help.status": "Estado:",
          "help.active": "Macros activas:",
          "help.lastUpdate": "ltima actualizacin:",
          "help.copyDiag": "Copiar diagnsticos",
          "help.exportLogs": "Exportar registros",
          "help.stillNeed": "An necesitas ayuda?",
          "help.supportDesc":
            "nete a nuestra comunidad de Discord para obtener soporte en tiempo real de nuestro equipo y otros usuarios. Normalmente respondemos en unas pocas horas!",
          "help.getSupport": "Obtener soporte en Discord",

          // Developer
          "dev.credit": "Desarrollado por",

          // Theme Popup
          "theme.title": "Dnde escuchaste sobre nosotros?",
          "theme.desc": "Aydanos a saber de dnde viene nuestra comunidad!",

          // Common UI Elements
          "ui.start": "INICIAR",
          "ui.stop": "DETENER",
          "ui.notSet": "No configurado",
          "ui.pressKey": "PRESIONA TECLA...",
          "ui.selectBind": "SELECCIONAR TECLA",
          "ui.ready": "Listo - Configura e INICIA",
          "ui.current": "Actual:",
          "ui.ms": "ms",

          // Loading Screen
          "loading.initializing": "Inicializando...",
          "loading.verifying": "Verificando puente IPC...",
          "loading.engines": "Cargando motores...",
          "loading.license": "Verificando licencia...",
          "loading.settings": "Cargando configuracin...",
          "loading.ready": "Listo!",

          // Language Options
          "lang.english": "English",
          "lang.spanish": "Espaol (Spanish)",
          "lang.french": "Franais (French)",
          "lang.german": "Deutsch (German)",
          "lang.portuguese": "Portugus (Portuguese)",
          "lang.russian": " (Russian)",
          "lang.chinese": " (Chinese)",
          "lang.japanese": " (Japanese)",
          "lang.korean": " (Korean)",
          "settings.languageDesc": "Elige tu idioma preferido",

          // Performance Mode Options
          "perf.high": "Alto rendimiento (240+ FPS)",
          "perf.medium": "Rendimiento medio (120-240 FPS)",
          "perf.low": "Rendimiento bajo (60-120 FPS)",

          // Disable All Macros
          "ui.disableAll": "DESACTIVAR TODOS LOS MACROS",
          "ui.emergencyStop": "Parada de emergencia - desactiva instantneamente todos los macros en ejecucin",
        },
        fr: {
          // Tabs
          "tab.main": "Principal",
          "tab.dragEdit": "dition par glisser",
          "tab.instantBuild": "Construction instantane",
          "tab.doubleEdit": "dition double",
          "tab.pickup": "Ramasser",
          "tab.shotgun": "Fusil  pompe",
          "tab.help": "Aide et support",
          "tab.settings": "Paramtres",
          "tab.macros": "Macros",
          "tab.keybinds": "Raccourcis",
          "tab.leaked": "Fuite",
          "macros.select": "Slectionner une macro",
          "macros.dragEdit": "dition par glisser",
          "macros.instantBuild": "Construction instantane",
          "macros.doubleEdit": "dition double",
          "macros.pickup": "Ramasser",
          "macros.shotgun": "Fusil  pompe",
          "macros.crouchSpam": "Spam d\'accroupissement",
          "macros.noSettings": "Aucun paramtre requis",
          "macros.runtime": "Dure d\'excution:",
          "keybinds.settingsTitle": "Paramtres de raccourcis",

          // Settings
          "settings.title": "Paramtres",
          "settings.language": "Langue",
          "settings.performanceMode": "Mode de performance",
          "settings.performanceModeDesc":
            "Le changement de mode de performance redmarrera tous les moteurs de macro. Slectionnez le mode en fonction de vos FPS actuels pour des performances optimales.",
          "settings.license": "Informations de licence",
          "settings.licenseStatus": "Statut de la licence",
          "settings.daysRemaining": "Jours restants",
          "settings.appSettings": "Paramtres de l\'application",
          "settings.colorPalette": "Palette de couleurs",
          "settings.colorPaletteDesc": "Choisissez n\'importe quelle couleur pour les accents de l\'interface",
          "settings.startupLaunch": "Dmarrer au dmarrage du systme",
          "settings.startupLaunchDesc": "Lancer automatiquement Vantrix au dmarrage de Windows",
          "settings.hotkeyConfig": "Configuration des raccourcis clavier",
          "settings.hotkeyDesc": "Cliquez sur un champ et appuyez sur n'importe quelle touche pour dfinir. Ces raccourcis fonctionnent globalement mme lorsque l'application est masque.",
          "settings.hotkeyConfigDesc": "Dfinir les raccourcis clavier globaux pour Mode Fantme et Mode EZ",
          "settings.ghostMode": "Mode Fantme",
          "settings.ezMode": "Mode EZ",
          "about.appTitle": "VANTRIX",
          "about.appDesc": "Macros de jeu premium et outils d\'optimisation",
          "about.viewProducts": "Voir tous les produits",
          "about.joinBtn": "Rejoindre le serveur Discord",
          "about.joinDesc": "Obtenez de l\'aide, partagez des conseils et restez inform",

          // About Tab
          "about.join": "Rejoignez notre communaut",
          "about.joinDesc":
            "Connectez-vous avec d'autres joueurs, obtenez du support, partagez vos configurations et restez  jour avec les dernires mises  jour et conseils de macros.",
          "about.joinBtn": "Rejoindre Discord",
          "about.hero": "Renforcer votre parcours de joueur",
          "about.heroDesc":
            "Bienvenue sur Vantrix macro ! Des outils professionnels conus pour vous aider  atteindre votre plein potentiel. Que vous dbutiez ou amlioriez vos comptences, nous sommes l pour soutenir votre parcours.",

          // Keybinds Tab
          "keybinds.title": "Configuration des raccourcis Fortnite",
          "keybinds.desc":
            "Dfinissez tous vos raccourcis Fortnite ici une fois - ils se rempliront automatiquement dans tous les onglets de macros !",
          "keybinds.editing": "dition",
          "keybinds.editKey": "Touche d'dition",
          "keybinds.selectKey": "Touche de slection",
          "keybinds.building": "Construction",
          "keybinds.placeKey": "Touche de construction secondaire",
          "keybinds.buildPieces": "Pices de construction",
          "keybinds.wallKey": "Touche de mur",
          "keybinds.floorKey": "Touche de sol",
          "keybinds.stairKey": "Touche d'escalier",
          "keybinds.coneKey": "Touche de cne",
          "keybinds.other": "Autres",
          "keybinds.sprintKey": "Touche de sprint",
          "keybinds.pickupKey": "Touche de ramassage/interaction",
          "keybinds.performance": "Performance",
          "keybinds.perfMode": "Mode performance",
          "keybinds.status": "Configurez une fois, utilisez partout",
          "keybinds.select": "SLECTIONNER",

          // Macro Settings
          "macro.settings": "Paramtres de macro",
          "macro.delay": "Dlai",
          "macro.current": "Actuel",
          "macro.autoSprint": "Activer l'auto-sprint",

          // Drag Edit
          "drag.title": "Comment utiliser Drag Edit Macro",
          "drag.step1":
            "1. Vos touches d'dition sont dfinies dans l'onglet Raccourcis",
          "drag.step2": "2. Ajustez le dlai selon votre prfrence (1-10ms)",
          "drag.step3": "3. Optionnel : Activer l'auto-sprint",
          "drag.step4": "4. Cliquez sur Dmarrer pour activer la macro",
          "drag.eorOff": "Mode dition  la sortie DSACTIV",

          // Help & Support
          "help.common": "Problmes courants et solutions rapides",
          "help.diagnostics": "Diagnostics systme",
          "help.diagDesc":
            "Utilisez ces informations lors du contact avec le support :",
          "help.version": "Version :",
          "help.status": "Statut :",
          "help.active": "Macros actives :",
          "help.lastUpdate": "Dernire mise  jour :",
          "help.copyDiag": "Copier les diagnostics",
          "help.exportLogs": "Exporter les journaux",
          "help.stillNeed": "Besoin d'aide ?",
          "help.supportDesc":
            "Rejoignez notre communaut Discord pour obtenir un support en temps rel de notre quipe et d'autres utilisateurs. Nous rpondons gnralement en quelques heures !",
          "help.getSupport": "Obtenir de l'aide sur Discord",

          // Developer
          "dev.credit": "Dvelopp par",

          // Theme Popup
          "theme.title": "O avez-vous entendu parler de nous ?",
          "theme.desc": "Aidez-nous  savoir d'o vient notre communaut !",

          // Common UI Elements
          "ui.start": "DMARRER",
          "ui.stop": "ARRTER",
          "ui.notSet": "Non dfini",
          "ui.pressKey": "APPUYEZ SUR UNE TOUCHE...",
          "ui.selectBind": "SLECTIONNER TOUCHE",
          "ui.ready": "Prt - Configurez et DMARREZ",
          "ui.current": "Actuel:",
          "ui.ms": "ms",

          // Loading Screen
          "loading.initializing": "Initialisation...",
          "loading.verifying": "Vrification du pont IPC...",
          "loading.engines": "Chargement des moteurs...",
          "loading.license": "Vrification de la licence...",
          "loading.settings": "Chargement des paramtres...",
          "loading.ready": "Prt!",

          // Language Options
          "lang.english": "English",
          "lang.spanish": "Espaol (Spanish)",
          "lang.french": "Franais (French)",
          "lang.german": "Deutsch (German)",
          "lang.portuguese": "Portugus (Portuguese)",
          "lang.russian": " (Russian)",
          "lang.chinese": " (Chinese)",
          "lang.japanese": " (Japanese)",
          "lang.korean": " (Korean)",
          "settings.languageDesc": "Choisissez votre langue prfre",

          // Performance Mode Options
          "perf.high": "Haute performance (240+ FPS)",
          "perf.medium": "Performance moyenne (120-240 FPS)",
          "perf.low": "Faible performance (60-120 FPS)",

          // Disable All Macros
          "ui.disableAll": "DSACTIVER TOUS LES MACROS",
          "ui.emergencyStop": "Arrt d'urgence - dsactive instantanment tous les macros en cours d'excution",
        },
        de: {
          // Tabs
          "tab.main": "Haupt",
          "tab.dragEdit": "Zieh-Bearbeitung",
          "tab.instantBuild": "Sofortiger Bau",
          "tab.doubleEdit": "Doppelte Bearbeitung",
          "tab.pickup": "Aufheben",
          "tab.shotgun": "Schrotflinte",
          "tab.help": "Hilfe & Support",
          "tab.settings": "Einstellungen",
          "tab.macros": "Makros",
          "tab.keybinds": "Tastenbelegungen",
          "tab.leaked": "Durchgesickert",
          "macros.select": "Makro auswhlen",
          "macros.dragEdit": "Zieh-Bearbeitung",
          "macros.instantBuild": "Sofortiger Bau",
          "macros.doubleEdit": "Doppelte Bearbeitung",
          "macros.pickup": "Aufheben",
          "macros.shotgun": "Schrotflinte",
          "macros.crouchSpam": "Ducken-Spam",
          "macros.noSettings": "Keine Einstellungen erforderlich",
          "macros.runtime": "Laufzeit:",
          "keybinds.settingsTitle": "Tastenbelegung Einstellungen",

          // Settings
          "settings.title": "Einstellungen",
          "settings.language": "Sprache",
          "settings.performanceMode": "Leistungsmodus",
          "settings.performanceModeDesc":
            "Das ndern des Leistungsmodus startet alle Makro-Engines neu. Whlen Sie den Modus basierend auf Ihren aktuellen FPS fr optimale Leistung.",
          "settings.license": "Lizenzinformationen",
          "settings.licenseStatus": "Lizenzstatus",
          "settings.daysRemaining": "Verbleibende Tage",
          "settings.appSettings": "Anwendungseinstellungen",
          "settings.colorPalette": "Farbpalette",
          "settings.colorPaletteDesc": "Whlen Sie eine beliebige Farbe fr die Benutzeroberflche",
          "settings.startupLaunch": "Beim Systemstart starten",
          "settings.startupLaunchDesc": "Vantrix beim Windows-Start automatisch starten",
          "settings.hotkeyConfig": "Hotkey-Konfiguration",
          "settings.hotkeyDesc": "Klicken Sie auf ein Feld und drcken Sie eine beliebige Taste zum Festlegen. Diese Hotkeys funktionieren global, auch wenn die App ausgeblendet ist.",
          "settings.hotkeyConfigDesc": "Globale Hotkeys fr Geistermodus und EZ-Modus festlegen",
          "settings.ghostMode": "Geistermodus",
          "settings.ezMode": "EZ-Modus",
          "about.appTitle": "VANTRIX",
          "about.appDesc": "Premium-Gaming-Makros und Optimierungswerkzeuge",
          "about.viewProducts": "Alle Produkte ansehen",
          "about.joinBtn": "Tritt dem Discord-Server bei",
          "about.joinDesc": "Erhalte Untersttzung, teile Tipps und bleib auf dem Laufenden",

          // About Tab
          "about.join": "Tritt unserer Community bei",
          "about.joinDesc":
            "Verbinde dich mit anderen Spielern, erhalte Untersttzung, teile deine Setups und bleibe auf dem neuesten Stand mit den neuesten Macro-Updates und Tipps.",
          "about.joinBtn": "Discord beitreten",
          "about.hero": "Strke deine Gaming-Reise",
          "about.heroDesc":
            "Willkommen bei Vantrix macro! Professionelle Tools, die dir helfen, dein volles Potenzial zu erreichen. Ob du gerade anfngst oder deine Fhigkeiten verbesserst, wir sind hier, um deine Reise zu untersttzen.",

          // Keybinds Tab
          "keybinds.title": "Fortnite Tastenbelegungskonfiguration",
          "keybinds.desc":
            "Stelle alle deine Fortnite-Tasten hier einmal ein - sie werden automatisch in alle Macro-Tabs bertragen!",
          "keybinds.editing": "Bearbeitung",
          "keybinds.editKey": "Bearbeitungstaste",
          "keybinds.selectKey": "Auswahltaste",
          "keybinds.building": "Bauen",
          "keybinds.placeKey": "Sekundre Bautaste",
          "keybinds.buildPieces": "Bauteile",
          "keybinds.wallKey": "Wandtaste",
          "keybinds.floorKey": "Bodentaste",
          "keybinds.stairKey": "Treppentaste",
          "keybinds.coneKey": "Kegeltaste",
          "keybinds.other": "Sonstiges",
          "keybinds.sprintKey": "Sprint-Taste",
          "keybinds.pickupKey": "Aufheben/Interaktionstaste",
          "keybinds.performance": "Leistung",
          "keybinds.perfMode": "Leistungsmodus",
          "keybinds.status": "Einmal einstellen, berall verwenden",
          "keybinds.select": "AUSWHLEN",

          // Macro Settings
          "macro.settings": "Macro-Einstellungen",
          "macro.delay": "Verzgerung",
          "macro.current": "Aktuell",
          "macro.autoSprint": "Auto-Sprint aktivieren",

          // Drag Edit
          "drag.title": "So verwendest du Drag Edit Macro",
          "drag.step1":
            "1. Deine Bearbeitungstasten sind im Tastenbelegung-Tab eingestellt",
          "drag.step2":
            "2. Passe die Verzgerung an deine Vorliebe an (1-10ms)",
          "drag.step3": "3. Optional: Auto-Sprint aktivieren",
          "drag.step4": "4. Klicke auf Start, um das Macro zu aktivieren",

          // Help & Support
          "help.common": "Hufige Probleme und schnelle Lsungen",
          "help.diagnostics": "Systemdiagnose",
          "help.diagDesc":
            "Verwende diese Informationen beim Kontakt mit dem Support:",
          "help.version": "Version:",
          "help.status": "Status:",
          "help.active": "Aktive Macros:",
          "help.lastUpdate": "Letztes Update:",
          "help.copyDiag": "Diagnose kopieren",
          "help.exportLogs": "Protokolle exportieren",
          "help.stillNeed": "Brauchst du noch Hilfe?",
          "help.supportDesc":
            "Tritt unserer Discord-Community bei, um Echtzeit-Support von unserem Team und anderen Benutzern zu erhalten. Wir antworten normalerweise innerhalb weniger Stunden!",
          "help.getSupport": "Untersttzung auf Discord erhalten",

          // Developer
          "dev.credit": "Entwickelt von",

          // Theme Popup
          "theme.title": "Wo hast du von uns gehrt?",
          "theme.desc": "Hilf uns zu wissen, woher unsere Community kommt!",

          // Common UI Elements
          "ui.start": "STARTEN",
          "ui.stop": "STOPPEN",
          "ui.notSet": "Nicht gesetzt",
          "ui.pressKey": "TASTE DRCKEN...",
          "ui.selectBind": "TASTE AUSWHLEN",
          "ui.ready": "Bereit - Konfigurieren und STARTEN",
          "ui.current": "Aktuell:",
          "ui.ms": "ms",

          // Loading Screen
          "loading.initializing": "Initialisiere...",
          "loading.verifying": "IPC-Brcke berprfen...",
          "loading.engines": "Lade Motoren...",
          "loading.license": "Lizenz berprfen...",
          "loading.settings": "Lade Einstellungen...",
          "loading.ready": "Bereit!",

          // Language Options
          "lang.english": "English",
          "lang.spanish": "Espaol (Spanish)",
          "lang.french": "Franais (French)",
          "lang.german": "Deutsch (German)",
          "lang.portuguese": "Portugus (Portuguese)",
          "lang.russian": " (Russian)",
          "lang.chinese": " (Chinese)",
          "lang.japanese": " (Japanese)",
          "lang.korean": " (Korean)",
          "settings.languageDesc": "Whlen Sie Ihre bevorzugte Sprache",

          // Performance Mode Options
          "perf.high": "Hohe Leistung (240+ FPS)",
          "perf.medium": "Mittlere Leistung (120-240 FPS)",
          "perf.low": "Niedrige Leistung (60-120 FPS)",

          // Disable All Macros
          "ui.disableAll": "ALLE MAKROS DEAKTIVIEREN",
          "ui.emergencyStop": "Not-Aus - deaktiviert sofort alle laufenden Makros",
        },
        pt: {
          // Tabs
          "tab.main": "Principal",
          "tab.dragEdit": "Edio por arrasto",
          "tab.instantBuild": "Construo instantnea",
          "tab.doubleEdit": "Edio dupla",
          "tab.pickup": "Pegar",
          "tab.shotgun": "Espingarda",
          "tab.help": "Ajuda e suporte",
          "tab.settings": "Configuraes",
          "tab.macros": "Macros",
          "tab.keybinds": "Atalhos",
          "tab.leaked": "Vazado",
          "macros.select": "Selecionar Macro",
          "macros.dragEdit": "Edio de arrastar",
          "macros.instantBuild": "Construo instantnea",
          "macros.doubleEdit": "Edio dupla",
          "macros.pickup": "Pegar",
          "macros.shotgun": "Espingarda",
          "macros.crouchSpam": "Spam de agachar",
          "macros.noSettings": "Nenhuma configurao necessria",
          "macros.runtime": "Tempo de execuo:",
          "keybinds.settingsTitle": "Configuraes de atalhos",

          // Settings
          "settings.title": "Configuraes",
          "settings.language": "Idioma",
          "settings.performanceMode": "Modo de desempenho",
          "settings.performanceModeDesc":
            "Alterar o modo de desempenho reiniciar todos os motores de macro. Selecione o modo com base em seus FPS atuais para desempenho ideal.",
          "settings.license": "Informaes de licena",
          "settings.licenseStatus": "Status da licena",
          "settings.daysRemaining": "Dias restantes",
          "settings.appSettings": "Configuraes do aplicativo",
          "settings.colorPalette": "Paleta de cores",
          "settings.colorPaletteDesc": "Escolha qualquer cor para os destaques da interface",
          "settings.startupLaunch": "Iniciar na inicializao do sistema",
          "settings.startupLaunchDesc": "Iniciar automaticamente o Vantrix quando o Windows iniciar",
          "settings.hotkeyConfig": "Configurao de teclas de atalho",
          "settings.hotkeyDesc": "Clique em um campo e pressione qualquer tecla para definir. Essas teclas de atalho funcionam globalmente mesmo quando o aplicativo est oculto.",
          "settings.hotkeyConfigDesc": "Definir teclas de atalho globais para Modo Fantasma e Modo EZ",
          "settings.ghostMode": "Modo Fantasma",
          "settings.ezMode": "Modo EZ",
          "about.appTitle": "VANTRIX",
          "about.appDesc": "Macros de jogos premium e ferramentas de otimizao",
          "about.viewProducts": "Ver todos os produtos",
          "about.joinBtn": "Junte-se ao servidor Discord",
          "about.joinDesc": "Obtenha suporte, compartilhe dicas e mantenha-se atualizado",

          // About Tab
          "about.join": "Junte-se  nossa comunidade",
          "about.joinDesc":
            "Conecte-se com outros jogadores, obtenha suporte, compartilhe suas configuraes e fique atualizado com as ltimas atualizaes e dicas de macros.",
          "about.joinBtn": "Entrar no Discord",
          "about.hero": "Capacitando sua jornada de jogos",
          "about.heroDesc":
            "Bem-vindo ao Vantrix macro! Ferramentas profissionais projetadas para ajud-lo a alcanar seu potencial mximo. Seja voc iniciante ou aprimorando suas habilidades, estamos aqui para apoiar sua jornada.",

          // Keybinds Tab
          "keybinds.title": "Configurao de atalhos do Fortnite",
          "keybinds.desc":
            "Defina todos os seus atalhos do Fortnite aqui uma vez - eles preenchero automaticamente em todas as guias de macros!",
          "keybinds.editing": "Edio",
          "keybinds.editKey": "Tecla de edio",
          "keybinds.selectKey": "Tecla de seleo",
          "keybinds.building": "Construo",
          "keybinds.placeKey": "Tecla secundria de construo",
          "keybinds.buildPieces": "Peas de construo",
          "keybinds.wallKey": "Tecla de parede",
          "keybinds.floorKey": "Tecla de piso",
          "keybinds.stairKey": "Tecla de escada",
          "keybinds.coneKey": "Tecla de cone",
          "keybinds.other": "Outros",
          "keybinds.sprintKey": "Tecla de corrida",
          "keybinds.pickupKey": "Tecla de pegar/interagir",
          "keybinds.performance": "Desempenho",
          "keybinds.perfMode": "Modo de desempenho",
          "keybinds.status": "Configure uma vez, use em todos os lugares",
          "keybinds.select": "SELECIONAR",

          // Macro Settings
          "macro.settings": "Configuraes de macro",
          "macro.delay": "Atraso",
          "macro.current": "Atual",
          "macro.autoSprint": "Ativar auto-corrida",

          // Drag Edit
          "drag.title": "Como usar Drag Edit Macro",
          "drag.step1":
            "1. Suas teclas de edio so definidas na guia Atalhos",
          "drag.step2":
            "2. Ajuste o atraso de acordo com sua preferncia (1-10ms)",
          "drag.step3": "3. Opcional: Ativar auto-corrida",
          "drag.step4": "4. Clique em Iniciar para ativar a macro",

          // Help & Support
          "help.common": "Problemas comuns e solues rpidas",
          "help.diagnostics": "Diagnsticos do sistema",
          "help.diagDesc": "Use estas informaes ao contatar o suporte:",
          "help.version": "Verso:",
          "help.status": "Status:",
          "help.active": "Macros ativas:",
          "help.lastUpdate": "ltima atualizao:",
          "help.copyDiag": "Copiar diagnsticos",
          "help.exportLogs": "Exportar registros",
          "help.stillNeed": "Ainda precisa de ajuda?",
          "help.supportDesc":
            "Junte-se  nossa comunidade do Discord para obter suporte em tempo real de nossa equipe e outros usurios. Geralmente respondemos em poucas horas!",
          "help.getSupport": "Obter suporte no Discord",

          // Developer
          "dev.credit": "Desenvolvido por",

          // Theme Popup
          "theme.title": "Onde voc ouviu falar sobre ns?",
          "theme.desc": "Ajude-nos a saber de onde vem nossa comunidade!",

          // Common UI Elements
          "ui.start": "INICIAR",
          "ui.stop": "PARAR",
          "ui.notSet": "No definido",
          "ui.pressKey": "PRESSIONE A TECLA...",
          "ui.selectBind": "SELECIONAR TECLA",
          "ui.ready": "Pronto - Configure e INICIE",
          "ui.current": "Atual:",
          "ui.ms": "ms",

          // Loading Screen
          "loading.initializing": "Inicializando...",
          "loading.verifying": "Verificando ponte IPC...",
          "loading.engines": "Carregando motores...",
          "loading.license": "Verificando licena...",
          "loading.settings": "Carregando configuraes...",
          "loading.ready": "Pronto!",

          // Language Options
          "lang.english": "English",
          "lang.spanish": "Espaol (Spanish)",
          "lang.french": "Franais (French)",
          "lang.german": "Deutsch (German)",
          "lang.portuguese": "Portugus (Portuguese)",
          "lang.russian": " (Russian)",
          "lang.chinese": " (Chinese)",
          "lang.japanese": " (Japanese)",
          "lang.korean": " (Korean)",
          "settings.languageDesc": "Escolha seu idioma preferido",

          // Performance Mode Options
          "perf.high": "Alto desempenho (240+ FPS)",
          "perf.medium": "Desempenho mdio (120-240 FPS)",
          "perf.low": "Baixo desempenho (60-120 FPS)",

          // Disable All Macros
          "ui.disableAll": "DESATIVAR TODOS OS MACROS",
          "ui.emergencyStop": "Parada de emergncia - desativa instantaneamente todos os macros em execuo",
        },
        ru: {
          // Tabs
          "tab.main": "",
          "tab.dragEdit": " ",
          "tab.instantBuild": " ",
          "tab.doubleEdit": " ",
          "tab.pickup": "",
          "tab.shotgun": "",
          "tab.help": "  ",
          "tab.settings": "",
          "tab.macros": "",
          "tab.keybinds": " ",
          "tab.leaked": "",
          "macros.select": " ",
          "macros.dragEdit": " ",
          "macros.instantBuild": " ",
          "macros.doubleEdit": " ",
          "macros.pickup": "",
          "macros.shotgun": "",
          "macros.crouchSpam": " ",
          "macros.noSettings": "  ",
          "macros.runtime": " :",
          "keybinds.settingsTitle": "  ",

          // Settings
          "settings.title": "",
          "settings.language": "",
          "settings.performanceMode": " ",
          "settings.performanceModeDesc":
            "     -.       FPS   .",
          "settings.license": "  ",
          "settings.licenseStatus": " ",
          "settings.daysRemaining": " ",
          "settings.appSettings": " ",
          "settings.colorPalette": " ",
          "settings.colorPaletteDesc": "     ",
          "settings.startupLaunch": "   ",
          "settings.startupLaunchDesc": "  Vantrix   Windows",
          "settings.hotkeyConfig": "  ",
          "settings.hotkeyDesc": "        .     ,    .",
          "settings.hotkeyConfigDesc": "         EZ",
          "settings.ghostMode": " ",
          "settings.ezMode": " EZ",
          "about.appTitle": "VANTRIX",
          "about.appDesc": "     ",
          "about.viewProducts": "  ",
          "about.joinBtn": "   Discord",
          "about.joinDesc": " ,      ",

          // About Tab
          "about.join": "   ",
          "about.joinDesc":
            "   ,  ,            .",
          "about.joinBtn": "  Discord",
          "about.hero": "   ",
          "about.heroDesc":
            "   Vantrix macro!  , ,       .   ,       ,  ,    .",

          // Keybinds Tab
          "keybinds.title": "   Fortnite",
          "keybinds.desc":
            "     Fortnite    -       !",
          "keybinds.editing": "",
          "keybinds.editKey": " ",
          "keybinds.selectKey": " ",
          "keybinds.building": "",
          "keybinds.placeKey": "  ",
          "keybinds.buildPieces": " ",
          "keybinds.wallKey": " ",
          "keybinds.floorKey": " ",
          "keybinds.stairKey": " ",
          "keybinds.coneKey": " ",
          "keybinds.other": "",
          "keybinds.sprintKey": " ",
          "keybinds.pickupKey": " /",
          "keybinds.performance": "",
          "keybinds.perfMode": " ",
          "keybinds.status": "  ,  ",
          "keybinds.select": "",

          // Macro Settings
          "macro.settings": " ",
          "macro.delay": "",
          "macro.current": "",
          "macro.autoSprint": " -",

          // Drag Edit
          "drag.title": "  Drag Edit Macro",
          "drag.step1":
            "1.        ",
          "drag.step2":
            "2.        (1-10)",
          "drag.step3": "3. :  -",
          "drag.step4": "4.     ",

          // Help & Support
          "help.common": "    ",
          "help.diagnostics": " ",
          "help.diagDesc":
            "      :",
          "help.version": ":",
          "help.status": ":",
          "help.active": " :",
          "help.lastUpdate": " :",
          "help.copyDiag": " ",
          "help.exportLogs": " ",
          "help.stillNeed": "   ?",
          "help.supportDesc":
            "    Discord            .       !",
          "help.getSupport": "   Discord",

          // Developer
          "dev.credit": "",

          // Theme Popup
          "theme.title": "    ?",
          "theme.desc": "  ,    !",

          // Common UI Elements
          "ui.start": "",
          "ui.stop": "",
          "ui.notSet": " ",
          "ui.pressKey": " ...",
          "ui.selectBind": " ",
          "ui.ready": " -   ",
          "ui.current": ":",
          "ui.ms": "",

          // Loading Screen
          "loading.initializing": "...",
          "loading.verifying": " IPC ...",
          "loading.engines": " ...",
          "loading.license": " ...",
          "loading.settings": " ...",
          "loading.ready": "!",

          // Language Options
          "lang.english": "English",
          "lang.spanish": "Espaol (Spanish)",
          "lang.french": "Franais (French)",
          "lang.german": "Deutsch (German)",
          "lang.portuguese": "Portugus (Portuguese)",
          "lang.russian": " (Russian)",
          "lang.chinese": " (Chinese)",
          "lang.japanese": " (Japanese)",
          "lang.korean": " (Korean)",
          "settings.languageDesc": "  ",

          // Performance Mode Options
          "perf.high": "  (240+ FPS)",
          "perf.medium": "  (120-240 FPS)",
          "perf.low": "  (60-120 FPS)",

          // Disable All Macros
          "ui.disableAll": "  ",
          "ui.emergencyStop": "  -     ",
        },
        zh: {
          // Tabs
          "tab.main": "",
          "tab.dragEdit": "",
          "tab.instantBuild": "",
          "tab.doubleEdit": "",
          "tab.pickup": "",
          "tab.shotgun": "",
          "tab.help": "",
          "tab.settings": "",
          "tab.macros": "",
          "tab.keybinds": "",
          "tab.leaked": "",
          "macros.select": "",
          "macros.dragEdit": "",
          "macros.instantBuild": "",
          "macros.doubleEdit": "",
          "macros.pickup": "",
          "macros.shotgun": "",
          "macros.crouchSpam": "",
          "macros.noSettings": "",
          "macros.runtime": ":",
          "keybinds.settingsTitle": "",

          // Settings
          "settings.title": "",
          "settings.language": "",
          "settings.performanceMode": "",
          "settings.performanceModeDesc":
            "FPS",
          "settings.license": "",
          "settings.licenseStatus": "",
          "settings.daysRemaining": "",
          "settings.appSettings": "",
          "settings.colorPalette": "",
          "settings.colorPaletteDesc": "",
          "settings.startupLaunch": "",
          "settings.startupLaunchDesc": "Windows  Vantrix",
          "settings.hotkeyConfig": "",
          "settings.hotkeyDesc": "",
          "settings.hotkeyConfigDesc": " EZ ",
          "settings.ghostMode": "",
          "settings.ezMode": "EZ ",
          "about.appTitle": "VANTRIX",
          "about.appDesc": "",
          "about.viewProducts": "",
          "about.joinBtn": " Discord ",
          "about.joinDesc": "",

          // About Tab
          "about.join": "",
          "about.joinDesc":
            "",
          "about.joinBtn": " Discord",
          "about.hero": "",
          "about.heroDesc":
            " Vantrix macro",

          // Keybinds Tab
          "keybinds.title": "Fortnite ",
          "keybinds.desc":
            " Fortnite  - ",
          "keybinds.editing": "",
          "keybinds.editKey": "",
          "keybinds.selectKey": "",
          "keybinds.building": "",
          "keybinds.placeKey": "",
          "keybinds.buildPieces": "",
          "keybinds.wallKey": "",
          "keybinds.floorKey": "",
          "keybinds.stairKey": "",
          "keybinds.coneKey": "",
          "keybinds.other": "",
          "keybinds.sprintKey": "",
          "keybinds.pickupKey": "/",
          "keybinds.performance": "",
          "keybinds.perfMode": "",
          "keybinds.status": "",
          "keybinds.select": "",

          // Macro Settings
          "macro.settings": "",
          "macro.delay": "",
          "macro.current": "",
          "macro.autoSprint": "",

          // Drag Edit
          "drag.title": "",
          "drag.step1": "1. ",
          "drag.step2": "2.  (1-10ms)",
          "drag.step3": "3. ",
          "drag.step4": "4. ",

          // Help & Support
          "help.common": "",
          "help.diagnostics": "",
          "help.diagDesc": "",
          "help.version": "",
          "help.status": "",
          "help.active": "",
          "help.lastUpdate": "",
          "help.copyDiag": "",
          "help.exportLogs": "",
          "help.stillNeed": "",
          "help.supportDesc":
            " Discord ",
          "help.getSupport": " Discord ",

          // Developer
          "dev.credit": "",

          // Theme Popup
          "theme.title": "",
          "theme.desc": "",

          // Common UI Elements
          "ui.start": "",
          "ui.stop": "",
          "ui.notSet": "",
          "ui.pressKey": "...",
          "ui.selectBind": "",
          "ui.ready": " - ",
          "ui.current": ":",
          "ui.ms": "",

          // Loading Screen
          "loading.initializing": "...",
          "loading.verifying": "IPC...",
          "loading.engines": "...",
          "loading.license": "...",
          "loading.settings": "...",
          "loading.ready": "",

          // Language Options
          "lang.english": "English",
          "lang.spanish": "Espaol (Spanish)",
          "lang.french": "Franais (French)",
          "lang.german": "Deutsch (German)",
          "lang.portuguese": "Portugus (Portuguese)",
          "lang.russian": " (Russian)",
          "lang.chinese": " (Chinese)",
          "lang.japanese": " (Japanese)",
          "lang.korean": " (Korean)",
          "settings.languageDesc": "",

          // Performance Mode Options
          "perf.high": " (240+ FPS)",
          "perf.medium": " (120-240 FPS)",
          "perf.low": " (60-120 FPS)",

          // Disable All Macros
          "ui.disableAll": "",
          "ui.emergencyStop": " - ",
        },
        ja: {
          // Tabs
          "tab.main": "",
          "tab.dragEdit": "",
          "tab.instantBuild": "",
          "tab.doubleEdit": "",
          "tab.pickup": "",
          "tab.shotgun": "",
          "tab.help": "",
          "tab.settings": "",
          "tab.macros": "",
          "tab.keybinds": "",
          "tab.leaked": "",
          "macros.select": "",
          "macros.dragEdit": "",
          "macros.instantBuild": "",
          "macros.doubleEdit": "",
          "macros.pickup": "",
          "macros.shotgun": "",
          "macros.crouchSpam": "",
          "macros.noSettings": "",
          "macros.runtime": ":",
          "keybinds.settingsTitle": "",

          // Settings
          "settings.title": "",
          "settings.language": "",
          "settings.performanceMode": "",
          "settings.performanceModeDesc":
            "FPS",
          "settings.license": "",
          "settings.licenseStatus": "",
          "settings.daysRemaining": "",
          "settings.appSettings": "",
          "settings.colorPalette": "",
          "settings.colorPaletteDesc": "",
          "settings.startupLaunch": "",
          "settings.startupLaunchDesc": "Windows  Vantrix ",
          "settings.hotkeyConfig": "",
          "settings.hotkeyDesc": "",
          "settings.hotkeyConfigDesc": " EZ ",
          "settings.ghostMode": "",
          "settings.ezMode": "EZ ",
          "about.appTitle": "VANTRIX",
          "about.appDesc": "",
          "about.viewProducts": "",
          "about.joinBtn": "Discord ",
          "about.joinDesc": "",

          // About Tab
          "about.join": "",
          "about.joinDesc":
            "",
          "about.joinBtn": "Discord ",
          "about.hero": "",
          "about.heroDesc":
            "Vantrix macro ",

          // Keybinds Tab
          "keybinds.title": "Fortnite ",
          "keybinds.desc":
            " Fortnite ",
          "keybinds.editing": "",
          "keybinds.editKey": "",
          "keybinds.selectKey": "",
          "keybinds.building": "",
          "keybinds.placeKey": "",
          "keybinds.buildPieces": "",
          "keybinds.wallKey": "",
          "keybinds.floorKey": "",
          "keybinds.stairKey": "",
          "keybinds.coneKey": "",
          "keybinds.other": "",
          "keybinds.sprintKey": "",
          "keybinds.pickupKey": "/",
          "keybinds.performance": "",
          "keybinds.perfMode": "",
          "keybinds.status": "",
          "keybinds.select": "",

          // Macro Settings
          "macro.settings": "",
          "macro.delay": "",
          "macro.current": "",
          "macro.autoSprint": "",

          // Drag Edit
          "drag.title": "",
          "drag.step1": "1. ",
          "drag.step2": "2.  (1-10ms)",
          "drag.step3": "3. ",
          "drag.step4": "4. ",

          // Help & Support
          "help.common": "",
          "help.diagnostics": "",
          "help.diagDesc": "",
          "help.version": "",
          "help.status": "",
          "help.active": "",
          "help.lastUpdate": "",
          "help.copyDiag": "",
          "help.exportLogs": "",
          "help.stillNeed": "",
          "help.supportDesc":
            "Discord ",
          "help.getSupport": "Discord ",

          // Developer
          "dev.credit": "",

          // Theme Popup
          "theme.title": "",
          "theme.desc": "",

          // Common UI Elements
          "ui.start": "",
          "ui.stop": "",
          "ui.notSet": "",
          "ui.pressKey": "...",
          "ui.selectBind": "",
          "ui.ready": " - ",
          "ui.current": ":",
          "ui.ms": "ms",

          // Loading Screen
          "loading.initializing": "...",
          "loading.verifying": "IPC...",
          "loading.engines": "...",
          "loading.license": "...",
          "loading.settings": "...",
          "loading.ready": "",

          // Language Options
          "lang.english": "English",
          "lang.spanish": "Espaol (Spanish)",
          "lang.french": "Franais (French)",
          "lang.german": "Deutsch (German)",
          "lang.portuguese": "Portugus (Portuguese)",
          "lang.russian": " (Russian)",
          "lang.chinese": " (Chinese)",
          "lang.japanese": " (Japanese)",
          "lang.korean": " (Korean)",
          "settings.languageDesc": "",

          // Performance Mode Options
          "perf.high": " (240+ FPS)",
          "perf.medium": " (120-240 FPS)",
          "perf.low": " (60-120 FPS)",

          // Disable All Macros
          "ui.disableAll": "",
          "ui.emergencyStop": " - ",
        },
        ko: {
          // Tabs
          "tab.main": "",
          "tab.dragEdit": " ",
          "tab.instantBuild": " ",
          "tab.doubleEdit": " ",
          "tab.pickup": "",
          "tab.shotgun": "",
          "tab.help": "  ",
          "tab.settings": "",
          "tab.macros": "",
          "tab.keybinds": " ",
          "tab.leaked": "",
          "macros.select": " ",
          "macros.dragEdit": " ",
          "macros.instantBuild": " ",
          "macros.doubleEdit": " ",
          "macros.pickup": "",
          "macros.shotgun": "",
          "macros.crouchSpam": " ",
          "macros.noSettings": "  ",
          "macros.runtime": " :",
          "keybinds.settingsTitle": "  ",

          // Settings
          "settings.title": "",
          "settings.language": "",
          "settings.performanceMode": " ",
          "settings.performanceModeDesc":
            "       .     FPS   .",
          "settings.license": " ",
          "settings.licenseStatus": " ",
          "settings.daysRemaining": " ",
          "settings.appSettings": " ",
          "settings.colorPalette": " ",
          "settings.colorPaletteDesc": "    ",
          "settings.startupLaunch": "   ",
          "settings.startupLaunchDesc": "Windows   Vantrix  ",
          "settings.hotkeyConfig": " ",
          "settings.hotkeyDesc": "     .       .",
          "settings.hotkeyConfigDesc": "   EZ     ",
          "settings.ghostMode": " ",
          "settings.ezMode": "EZ ",
          "about.appTitle": "VANTRIX",
          "about.appDesc": "     ",
          "about.viewProducts": "  ",
          "about.joinBtn": "Discord  ",
          "about.joinDesc": ",  ,   ",

          // About Tab
          "about.join": " ",
          "about.joinDesc":
            "  ,  ,  ,      .",
          "about.joinBtn": "Discord ",
          "about.hero": "  ",
          "about.heroDesc":
            "Vantrix macro   !         .    ,       .",

          // Keybinds Tab
          "keybinds.title": "Fortnite   ",
          "keybinds.desc":
            "  Fortnite          !",
          "keybinds.editing": "",
          "keybinds.editKey": " ",
          "keybinds.selectKey": " ",
          "keybinds.building": "",
          "keybinds.placeKey": "  ",
          "keybinds.buildPieces": " ",
          "keybinds.wallKey": " ",
          "keybinds.floorKey": " ",
          "keybinds.stairKey": " ",
          "keybinds.coneKey": " ",
          "keybinds.other": "",
          "keybinds.sprintKey": " ",
          "keybinds.pickupKey": "/ ",
          "keybinds.performance": "",
          "keybinds.perfMode": " ",
          "keybinds.status": "    ",
          "keybinds.select": "",

          // Macro Settings
          "macro.settings": " ",
          "macro.delay": "",
          "macro.current": "",
          "macro.autoSprint": "  ",

          // Drag Edit
          "drag.title": "    ",
          "drag.step1": "1.      ",
          "drag.step2": "2.     (1-10ms)",
          "drag.step3": "3.  :   ",
          "drag.step4": "4.    ",

          // Help & Support
          "help.common": "    ",
          "help.diagnostics": " ",
          "help.diagDesc": "     :",
          "help.version": ":",
          "help.status": ":",
          "help.active": " :",
          "help.lastUpdate": " :",
          "help.copyDiag": " ",
          "help.exportLogs": " ",
          "help.stillNeed": "  ?",
          "help.supportDesc":
            "Discord        .     !",
          "help.getSupport": "Discord  ",

          // Developer
          "dev.credit": "",

          // Theme Popup
          "theme.title": "   ?",
          "theme.desc": "    !",

          // Common UI Elements
          "ui.start": "",
          "ui.stop": "",
          "ui.notSet": "  ",
          "ui.pressKey": " ...",
          "ui.selectBind": " ",
          "ui.ready": " -  ",
          "ui.current": ":",
          "ui.ms": "ms",

          // Loading Screen
          "loading.initializing": " ...",
          "loading.verifying": "IPC   ...",
          "loading.engines": "  ...",
          "loading.license": "  ...",
          "loading.settings": "  ...",
          "loading.ready": " !",

          // Language Options
          "lang.english": "English",
          "lang.spanish": "Espaol (Spanish)",
          "lang.french": "Franais (French)",
          "lang.german": "Deutsch (German)",
          "lang.portuguese": "Portugus (Portuguese)",
          "lang.russian": " (Russian)",
          "lang.chinese": " (Chinese)",
          "lang.japanese": " (Japanese)",
          "lang.korean": " (Korean)",
          "settings.languageDesc": "  ",

          // Performance Mode Options
          "perf.high": " (240+ FPS)",
          "perf.medium": "  (120-240 FPS)",
          "perf.low": " (60-120 FPS)",

          // Disable All Macros
          "ui.disableAll": "  ",
          "ui.emergencyStop": "  -      ",
        },
      };

      // Helper function to get translated text (globally accessible)
      window.getTranslation = function(key, defaultText) {
        const currentLang = window.currentLanguage || "en";
        if (translations[currentLang] && translations[currentLang][key]) {
          return translations[currentLang][key];
        }
        return defaultText;
      };

      // Apply translations to all elements with data-i18n attribute
      function applyTranslations(lang) {
        // Default to English if language not found
        if (!translations[lang]) {
          lang = "en";
        }
        // Update current language
        window.currentLanguage = lang;

        const elements = document.querySelectorAll("[data-i18n]");
        elements.forEach((el) => {
          const key = el.getAttribute("data-i18n");
          if (translations[lang] && translations[lang][key]) {
            // Skip keybind buttons that have been set by the user (text is not a default "SELECT" translation)
            if (
              el.classList.contains("keybind-button") &&
              key === "keybinds.select"
            ) {
              // Check if this button has a custom keybind set (not the default SELECT text)
              const currentText = el.textContent.trim();
              const isDefaultText = Object.values(translations).some(
                (langObj) => langObj["keybinds.select"] === currentText,
              );
              // Skip translation if it's a custom keybind (not default SELECT text)
              if (!isDefaultText) {
                return;
              }
            }

            // Check if element has children that should be preserved (like SVG icons)
            const hasPreservedContent = el.querySelector(
              "svg, .toggle-slider, .perf-box",
            );
            if (hasPreservedContent) {
              // Find text nodes and replace them
              const textNode = Array.from(el.childNodes).find(
                (node) => node.nodeType === Node.TEXT_NODE,
              );
              if (textNode) {
                textNode.textContent = translations[lang][key];
              }
            } else {
              el.textContent = translations[lang][key];
            }
          }
        });

        // Update dynamic text elements that don't have data-i18n
        // Update START/STOP toggle buttons
        const toggleTexts = document.querySelectorAll('[id$="-toggle-text"]');
        toggleTexts.forEach((el) => {
          const toggleBtn = el.closest('.toggle-btn') || document.getElementById(el.id.replace('-text', ''));
          if (toggleBtn && toggleBtn.classList.contains('active')) {
            el.textContent = window.getTranslation('ui.stop', 'STOP');
          } else {
            el.textContent = window.getTranslation('ui.start', 'START');
          }
        });

        // Update EZ mode toggle buttons
        const ezToggles = document.querySelectorAll('[id^="ez-"][id$="-toggle"]');
        ezToggles.forEach((el) => {
          const mainToggle = document.getElementById(el.id.replace('ez-', '').replace('-toggle', '-toggle'));
          if (mainToggle && mainToggle.classList.contains('active')) {
            el.textContent = window.getTranslation('ui.stop', 'STOP');
          } else {
            el.textContent = window.getTranslation('ui.start', 'START');
          }
        });

        // Update "Not Set" displays (only if they actually say "Not Set" or its translation)
        const notSetElements = document.querySelectorAll('[id$="-display"]');
        notSetElements.forEach((el) => {
          const currentText = el.textContent.trim();
          // Check if it's a "Not Set" equivalent in any language
          const isNotSet = Object.values(translations).some(
            (langObj) => langObj['ui.notSet'] === currentText
          ) || currentText === 'Not Set';
          
          if (isNotSet) {
            el.textContent = window.getTranslation('ui.notSet', 'Not Set');
          }
        });

        // Update language selector option text dynamically
        const languageSelects = document.querySelectorAll('#languageSelect');
        languageSelects.forEach((select) => {
          const currentValue = select.value;
          const langMap = {
            'en': 'lang.english',
            'es': 'lang.spanish',
            'fr': 'lang.french',
            'de': 'lang.german',
            'pt': 'lang.portuguese',
            'ru': 'lang.russian',
            'zh': 'lang.chinese',
            'ja': 'lang.japanese',
            'ko': 'lang.korean'
          };
          const options = select.querySelectorAll('option');
          options.forEach((option) => {
            const langCode = option.value;
            const langKey = langMap[langCode];
            if (langKey && translations[lang] && translations[lang][langKey]) {
              option.textContent = translations[lang][langKey];
            }
          });
          // Restore selected value
          select.value = currentValue;
        });

        // Update performance mode selector option text dynamically
        const performanceModeSelects = document.querySelectorAll('#performanceModeSelect');
        performanceModeSelects.forEach((select) => {
          const currentValue = select.value;
          const options = select.querySelectorAll('option');
          options.forEach((option) => {
            const perfValue = option.value;
            const perfKey = perfValue === 'high' ? 'perf.high' : perfValue === 'medium' ? 'perf.medium' : 'perf.low';
            if (translations[lang] && translations[lang][perfKey]) {
              option.textContent = translations[lang][perfKey];
            }
          });
          // Restore selected value
          select.value = currentValue;
        });

        // Update macro selector option text dynamically
        const macroSelects = document.querySelectorAll('#macro-selector');
        macroSelects.forEach((select) => {
          const currentValue = select.value;
          const options = select.querySelectorAll('option');
          options.forEach((option) => {
            const key = option.getAttribute('data-i18n');
            if (key && translations[lang] && translations[lang][key]) {
              option.textContent = translations[lang][key];
            }
          });
          // Restore selected value
          select.value = currentValue;
        });

      }

      // ============================================================================
      // SETTINGS MODAL FUNCTIONS
      // ============================================================================
      function openSettings() {
        const modal = document.getElementById("settingsModal");
        modal.classList.add("active");
        loadLanguagePreference();
        loadPerformanceModePreference();
        loadHotkeyPreferences();
      }

      function closeSettings() {
        const modal = document.getElementById("settingsModal");
        modal.classList.remove("active");
        // Remove any active hotkey capture listeners
        if (window.activeHotkeyInput) {
          window.activeHotkeyInput.classList.remove("capturing");
          window.activeHotkeyInput = null;
        }
      }

      // Hotkey capture for Ghost Mode and EZ Mode
      let activeHotkeyInput = null;
      let activeHotkeySetting = null;

      function captureHotkey(inputElement, settingKey, event) {
        // Stop event propagation to prevent triggering other click handlers
        if (event) {
          event.stopPropagation();
          event.preventDefault();
        }
        
        // Remove previous capture state
        if (window.activeHotkeyInput) {
          window.activeHotkeyInput.classList.remove("capturing");
          window.activeHotkeyInput.style.background = "";
        }

        // Set new capture state
        window.activeHotkeyInput = inputElement;
        window.activeHotkeySetting = settingKey;
        inputElement.classList.add("capturing");
        inputElement.style.background = "rgba(var(--custom-color-rgb), 0.3)";
        inputElement.value = "Press a key...";

        // Focus the input to capture key events
        inputElement.focus();
        
        return false;
      }

      // Global keydown listener for hotkey capture
      document.addEventListener("keydown", function (event) {
        if (window.activeHotkeyInput && window.activeHotkeySetting) {
          event.preventDefault();
          event.stopPropagation();

          // Get the key name
          let keyName = event.key;

          // Normalize key names for display and storage
          if (keyName === " ") keyName = "Space";
          if (keyName === "Escape") {
            // Cancel capture on Escape
            window.activeHotkeyInput.value = window.currentSettings[window.activeHotkeySetting] || "Not Set";
            window.activeHotkeyInput.classList.remove("capturing");
            window.activeHotkeyInput.style.background = "";
            window.activeHotkeyInput = null;
            window.activeHotkeySetting = null;
            return;
          }

          // Format the key for display (capitalize F-keys, etc.)
          keyName = keyName.charAt(0).toUpperCase() + keyName.slice(1);

          // Update the input display
          window.activeHotkeyInput.value = keyName;
          window.activeHotkeyInput.classList.remove("capturing");
          window.activeHotkeyInput.style.background = "";

          // Save the setting
          const settingKey = window.activeHotkeySetting;
          saveSingleSetting(settingKey, keyName);

          // Update window.currentSettings
          if (!window.currentSettings) {
            window.currentSettings = {};
          }
          window.currentSettings[settingKey] = keyName;

          // Notify main process to re-register the shortcut
          if (window.electron && window.electron.updateGlobalHotkey) {
            window.electron.updateGlobalHotkey(settingKey, keyName);
          }

          // Update EZ mode display if EZ mode key was changed
          if (settingKey === "ez-mode-key") {
            updateEzModeHotkeyDisplay(keyName);
          }


          // Clear capture state
          window.activeHotkeyInput = null;
          window.activeHotkeySetting = null;
        }
      }, true);

      // Load hotkey preferences when opening settings
      async function loadHotkeyPreferences() {
        try {
          const settings = window.currentSettings || (await window.electron.loadSettings());

          const ghostModeInput = document.getElementById("ghostModeKeyInput");
          const ezModeInput = document.getElementById("ezModeKeyInput");

          if (ghostModeInput && settings["ghost-mode-key"]) {
            ghostModeInput.value = settings["ghost-mode-key"];
          }
          if (ezModeInput && settings["ez-mode-key"]) {
            ezModeInput.value = settings["ez-mode-key"];
          }

          // Also update the EZ mode UI display
          updateEzModeHotkeyDisplay(settings["ez-mode-key"] || "F7");
        } catch (error) {
          console.error("Error loading hotkey preferences:", error);
        }
      }

      // Update the EZ mode header to show current hotkey
      function updateEzModeHotkeyDisplay(hotkey) {
        const badge = document.getElementById("ez-mode-hotkey-badge");
        const hint = document.getElementById("ez-mode-hotkey-hint");

        if (badge) {
          badge.textContent = hotkey;
        }
        if (hint) {
          hint.textContent = `Press ${hotkey} to exit`;
        }
      }

      // Load and display hotkeys at startup
      async function loadAndDisplayHotkeys() {
        try {
          if (window.electron && window.electron.loadSettings) {
            const settings = await window.electron.loadSettings();
            if (settings["ez-mode-key"]) {
              updateEzModeHotkeyDisplay(settings["ez-mode-key"]);
            }
          }
        } catch (error) {
          console.error("Error loading hotkeys for display:", error);
        }
      }

      // Keybinds Popup Functions
      function openKeybindsPopup() {
        const popup = document.getElementById("keybinds-popup");
        popup.classList.add("active");
        // Re-initialize the visual keybinds for the popup
        initializeVisualKeybinds();
        // Load existing keybinds
        loadVisualKeybinds();
      }

      function closeKeybindsPopup() {
        const popup = document.getElementById("keybinds-popup");
        popup.classList.remove("active");
      }

      // Switch between Visual Layout and List View
      function switchInputMethod(method) {
        const visualContainer = document.querySelector(
          ".visual-keybinds-container-popup",
        );
        const listContainer = document.getElementById("list-view-container");
        const visualBtn = document.getElementById("visual-layout-btn");
        const listBtn = document.getElementById("list-view-btn");
        const statusText = document.getElementById("keybinds-status-text");

        if (method === "visual") {
          // Show visual layout, hide list view
          visualContainer.style.display = "flex";
          listContainer.style.display = "none";
          visualBtn.classList.add("active");
          listBtn.classList.remove("active");
          statusText.textContent = "Drag functions to keys or mouse buttons";
        } else if (method === "list") {
          // Show list view, hide visual layout
          visualContainer.style.display = "none";
          listContainer.style.display = "block";
          visualBtn.classList.remove("active");
          listBtn.classList.add("active");
          statusText.textContent = "Click on buttons to set keybinds";
          // Load current keybinds into list view
          loadListViewKeybinds();
        }
      }

      // Expose to window scope for onclick handlers
      window.switchInputMethod = switchInputMethod;

      // Load keybinds into list view buttons
      async function loadListViewKeybinds() {
        const keybindSettings = [
          "global-edit-key",
          "global-select-key",
          "global-place-key",
          "global-wall-key",
          "global-floor-key",
          "global-stair-key",
          "global-cone-key",
          "global-sprint-key",
          "global-pickup-key",
        ];

        try {
          // Load settings from electron
          const settings =
            window.currentSettings || (await window.electron.loadSettings());

          keybindSettings.forEach((setting) => {
            const value = settings[setting];
            const displayElement = document.getElementById(
              `${setting}-display`,
            );
            if (displayElement) {
              if (value && value !== "" && value !== "SELECT") {
                displayElement.textContent = normalizeKeyForDisplay(value);
              } else {
                displayElement.textContent = window.getTranslation('ui.notSet', 'Not Set');
              }
            }
          });
        } catch (error) {
          console.error("Error loading list view keybinds:", error);
        }
      }

      // Close modal when clicking outside
      document.addEventListener("click", function (event) {
        const modal = document.getElementById("settingsModal");
        if (event.target === modal) {
          closeSettings();
        }

        const keybindsPopup = document.getElementById("keybinds-popup");
        if (event.target === keybindsPopup) {
          closeKeybindsPopup();
        }
      });

      // Close keybinds popup when ESC key is pressed
      document.addEventListener("keydown", function (event) {
        if (event.key === "Escape") {
          const keybindsPopup = document.getElementById("keybinds-popup");
          if (keybindsPopup && keybindsPopup.classList.contains("active")) {
            closeKeybindsPopup();
          }
        }
      });

      function changeLanguage() {
        const select = document.getElementById("languageSelect");
        const language = select.value;

        // Update window.currentSettings immediately
        if (!window.currentSettings) {
          window.currentSettings = {};
        }
        window.currentSettings.preferredLanguage = language;

        // Save language preference to settings
        saveSingleSetting("preferredLanguage", language);

        // Also save to localStorage as backup
        localStorage.setItem("preferredLanguage", language);

        // Apply translations immediately for live update
        applyTranslations(language);

      }

      async function changePerformanceMode() {
        const select = document.getElementById("performanceModeSelect");
        const mode = select.value;


        if (window.electron && window.electron.setPerformanceMode) {
          try {
            // Show loading state
            const originalHTML = select.parentElement.innerHTML;
            const loadingMsg = document.createElement("div");
            loadingMsg.style.cssText =
              "margin-top: 8px; font-size: 10.8px; color: #00ff88; font-weight: 607;";
            loadingMsg.textContent = " Restarting macro engines...";
            select.parentElement.appendChild(loadingMsg);

            // Call the IPC to change performance mode
            const result = await window.electron.setPerformanceMode(mode);

            // Remove loading message
            loadingMsg.remove();

            if (result.success) {

              // Auto-restart macros that were running
              if (result.restartedMacros && result.restartedMacros.length > 0) {

                for (const type of result.restartedMacros) {
                  // Update the button state
                  const toggleBtn = document.getElementById(type + "-toggle");
                  const toggleText = document.getElementById(
                    type + "-toggle-text",
                  );
                  if (toggleBtn) {
                    toggleBtn.classList.add("active");
                  }
                  if (toggleText) {
                    toggleText.textContent = window.getTranslation('ui.stop', 'STOP');
                  }

                  // Update the visual indicator
                  const indicator = document.getElementById(
                    type + "-indicator",
                  );
                  if (indicator) {
                    indicator.classList.add("active");
                  }

                  // Update status text
                  const status = document.getElementById(type + "-status");
                  if (status) {
                    status.textContent =
                      "ACTIVE - Macro running (auto-restarted)";
                    const customColor =
                      localStorage.getItem("customColor") || "#dc2626";
                    status.style.color = customColor;
                  }

                  // Restart the runtime counter
                  if (window.startRuntimeCounter) {
                    window.startRuntimeCounter(type);
                  }
                }
              }

              // Process verification results
              if (result.verification) {

                // Check for verification errors or warnings
                const hasErrors =
                  result.verification.errors &&
                  result.verification.errors.length > 0;
                const hasWarnings =
                  result.verification.warnings &&
                  result.verification.warnings.length > 0;

                if (hasErrors || hasWarnings) {
                  // Show verification issues
                  const verificationMsg = document.createElement("div");
                  verificationMsg.style.cssText =
                    "margin-top: 8px; font-size: 10.8px; font-weight: 607; padding: 8px; background: rgba(255,165,0,0.1); border-left: 3px solid #ffa500; border-radius: 4px;";

                  let issueText = "";
                  if (hasErrors) {
                    issueText += ` Verification Issues:\n`;
                    result.verification.errors.forEach((err) => {
                      issueText += `   ${err}\n`;
                    });
                  }
                  if (hasWarnings) {
                    result.verification.warnings.forEach((warn) => {
                      issueText += `   ${warn}\n`;
                    });
                  }

                  verificationMsg.textContent = issueText.trim();
                  verificationMsg.style.color = "#ffa500";
                  verificationMsg.style.whiteSpace = "pre-line";
                  select.parentElement.appendChild(verificationMsg);

                  // Remove after 5 seconds
                  setTimeout(() => {
                    verificationMsg.remove();
                  }, 5000);
                } else if (result.verification.success) {
                }
              }

              // Show success notification
              const successMsg = document.createElement("div");
              successMsg.style.cssText =
                "margin-top: 8px; font-size: 10.8px; color: #00ff88; font-weight: 607;";
              let successText = ` Performance mode changed to ${mode.toUpperCase()}!`;
              if (result.restartedMacros && result.restartedMacros.length > 0) {
                successText += ` (${result.restartedMacros.length} macro${result.restartedMacros.length > 1 ? "s" : ""} auto-restarted)`;
              }
              // Add verification status to success message
              if (result.verification && result.verification.success) {
                successText += "  Verified";
              }
              successMsg.textContent = successText;
              select.parentElement.appendChild(successMsg);

              // Remove success message after 3 seconds
              setTimeout(() => {
                successMsg.remove();
              }, 3000);
            } else {
              console.error(
                " Failed to change performance mode:",
                result.error,
              );
              alert(
                "Failed to change performance mode: " +
                  (result.error || "Unknown error"),
              );
            }
          } catch (error) {
            console.error("Error changing performance mode:", error);
            alert("Error changing performance mode. Please try again.");
          }
        } else {
          console.error("Performance mode change not available");
        }
      }

      async function loadPerformanceModePreference() {
        if (window.electron && window.electron.getPerformanceMode) {
          try {
            const result = await window.electron.getPerformanceMode();
            const select = document.getElementById("performanceModeSelect");

            if (result.success && select) {
              select.value = result.mode || "high";
            }
          } catch (error) {
            console.error("Error loading performance mode:", error);
          }
        }
      }

      async function loadLanguagePreference() {
        // Try to load from settings first, fallback to localStorage, then default to 'en'
        let savedLanguage = "en";

        // Load settings directly if not already loaded
        try {
          if (!window.currentSettings && window.electron) {
            window.currentSettings = await window.electron.loadSettings();
          }
        } catch (error) {
          console.error("Error loading settings for language:", error);
        }

        if (
          window.currentSettings &&
          window.currentSettings.preferredLanguage
        ) {
          savedLanguage = window.currentSettings.preferredLanguage;
        } else {
          savedLanguage = localStorage.getItem("preferredLanguage") || "en";
        }

        const select = document.getElementById("languageSelect");
        if (select) {
          select.value = savedLanguage;
        }

        // Apply translations on load
        applyTranslations(savedLanguage);
      }

      async function updateLicenseInfo() {
        // Get real-time license info directly from KeyAuth
        if (window.electron && window.electron.getLicenseInfo) {
          try {
            const licenseData = await window.electron.getLicenseInfo();

            if (!licenseData.success) {
              // Handle authentication failures
              if (licenseData.banned) {
                displayLicenseError("Banned", "Your account has been banned");
              } else if (licenseData.removed) {
                displayLicenseError("Removed", "License has been removed");
              } else {
                displayLicenseError(
                  "Inactive",
                  licenseData.message || "Not authenticated",
                );
              }
              return;
            }

            displayLicenseInfo(licenseData);
          } catch (error) {
            console.error("Failed to get license info:", error);
            displayLicenseError("Error", "Failed to check license status");
          }
        } else {
          displayLicenseError("N/A", "License system not available");
        }
      }

      function displayLicenseInfo(licenseData) {
        const licenseDaysElement = document.getElementById("licenseDays");
        const licenseStatusElement = document.getElementById("licenseStatus");
        const licenseInfoElement = document.getElementById("licenseInfo");


        if (
          !licenseDaysElement ||
          !licenseStatusElement ||
          !licenseInfoElement
        ) {
          console.error("License display elements not found!");
          return;
        }

        if (!licenseData) {
          console.warn("No license data");
          licenseDaysElement.textContent = "N/A";
          licenseStatusElement.textContent = "Unknown";
          return;
        }

        // Log the license data for debugging
        console.log("[License] License data received:", licenseData);

        // KeyAuth can return expiry as Unix timestamp (in seconds) or date string
        // Parse and validate the expiry timestamp
        let expiryTimestamp;
        const expiryValue = licenseData.expirationDate || licenseData.expiry;

        if (!expiryValue) {
          console.warn("No expiration date in license data");
          licenseDaysElement.textContent = "N/A";
          licenseStatusElement.textContent = "Unknown";
          return;
        }

        // Try to parse as Unix timestamp first (KeyAuth typically returns seconds)
        const parsedInt = parseInt(expiryValue, 10);

        // Check if it's a valid Unix timestamp (reasonable range: 10 digits for seconds since epoch)
        // Unix timestamps for dates after year 2000 are > 946684800 (Jan 1, 2000)
        // and before year 2100 are < 4102444800 (Jan 1, 2100)
        if (!isNaN(parsedInt) && parsedInt > 946684800 && parsedInt < 4102444800) {
          expiryTimestamp = parsedInt;
        } else if (!isNaN(parsedInt) && parsedInt > 946684800000 && parsedInt < 4102444800000) {
          // Handle milliseconds timestamp (13 digits)
          expiryTimestamp = Math.floor(parsedInt / 1000);
        } else {
          // Try parsing as date string
          const parsedDate = new Date(expiryValue);
          if (!isNaN(parsedDate.getTime())) {
            expiryTimestamp = Math.floor(parsedDate.getTime() / 1000);
          } else {
            console.error("Could not parse expiry date:", expiryValue, "Type:", typeof expiryValue);
            licenseDaysElement.textContent = "N/A";
            licenseStatusElement.textContent = "Error";
            return;
          }
        }

        const now = Math.floor(Date.now() / 1000);
        const secondsRemaining = expiryTimestamp - now;
        
        // Calculate days remaining more accurately
        // Use Math.floor to get full days remaining (not rounded up)
        const daysRemaining = Math.floor(secondsRemaining / (60 * 60 * 24));

        // Log for debugging
        console.log("[License] Expiry timestamp:", expiryTimestamp);
        console.log("[License] Current timestamp:", now);
        console.log("[License] Seconds remaining:", secondsRemaining);
        console.log("[License] Days remaining:", daysRemaining);

        // Ensure we display a valid number
        const displayDays = daysRemaining > 0 ? daysRemaining : 0;
        licenseDaysElement.textContent = displayDays;


        // Save license days to settings for persistence
        saveSingleSetting("licenseDays", displayDays);
        saveSingleSetting("licenseExpirationDate", expiryTimestamp);

        if (daysRemaining <= 0) {
          licenseStatusElement.textContent = "Expired";
          licenseInfoElement.classList.add("license-expired");
        } else if (daysRemaining <= 7) {
          licenseStatusElement.textContent = "Expiring Soon";
          licenseInfoElement.classList.remove("license-expired");
        } else {
          licenseStatusElement.textContent = "Active";
          licenseInfoElement.classList.remove("license-expired");
        }
      }

      function displayLicenseError(status, message) {
        const licenseDaysElement = document.getElementById("licenseDays");
        const licenseStatusElement = document.getElementById("licenseStatus");
        const licenseInfoElement = document.getElementById("licenseInfo");

        licenseDaysElement.textContent = "0";
        licenseStatusElement.textContent = status;
        licenseInfoElement.classList.add("license-expired");

        console.error("License Error:", message);
      }

      // ============================================================================
      // KEYBOARD AUTO-RESIZE
      // ============================================================================

      // ============================================================================
      // INITIALIZATION
      // ============================================================================
      // Update titlebar affiliate text
      // ============================================================================
      function updateTitlebarAffiliate(isAffiliate) {
        const titlebarTitle = document.querySelector(".titlebar-title");
        const affiliateSpan = document.querySelector(".titlebar-affiliate");
        const macroSpan = document.querySelector(".titlebar-macro");
        
        if (titlebarTitle) {
          // Ensure Macro span exists with color
          if (!macroSpan) {
            // Check if "Macro" exists in text but not as a span
            const currentHTML = titlebarTitle.innerHTML;
            if (currentHTML.includes("Macro") && !currentHTML.includes("titlebar-macro")) {
              titlebarTitle.innerHTML = "<span class=\"vantrix-colored\">v</span><span class=\"j-white\">antrix.cc</span>";
            } else if (!currentHTML.includes("Macro")) {
              titlebarTitle.innerHTML = "<span class=\"vantrix-colored\">v</span><span class=\"j-white\">antrix.cc</span>";
            }
          }
          
          if (isAffiliate) {
            // Show affiliate text
            if (!affiliateSpan) {
              // Create affiliate span if it doesn't exist
              const span = document.createElement("span");
              span.className = "titlebar-affiliate";
              span.textContent = " affiliate";
              titlebarTitle.appendChild(span);
            } else {
              affiliateSpan.style.display = "inline";
            }
          } else {
            // Hide affiliate text
            if (affiliateSpan) {
              affiliateSpan.style.display = "none";
            }
            // Ensure title shows "vantrix.cc"
            titlebarTitle.innerHTML = "<span class=\"vantrix-colored\">v</span><span class=\"j-white\">antrix.cc</span>";
          }
        }
      }

      // ============================================================================
      window.addEventListener("DOMContentLoaded", () => {
        // Initialize UI particles - DISABLED
        // createUIParticles();
        // Initialize Vantrix Macro UI

        // Client-side anti-debugging protection disabled - DevTools allowed
        // if (window.clientAntiDebug && typeof window.clientAntiDebug.startProtection === "function") {
        //   try {
        //     window.clientAntiDebug.startProtection();
        //     console.log("[Security] Client-side anti-debugging protection activated");
        //   } catch (error) {
        //     console.error("[Security] Failed to activate client-side protection:", error);
        //   }
        // }

        // Check if user is affiliate on page load
        const isAffiliate = localStorage.getItem("Vantrix_is_affiliate") === "true";
        updateTitlebarAffiliate(isAffiliate);

        // createParticles(); // Disabled - removed dots/lines
        // createAboutParticles(); // Disabled - removed dots/lines

        // Check license on load - this will show the auth screen
        checkLicenseOnLoad();

        // Load saved custom color
        loadCustomColor();

        // Load language preference and apply translations
        loadLanguagePreference();

        // Load performance mode preference
        loadPerformanceModeUI();

        // Load and display configured hotkeys (for EZ mode badge)
        loadAndDisplayHotkeys();

        // Initialize visual keybinds drag-and-drop
        initializeVisualKeybinds();

        // Check and show theme popup if needed
        checkThemePopup();


        // F10 key listener (removed minimizeToTray - no tray icon)
        document.addEventListener("keydown", (e) => {
          if (e.key === "F10") {
            e.preventDefault();
            // F10 is handled by Ghost Mode shortcut in main process
          }
        });

        // ========== ADVANCED PROFESSIONAL FEATURES ==========

        // Keyboard shortcuts system
        initializeKeyboardShortcuts();

        // Initialize command palette
        initializeCommandPalette();

        // Initialize enhanced tooltips
        initializeEnhancedTooltips();

        // Initialize quick actions
        initializeQuickActions();

      });

      // ========== COMMAND PALETTE ==========
      function initializeCommandPalette() {
        // Create command palette HTML
        const paletteHTML = `
        <div id="command-palette" class="command-palette" style="display: none;">
            <div class="command-palette-backdrop" onclick="closeCommandPalette()"></div>
            <div class="command-palette-modal">
                <div class="command-palette-search">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd"/>
                    </svg>
                    <input type="text" id="command-palette-input" placeholder="Type a command or search..." autocomplete="off">
                    <kbd>ESC</kbd>
                </div>
                <div class="command-palette-results" id="command-palette-results"></div>
            </div>
        </div>
    `;
        document.body.insertAdjacentHTML("beforeend", paletteHTML);

        // Add styles
        const paletteStyles = document.createElement("style");
        paletteStyles.textContent = `
        .command-palette {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 100000;
            display: flex;
            align-items: flex-start;
            justify-content: center;
            padding-top: 15vh;
            animation: fadeIn 0.15s ease;
        }

        .command-palette-backdrop {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(32, 32, 32, 0.7), rgba(16, 16, 16, 0.7), rgba(0, 0, 0, 0.7));
            backdrop-filter: blur(5.2px);
        }

        .command-palette-modal {
            position: relative;
            width: 90%;
            max-width: 640px;
            background: linear-gradient(145deg, rgba(20, 20, 20, 0.98), rgba(15, 15, 15, 0.99));
            border: 1px solid #1a1a1a;
            border-radius: 16px;
            box-shadow: 0 25px 70px rgba(0, 0, 0, 0.8), 0 0 0 1px #0d0d0d inset;
            overflow: hidden;
            animation: slideDown 0.2s ease;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-20px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .command-palette-search {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 20px;
            border-bottom: 1px solid #141414;
        }

        .command-palette-search svg {
            color: #666666;
            flex-shrink: 0;
        }

        .command-palette-search input {
            flex: 1;
            background: #000000;
            border: none;
            outline: none;
            color: #fff;
            font-size: 16px;
            font-weight: 500;
        }

        .command-palette-search input::placeholder {
            color: #4d4d4d;
        }

        .command-palette-search kbd {
            background: #1a1a1a;
            border: 1px solid #262626;
            border-radius: 6.9px;
            padding: 4px 8px;
            font-size: 11px;
            font-weight: 600;
            color: #808080;
        }

        .command-palette-results {
            max-height: 400px;
            overflow-y: auto;
            padding: 8px;
        }

        .command-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 16px;
            border-radius: 9.2px;
            cursor: pointer;
            transition: all 0.15s;
        }

        .command-item:hover, .command-item.selected {
            background: rgba(var(--custom-color-rgb), 0.15);
        }

        .command-item-icon {
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #0d0d0d;
            border-radius: 6.9px;
            font-size: 16px;
        }

        .command-item-content {
            flex: 1;
        }

        .command-item-title {
            font-size: 14px;
            font-weight: 600;
            color: #fff;
            margin-bottom: 2px;
        }

        .command-item-description {
            font-size: 12px;
            color: #808080;
        }

        .command-item-shortcut {
            display: flex;
            gap: 4px;
        }

        .command-item-shortcut kbd {
            background: #141414;
            border: 1px solid #1a1a1a;
            border-radius: 6.9px;
            padding: 2px 6px;
            font-size: 10px;
            font-weight: 600;
            color: #808080;
        }
    `;
        document.head.appendChild(paletteStyles);

        // Command definitions
        const commands = [
          {
            id: "tab-main",
            icon: "",
            title: "Go to Main",
            description: "Main dashboard",
            action: () => switchTab(0),
            keywords: ["home", "main", "dashboard"],
          },
          {
            id: "tab-drag",
            icon: "",
            title: "Go to Drag Edit",
            description: "Drag edit macro settings",
            action: () => switchTab(1),
            keywords: ["drag", "edit"],
          },
          {
            id: "tab-build",
            icon: "",
            title: "Go to Instant Build",
            description: "Build macro settings",
            action: () => switchTab(2),
            keywords: ["build", "turbo"],
          },
          {
            id: "tab-double",
            icon: "",
            title: "Go to Double Edit",
            description: "Double edit macro settings",
            action: () => switchTab(3),
            keywords: ["double", "edit"],
          },
          {
            id: "tab-pickup",
            icon: "",
            title: "Go to Pickup",
            description: "Pickup macro settings",
            action: () => switchTab(4),
            keywords: ["pickup", "spam"],
          },
          {
            id: "tab-shotgun",
            icon: "",
            title: "Go to Shotgun",
            description: "Shotgun macro settings",
            action: () => switchTab(5),
            keywords: ["shotgun"],
          },
          {
            id: "tab-crouch",
            icon: "",
            title: "Go to Crouch Spam",
            description: "Crouch spam macro",
            action: () => switchTab(6),
            keywords: ["crouch", "spam"],
          },
          {
            id: "tab-help",
            icon: "",
            title: "Go to Help",
            description: "Help and support",
            action: () => switchTab(7),
            keywords: ["help", "support"],
          },
          {
            id: "disable-all",
            icon: "",
            title: "Disable All Macros",
            description: "Emergency stop all",
            action: disableAllMacros,
            keywords: ["stop", "disable", "emergency"],
          },
          {
            id: "settings",
            icon: "",
            title: "Open Settings",
            description: "Application settings",
            action: openSettings,
            keywords: ["settings", "config"],
          },
          {
            id: "keybinds",
            icon: "",
            title: "Change Keybinds",
            description: "Edit keybindings",
            action: openKeybindsPopup,
            keywords: ["keybinds", "keys", "binds"],
          },
          {
            id: "minimize",
            icon: "",
            title: "Minimize Window",
            description: "Minimize to taskbar",
            action: minimizeWindow,
            keywords: ["minimize", "hide"],
          },
        ];

        let selectedIndex = 0;
        let filteredCommands = commands;

        const input = document.getElementById("command-palette-input");
        const results = document.getElementById("command-palette-results");

        input.addEventListener("input", (e) => {
          const query = e.target.value.toLowerCase().trim();
          filteredCommands = commands.filter(
            (cmd) =>
              cmd.title.toLowerCase().includes(query) ||
              cmd.description.toLowerCase().includes(query) ||
              cmd.keywords.some((k) => k.includes(query)),
          );
          selectedIndex = 0;
          renderResults();
        });

        input.addEventListener("keydown", (e) => {
          if (e.key === "ArrowDown") {
            e.preventDefault();
            selectedIndex = Math.min(
              selectedIndex + 1,
              filteredCommands.length - 1,
            );
            renderResults();
          } else if (e.key === "ArrowUp") {
            e.preventDefault();
            selectedIndex = Math.max(selectedIndex - 1, 0);
            renderResults();
          } else if (e.key === "Enter") {
            e.preventDefault();
            if (filteredCommands[selectedIndex]) {
              filteredCommands[selectedIndex].action();
              closeCommandPalette();
            }
          } else if (e.key === "Escape") {
            closeCommandPalette();
          }
        });

        function renderResults() {
          results.innerHTML = filteredCommands
            .map(
              (cmd, idx) => `
            <div class="command-item ${idx === selectedIndex ? "selected" : ""}" onclick="executeCommand('${cmd.id}')">
                <div class="command-item-icon">${cmd.icon}</div>
                <div class="command-item-content">
                    <div class="command-item-title">${cmd.title}</div>
                    <div class="command-item-description">${cmd.description}</div>
                </div>
            </div>
        `,
            )
            .join("");
        }

        window.executeCommand = (id) => {
          const cmd = commands.find((c) => c.id === id);
          if (cmd) {
            cmd.action();
            closeCommandPalette();
          }
        };

        window.openCommandPalette = () => {
          const palette = document.getElementById("command-palette");
          palette.style.display = "flex";
          input.value = "";
          filteredCommands = commands;
          selectedIndex = 0;
          renderResults();
          setTimeout(() => input.focus(), 50);
        };

        window.closeCommandPalette = () => {
          document.getElementById("command-palette").style.display = "none";
        };

        // Initial render
        renderResults();
      }

      // ========== KEYBOARD SHORTCUTS ==========
      function initializeKeyboardShortcuts() {
        document.addEventListener("keydown", (e) => {
          // Command Palette: Ctrl+K or Cmd+K
          if ((e.ctrlKey || e.metaKey) && e.key === "k") {
            e.preventDefault();
            openCommandPalette();
          }
          // Tab shortcuts: Ctrl+1-8 or Cmd+1-8
          else if ((e.ctrlKey || e.metaKey) && e.key >= "1" && e.key <= "8") {
            e.preventDefault();
            switchTab(parseInt(e.key) - 1);
          }
          // Quick disable all: Ctrl+Shift+D
          else if (e.ctrlKey && e.shiftKey && e.key === "D") {
            e.preventDefault();
            disableAllMacros();
          }
          // Settings: Ctrl+, or Cmd+,
          else if ((e.ctrlKey || e.metaKey) && e.key === ",") {
            e.preventDefault();
            openSettings();
          }
        });

      }

      // ========== ENHANCED TOOLTIPS ==========
      function initializeEnhancedTooltips() {
        // Add tooltips to tabs
        const tabsData = [
          { index: 0, text: "Main Dashboard (Ctrl+1)", key: "1" },
          { index: 1, text: "Drag Edit Macro (Ctrl+2)", key: "2" },
          { index: 2, text: "Instant Build Macro (Ctrl+3)", key: "3" },
          { index: 3, text: "Double Edit Macro (Ctrl+4)", key: "4" },
          { index: 4, text: "Pickup Macro (Ctrl+5)", key: "5" },
          { index: 5, text: "Shotgun Macro (Ctrl+6)", key: "6" },
          { index: 6, text: "Crouch Spam (Ctrl+7)", key: "7" },
          { index: 7, text: "Help & Support (Ctrl+8)", key: "8" },
        ];

        const tabs = document.querySelectorAll(".tabs .tab");
        tabs.forEach((tab, index) => {
          if (tabsData[index]) {
            tab.setAttribute("title", tabsData[index].text);
            tab.setAttribute("data-tooltip", tabsData[index].text);
          }
        });

        // Add tooltip to settings icon
        const settingsIcon = document.querySelector(".settings-icon");
        if (settingsIcon) {
          settingsIcon.setAttribute("title", "Settings (Ctrl+,)");
          settingsIcon.setAttribute("data-tooltip", "Settings (Ctrl+,)");
        }

      }

      // ========== QUICK ACTIONS ==========
      function initializeQuickActions() {
        // Add quick action hints
        const quickActionsHTML = `
        <div class="quick-actions-hint" style="
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(20, 20, 20, 0.95);
            border: 1px solid #1a1a1a;
            border-radius: 8.05px;
            padding: 12px 16px;
            font-size: 11px;
            color: #999999;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.5);
            z-index: 9999;
            opacity: 0;
            transition: opacity 0.3s;
            pointer-events: none;
        ">
            <div style="font-weight: 600; margin-bottom: 6px; color: var(--custom-color);"> Keyboard Shortcuts</div>
            <div style="display: flex; gap: 8px; align-items: center; margin-bottom: 4px;">
                <kbd style="background: #1a1a1a; padding: 2px 6px; border-radius: 4px; font-size: 10px;">Ctrl+K</kbd>
                <span>Command Palette</span>
            </div>
            <div style="display: flex; gap: 8px; align-items: center; margin-bottom: 4px;">
                <kbd style="background: #1a1a1a; padding: 2px 6px; border-radius: 4px; font-size: 10px;">Ctrl+1-8</kbd>
                <span>Switch Tabs</span>
            </div>
            <div style="display: flex; gap: 8px; align-items: center;">
                <kbd style="background: #1a1a1a; padding: 2px 6px; border-radius: 4px; font-size: 10px;">Ctrl+Shift+D</kbd>
                <span>Disable All</span>
            </div>
        </div>
    `;

        document.body.insertAdjacentHTML("beforeend", quickActionsHTML);

        const hint = document.querySelector(".quick-actions-hint");

        // Show hint on ? key
        document.addEventListener("keydown", (e) => {
          if (
            e.key === "?" &&
            !e.ctrlKey &&
            !e.metaKey &&
            document.activeElement.tagName !== "INPUT"
          ) {
            e.preventDefault();
            hint.style.opacity = "1";
            hint.style.pointerEvents = "auto";

            setTimeout(() => {
              hint.style.opacity = "0";
              hint.style.pointerEvents = "none";
            }, 5000);
          }
        });

      }

      // ============================================================================
      // LOADING SCREEN RAINDROPS
      // ============================================================================
      (function initRaindrops() {
        const container = document.getElementById('raindrops-container');
        if (!container) return;

        const loadingScreen = document.getElementById('loading-screen');
        if (!loadingScreen) return;

        const numRaindrops = 30;
        let raindrops = [];

        function createRaindrop() {
          const raindrop = document.createElement('div');
          raindrop.className = 'raindrop';
          raindrop.style.left = Math.random() * 100 + '%';
          raindrop.style.animationDuration = (Math.random() * 2 + 1.5) + 's';
          raindrop.style.animationDelay = Math.random() * 0.5 + 's';
          raindrop.style.opacity = (Math.random() * 0.2 + 0.1).toString();
          container.appendChild(raindrop);
          raindrops.push(raindrop);

          // Remove raindrop after animation completes
          setTimeout(() => {
            if (raindrop.parentNode) {
              raindrop.parentNode.removeChild(raindrop);
            }
            const index = raindrops.indexOf(raindrop);
            if (index > -1) {
              raindrops.splice(index, 1);
            }
          }, 4000);
        }

        // Create initial raindrops
        for (let i = 0; i < numRaindrops; i++) {
          setTimeout(() => createRaindrop(), i * 100);
        }

        // Continuously create new raindrops
        setInterval(() => {
          if (raindrops.length < numRaindrops && loadingScreen && !loadingScreen.classList.contains('fade-out')) {
            createRaindrop();
          }
        }, 200);
      })();

      // ============================================================================
      // LOADING SCREEN CONSTELLATION ANIMATION
      // ============================================================================
      // STARFIELD BACKGROUND WITH GRID
      // ============================================================================
      (function initLoadingStarfield() {
        const canvas = document.getElementById('loading-constellation-canvas');
        if (!canvas) return;

        const ctx = canvas.getContext('2d');
        let animationId;
        let stars = [];
        const numStars = 200; // More stars for starfield effect
        const gridSize = 80; // Grid cell size

        // Resize canvas
        function resizeCanvas() {
          const loadingScreen = document.getElementById('loading-screen');
          if (!loadingScreen) return;
          canvas.width = loadingScreen.offsetWidth;
          canvas.height = loadingScreen.offsetHeight;
          initStars();
        }

        // Get color palette from CSS
        function getColorPalette() {
          const root = getComputedStyle(document.documentElement);
          const color = root.getPropertyValue('--custom-color').trim();
          const colorRgb = root.getPropertyValue('--custom-color-rgb').trim();
          const colorLight = root.getPropertyValue('--custom-color-light').trim();
          
          // Parse RGB values
          const rgbMatch = colorRgb.match(/(\d+),\s*(\d+),\s*(\d+)/);
          if (rgbMatch) {
            return {
              r: parseInt(rgbMatch[1]),
              g: parseInt(rgbMatch[2]),
              b: parseInt(rgbMatch[3])
            };
          }
          return { r: 220, g: 38, b: 38 }; // Default red
        }

        // Star class - some stars are colored by palette
        class Star {
          constructor() {
            this.isColored = Math.random() < 0.25; // 25% of stars are colored
            this.reset();
          }

          reset() {
            this.x = Math.random() * canvas.width;
            this.y = Math.random() * canvas.height;
            this.radius = Math.random() * 1.5 + 0.5; // Small white dots
            this.opacity = Math.random() * 0.5 + 0.5;
          }

          draw() {
            const palette = getColorPalette();
            ctx.beginPath();
            ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
            
            if (this.isColored) {
              ctx.fillStyle = `rgba(${palette.r}, ${palette.g}, ${palette.b}, ${this.opacity})`;
            } else {
              ctx.fillStyle = `rgba(255, 255, 255, ${this.opacity})`;
            }
            ctx.fill();
          }
        }

        function initStars() {
          stars = [];
          for (let i = 0; i < numStars; i++) {
            stars.push(new Star());
          }
        }

        function drawGrid() {
          ctx.strokeStyle = 'rgba(40, 40, 40, 0.3)'; // Dark gray grid lines
          ctx.lineWidth = 1;

          // Vertical lines
          for (let x = 0; x <= canvas.width; x += gridSize) {
            ctx.beginPath();
            ctx.moveTo(x, 0);
            ctx.lineTo(x, canvas.height);
            ctx.stroke();
          }

          // Horizontal lines
          for (let y = 0; y <= canvas.height; y += gridSize) {
            ctx.beginPath();
            ctx.moveTo(0, y);
            ctx.lineTo(canvas.width, y);
            ctx.stroke();
          }
        }

        function animate() {
          const loadingScreen = document.getElementById('loading-screen');
          if (!loadingScreen || loadingScreen.classList.contains('fade-out')) {
            cancelAnimationFrame(animationId);
            return;
          }

          // Clear with black background
          ctx.fillStyle = '#000000';
          ctx.fillRect(0, 0, canvas.width, canvas.height);

          // Draw grid
          drawGrid();

          // Draw stars
          stars.forEach(star => {
            star.draw();
          });

          animationId = requestAnimationFrame(animate);
        }

        window.addEventListener('resize', resizeCanvas);

        // Start immediately
        resizeCanvas();
        animate();

      })();

      // ============================================================================
      // STARFIELD BACKGROUND WITH GRID - MAIN UI (WITH CURSOR INTERACTION)
      // ============================================================================
      (function initMainStarfield() {
        // Wait for DOM to be ready
        function startStarfield() {
          const canvas = document.getElementById('constellation-canvas');
          if (!canvas) {
            setTimeout(startStarfield, 100);
            return;
          }

          const ctx = canvas.getContext('2d');
          if (!ctx) {
            setTimeout(startStarfield, 100);
            return;
          }

          let animationId = null;
          let stars = [];
          const numStars = 250; // More stars for better effect
          const gridSize = 80;

          // Get color palette from CSS
          function getColorPalette() {
            const root = getComputedStyle(document.documentElement);
            const colorRgb = root.getPropertyValue('--custom-color-rgb').trim();
            const rgbMatch = colorRgb.match(/(\d+),\s*(\d+),\s*(\d+)/);
            if (rgbMatch) {
              return {
                r: parseInt(rgbMatch[1]),
                g: parseInt(rgbMatch[2]),
                b: parseInt(rgbMatch[3])
              };
            }
            return { r: 220, g: 38, b: 38 }; // Default red
          }

          // Star class with cursor interaction
          class Star {
            constructor() {
              this.isColored = Math.random() < 0.25; // 25% of stars are colored
              this.baseRadius = Math.random() * 1.5 + 0.5;
              this.baseX = 0;
              this.baseY = 0;
              this.x = 0;
              this.y = 0;
              this.vx = 0;
              this.vy = 0;
              this.opacity = Math.random() * 0.5 + 0.5;
              this.reset();
            }

            reset() {
              this.baseX = Math.random() * canvas.width;
              this.baseY = Math.random() * canvas.height;
              this.x = this.baseX;
              this.y = this.baseY;
              this.vx = 0;
              this.vy = 0;
            }

            update() {
              // Keep stars in their base positions - no cursor interaction
              this.x = this.baseX;
              this.y = this.baseY;
              this.vx = 0;
              this.vy = 0;
            }

            draw() {
              let currentRadius = this.baseRadius;
              let glowIntensity = 1;

              const palette = getColorPalette();
              
              // Draw glow effect
              if (glowIntensity > 1) {
                const gradient = ctx.createRadialGradient(
                  this.x, this.y, 0,
                  this.x, this.y, currentRadius * 2
                );
                if (this.isColored) {
                  gradient.addColorStop(0, `rgba(${palette.r}, ${palette.g}, ${palette.b}, ${this.opacity * glowIntensity * 0.5})`);
                } else {
                  gradient.addColorStop(0, `rgba(255, 255, 255, ${this.opacity * glowIntensity * 0.5})`);
                }
                gradient.addColorStop(1, 'rgba(255, 255, 255, 0)');
                
                ctx.beginPath();
                ctx.arc(this.x, this.y, currentRadius * 2, 0, Math.PI * 2);
                ctx.fillStyle = gradient;
                ctx.fill();
              }

              // Draw star
              ctx.beginPath();
              ctx.arc(this.x, this.y, currentRadius, 0, Math.PI * 2);
              if (this.isColored) {
                ctx.fillStyle = `rgba(${palette.r}, ${palette.g}, ${palette.b}, ${this.opacity * glowIntensity})`;
              } else {
                ctx.fillStyle = `rgba(255, 255, 255, ${this.opacity * glowIntensity})`;
              }
              ctx.fill();
            }
          }

          function initStars() {
            stars = [];
            for (let i = 0; i < numStars; i++) {
              stars.push(new Star());
            }
          }

          function drawGrid() {
            ctx.strokeStyle = 'rgba(40, 40, 40, 0.3)';
            ctx.lineWidth = 1;

            for (let x = 0; x <= canvas.width; x += gridSize) {
              ctx.beginPath();
              ctx.moveTo(x, 0);
              ctx.lineTo(x, canvas.height);
              ctx.stroke();
            }

            for (let y = 0; y <= canvas.height; y += gridSize) {
              ctx.beginPath();
              ctx.moveTo(0, y);
              ctx.lineTo(canvas.width, y);
              ctx.stroke();
            }
          }

          function resizeCanvas() {
            const heroCard = document.querySelector('.hero-card');
            const mainLayout = document.querySelector('.main-layout');
            
            if (heroCard && heroCard.offsetWidth > 0) {
              canvas.width = heroCard.offsetWidth;
              canvas.height = heroCard.offsetHeight || mainLayout?.offsetHeight || 600;
            } else if (mainLayout && mainLayout.offsetWidth > 0) {
              canvas.width = mainLayout.offsetWidth - 194;
              canvas.height = mainLayout.offsetHeight || 600;
            } else {
              canvas.width = 600;
              canvas.height = 600;
            }
            
            if (canvas.width > 0 && canvas.height > 0) {
              initStars();
            }
          }

          function animate() {
            ctx.fillStyle = '#000000';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            drawGrid();
            
            // Update and draw stars
            stars.forEach(star => {
              star.update();
              star.draw();
            });
            
            animationId = requestAnimationFrame(animate);
          }

          // Mouse tracking
          // Mouse interaction removed - stars stay static

          // Initialize
          resizeCanvas();
          animate();

          // Handle resize
          window.addEventListener('resize', () => {
            resizeCanvas();
          });
        }

        // Start when ready
        if (document.readyState === 'loading') {
          document.addEventListener('DOMContentLoaded', startStarfield);
        } else {
          startStarfield();
        }

        // Also try after a delay
        setTimeout(startStarfield, 500);
        window.addEventListener('load', () => setTimeout(startStarfield, 500));

      })();

      // ============================================================================
      // STARFIELD BACKGROUND FOR TABS CONTAINER
      // ============================================================================
      (function initTabsStarfield() {
        function startTabsStarfield() {
          const canvas = document.getElementById('tabs-starfield-canvas');
          if (!canvas) {
            setTimeout(startTabsStarfield, 100);
            return;
          }

          const ctx = canvas.getContext('2d');
          if (!ctx) {
            setTimeout(startTabsStarfield, 100);
            return;
          }

          let animationId = null;
          let stars = [];
          const numStars = 150;
          const gridSize = 80;

          // Get color palette from CSS
          function getColorPalette() {
            const root = getComputedStyle(document.documentElement);
            const colorRgb = root.getPropertyValue('--custom-color-rgb').trim();
            const rgbMatch = colorRgb.match(/(\d+),\s*(\d+),\s*(\d+)/);
            if (rgbMatch) {
              return {
                r: parseInt(rgbMatch[1]),
                g: parseInt(rgbMatch[2]),
                b: parseInt(rgbMatch[3])
              };
            }
            return { r: 220, g: 38, b: 38 }; // Default red
          }

          // Star class - some stars are colored by palette
          class Star {
            constructor() {
              this.isColored = Math.random() < 0.25; // 25% of stars are colored
              this.reset();
              this.vx = (Math.random() - 0.5) * 0.15; // Horizontal velocity (slower)
              this.vy = (Math.random() - 0.5) * 0.15; // Vertical velocity (slower)
              this.baseOpacity = Math.random() * 0.5 + 0.5;
              this.opacity = this.baseOpacity;
              this.twinkleSpeed = Math.random() * 0.02 + 0.01;
              this.twinklePhase = Math.random() * Math.PI * 2;
            }

            reset() {
              this.x = Math.random() * canvas.width;
              this.y = Math.random() * canvas.height;
              this.radius = Math.random() * 1.5 + 0.5;
            }

            update() {
              // Move star
              this.x += this.vx;
              this.y += this.vy;

              // Wrap around edges
              if (this.x < 0) this.x = canvas.width;
              if (this.x > canvas.width) this.x = 0;
              if (this.y < 0) this.y = canvas.height;
              if (this.y > canvas.height) this.y = 0;

              // Twinkle effect
              this.twinklePhase += this.twinkleSpeed;
              this.opacity = this.baseOpacity + Math.sin(this.twinklePhase) * 0.2;
              this.opacity = Math.max(0.3, Math.min(1, this.opacity));
            }

            draw() {
              const palette = getColorPalette();
              ctx.beginPath();
              ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
              
              if (this.isColored) {
                ctx.fillStyle = `rgba(${palette.r}, ${palette.g}, ${palette.b}, ${this.opacity})`;
              } else {
                ctx.fillStyle = `rgba(255, 255, 255, ${this.opacity})`;
              }
              ctx.fill();
            }
          }

          function initStars() {
            stars = [];
            for (let i = 0; i < numStars; i++) {
              stars.push(new Star());
            }
          }

          function drawGrid() {
            ctx.strokeStyle = 'rgba(40, 40, 40, 0.3)';
            ctx.lineWidth = 1;

            // Vertical lines
            for (let x = 0; x <= canvas.width; x += gridSize) {
              ctx.beginPath();
              ctx.moveTo(x, 0);
              ctx.lineTo(x, canvas.height);
              ctx.stroke();
            }

            // Horizontal lines
            for (let y = 0; y <= canvas.height; y += gridSize) {
              ctx.beginPath();
              ctx.moveTo(0, y);
              ctx.lineTo(canvas.width, y);
              ctx.stroke();
            }
          }

          function resizeCanvas() {
            const tabs = document.querySelector('.tabs');
            if (!tabs) {
              setTimeout(resizeCanvas, 100);
              return;
            }
            
            const rect = tabs.getBoundingClientRect();
            canvas.width = rect.width;
            canvas.height = rect.height;
            
            if (canvas.width > 0 && canvas.height > 0) {
              initStars();
            } else {
              setTimeout(resizeCanvas, 100);
            }
          }

          function animate() {
            ctx.fillStyle = '#000000';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            drawGrid();
            
            stars.forEach(star => {
              star.update();
              star.draw();
            });
            
            animationId = requestAnimationFrame(animate);
          }

          // Initialize
          resizeCanvas();
          animate();

          // Handle resize
          window.addEventListener('resize', () => {
            resizeCanvas();
          });
        }

        // Start when ready
        if (document.readyState === 'loading') {
          document.addEventListener('DOMContentLoaded', startTabsStarfield);
        } else {
          startTabsStarfield();
        }

        // Also try after a delay
        setTimeout(startTabsStarfield, 500);
        window.addEventListener('load', () => setTimeout(startTabsStarfield, 500));

      })();
    </script>
    <script src="renderer.js"></script>

    <!-- Anti-Debugging Protection -->
    <script src="anti-debug-client.js"></script>
  </body>
</html>